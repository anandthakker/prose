!function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);this.CodeMirror=e()}}(function(){"use strict";function e(n,r){if(!(this instanceof e))return new e(n,r);this.options=r=r?ga(r):{},ga(jo,r,!1),f(r);var i=r.value;"string"==typeof i&&(i=new ns(i,r.mode)),this.doc=i;var a=this.display=new t(n,i);a.wrapper.CodeMirror=this,c(this),s(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),r.autofocus&&!lo&&Cn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new ca,keySeq:null},Ja&&11>Za&&setTimeout(va(_n,this,!0),20),Ln(this),Aa(),Zt(this),this.curOp.forceUpdate=!0,Mi(this,i),r.autofocus&&!lo||Ca()==a.input?setTimeout(va(Zn,this),20):Qn(this);for(var o in Do)Do.hasOwnProperty(o)&&Do[o](this,r[o],Io);b(this);for(var l=0;l<qo.length;++l)qo[l](this);en(this)}function t(e,t){var n=this,r=n.input=xa("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");Qa?r.style.width="1000px":r.setAttribute("wrap","off"),so&&(r.style.border="1px solid black"),r.setAttribute("autocorrect","off"),r.setAttribute("autocapitalize","off"),r.setAttribute("spellcheck","false"),n.inputDiv=xa("div",[r],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),n.scrollbarH=xa("div",[xa("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar"),n.scrollbarV=xa("div",[xa("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),n.scrollbarFiller=xa("div",null,"CodeMirror-scrollbar-filler"),n.gutterFiller=xa("div",null,"CodeMirror-gutter-filler"),n.lineDiv=xa("div",null,"CodeMirror-code"),n.selectionDiv=xa("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=xa("div",null,"CodeMirror-cursors"),n.measure=xa("div",null,"CodeMirror-measure"),n.lineMeasure=xa("div",null,"CodeMirror-measure"),n.lineSpace=xa("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=xa("div",[xa("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=xa("div",[n.mover],"CodeMirror-sizer"),n.heightForcer=xa("div",null,null,"position: absolute; height: "+ds+"px; width: 1px;"),n.gutters=xa("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=xa("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=xa("div",[n.inputDiv,n.scrollbarH,n.scrollbarV,n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),Ja&&8>Za&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),so&&(r.style.width="0px"),Qa||(n.scroller.draggable=!0),io&&(n.inputDiv.style.height="1px",n.inputDiv.style.position="absolute"),Ja&&8>Za&&(n.scrollbarH.style.minHeight=n.scrollbarV.style.minWidth="18px"),e&&(e.appendChild?e.appendChild(n.wrapper):e(n.wrapper)),n.viewFrom=n.viewTo=t.first,n.view=[],n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.prevInput="",n.alignWidgets=!1,n.pollingFast=!1,n.poll=new ca,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.inaccurateSelection=!1,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),r(t)}function r(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,xt(e,100),e.state.modeGen++,e.curOp&&pn(e)}function i(e){e.options.lineWrapping?(Ls(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth=""):(Es(e.display.wrapper,"CodeMirror-wrap"),d(e)),o(e),pn(e),Ht(e),setTimeout(function(){g(e)},100)}function a(e){var t=Xt(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Jt(e.display)-3);return function(i){if(ri(e.doc,i))return 0;var a=0;if(i.widgets)for(var o=0;o<i.widgets.length;o++)i.widgets[o].height&&(a+=i.widgets[o].height);return n?a+(Math.ceil(i.text.length/r)||1)*t:a+t}}function o(e){var t=e.doc,n=a(e);t.iter(function(e){var t=n(e);t!=e.height&&Ii(e,t)})}function s(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ht(e)}function l(e){c(e),pn(e),setTimeout(function(){y(e)},20)}function c(e){var t=e.display.gutters,n=e.options.gutters;ka(t);for(var r=0;r<n.length;++r){var i=n[r],a=t.appendChild(xa("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=a,a.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",u(e)}function u(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px",e.display.scrollbarH.style.left=e.options.fixedGutter?t+"px":0}function h(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Xr(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=Jr(r);){var i=t.find(0,!0);n-=r.text.length-i.from.ch,r=i.to.line,n+=r.text.length-i.to.ch}return n}function d(e){var t=e.display,n=e.doc;t.maxLine=Ni(n,n.first),t.maxLineLength=h(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=h(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function f(e){var t=fa(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function p(e){return e.display.scroller.clientHeight-e.display.wrapper.clientHeight<ds-3}function m(e){var t=e.display.scroller;return{clientHeight:t.clientHeight,barHeight:e.display.scrollbarV.clientHeight,scrollWidth:t.scrollWidth,clientWidth:t.clientWidth,hScrollbarTakesSpace:p(e),barWidth:e.display.scrollbarH.clientWidth,docHeight:Math.round(e.doc.height+Tt(e.display))}}function g(e,t){t||(t=m(e));var n=e.display,r=Na(n.measure),i=t.docHeight+ds,a=t.scrollWidth>t.clientWidth;a&&t.scrollWidth<=t.clientWidth+1&&r>0&&!t.hScrollbarTakesSpace&&(a=!1);var o=i>t.clientHeight;if(o?(n.scrollbarV.style.display="block",n.scrollbarV.style.bottom=a?r+"px":"0",n.scrollbarV.firstChild.style.height=Math.max(0,i-t.clientHeight+(t.barHeight||n.scrollbarV.clientHeight))+"px"):(n.scrollbarV.style.display="",n.scrollbarV.firstChild.style.height="0"),a?(n.scrollbarH.style.display="block",n.scrollbarH.style.right=o?r+"px":"0",n.scrollbarH.firstChild.style.width=t.scrollWidth-t.clientWidth+(t.barWidth||n.scrollbarH.clientWidth)+"px"):(n.scrollbarH.style.display="",n.scrollbarH.firstChild.style.width="0"),a&&o?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=n.scrollbarFiller.style.width=r+"px"):n.scrollbarFiller.style.display="",a&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r+"px",n.gutterFiller.style.width=n.gutters.offsetWidth+"px"):n.gutterFiller.style.display="",!e.state.checkedOverlayScrollbar&&t.clientHeight>0){if(0===r){var s=co&&!ao?"12px":"18px";n.scrollbarV.style.minWidth=n.scrollbarH.style.minHeight=s;var l=function(t){ta(t)!=n.scrollbarV&&ta(t)!=n.scrollbarH&&cn(e,jn)(t)};ls(n.scrollbarV,"mousedown",l),ls(n.scrollbarH,"mousedown",l)}e.state.checkedOverlayScrollbar=!0}}function v(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Ct(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,a=Fi(t,r),o=Fi(t,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;if(a>s)return{from:s,to:Fi(t,Pi(Ni(t,s))+e.wrapper.clientHeight)};if(Math.min(l,t.lastLine())>=o)return{from:Fi(t,Pi(Ni(t,l))-e.wrapper.clientHeight),to:l}}return{from:a,to:Math.max(o,a+1)}}function y(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=x(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,a=r+"px",o=0;o<n.length;o++)if(!n[o].hidden){e.options.fixedGutter&&n[o].gutter&&(n[o].gutter.style.left=a);var s=n[o].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=a}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function b(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=w(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(xa("div",[xa("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=i.firstChild.offsetWidth,o=i.offsetWidth-a;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(a,r.lineGutter.offsetWidth-o),r.lineNumWidth=r.lineNumInnerWidth+o,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",u(e),!0}return!1}function w(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function x(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function k(e,t,n){var r=e.display;this.viewport=t,this.visible=v(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldViewFrom=r.viewFrom,this.oldViewTo=r.viewTo,this.oldScrollerWidth=r.scroller.clientWidth,this.force=n,this.dims=M(e)}function S(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return gn(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&0==wn(e))return!1;b(e)&&(gn(e),t.dims=M(e));var i=r.first+r.size,a=Math.max(t.visible.from-e.options.viewportMargin,r.first),o=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<a&&a-n.viewFrom<20&&(a=Math.max(r.first,n.viewFrom)),n.viewTo>o&&n.viewTo-o<20&&(o=Math.min(i,n.viewTo)),go&&(a=ti(e.doc,a),o=ni(e.doc,o));var s=a!=n.viewFrom||o!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;bn(e,a,o),n.viewOffset=Pi(Ni(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=wn(e);if(!s&&0==l&&!t.force&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Ca();return l>4&&(n.lineDiv.style.display="none"),N(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),c&&Ca()!=c&&c.offsetHeight&&c.focus(),ka(n.cursorDiv),ka(n.selectionDiv),s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,xt(e,400)),n.updateLineNumbers=null,!0}function _(e,t){for(var n=t.force,r=t.viewport,i=!0;;i=!1){if(i&&e.options.lineWrapping&&t.oldScrollerWidth!=e.display.scroller.clientWidth)n=!0;else if(n=!1,r&&null!=r.top&&(r={top:Math.min(e.doc.height+Tt(e.display)-ds-e.display.scroller.clientHeight,r.top)}),t.visible=v(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!S(e,t))break;L(e);var a=m(e);vt(e),T(e,a),g(e,a)}ra(e,"update",e),(e.display.viewFrom!=t.oldViewFrom||e.display.viewTo!=t.oldViewTo)&&ra(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo)}function C(e,t){var n=new k(e,t);if(S(e,n)){L(e),_(e,n);var r=m(e);vt(e),T(e,r),g(e,r)}}function T(e,t){e.display.sizer.style.minHeight=e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=Math.max(t.docHeight,t.clientHeight-ds)+"px"}function E(e,t){e.display.sizer.offsetWidth+e.display.gutters.offsetWidth<e.display.scroller.clientWidth-1&&(e.display.sizer.style.minHeight=e.display.heightForcer.style.top="0px",e.display.gutters.style.height=t.docHeight+"px")}function L(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i,a=t.view[r];if(!a.hidden){if(Ja&&8>Za){var o=a.node.offsetTop+a.node.offsetHeight;i=o-n,n=o}else{var s=a.node.getBoundingClientRect();i=s.bottom-s.top}var l=a.line.height-i;if(2>i&&(i=Xt(t)),(l>.001||-.001>l)&&(Ii(a.line,i),A(a.line),a.rest))for(var c=0;c<a.rest.length;c++)A(a.rest[c])}}}function A(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function M(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,a=t.gutters.firstChild,o=0;a;a=a.nextSibling,++o)n[e.options.gutters[o]]=a.offsetLeft+a.clientLeft+i,r[e.options.gutters[o]]=a.clientWidth;return{fixedPos:x(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function N(e,t,n){function r(t){var n=t.nextSibling;return Qa&&co&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var i=e.display,a=e.options.lineNumbers,o=i.lineDiv,s=o.firstChild,l=i.view,c=i.viewFrom,u=0;u<l.length;u++){var h=l[u];if(h.hidden);else if(h.node){for(;s!=h.node;)s=r(s);var d=a&&null!=t&&c>=t&&h.lineNumber;h.changes&&(fa(h.changes,"gutter")>-1&&(d=!1),j(e,h,c,n)),d&&(ka(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(w(e.options,c)))),s=h.node.nextSibling}else{var f=z(e,h,c,n);o.insertBefore(f,s)}c+=h.size}for(;s;)s=r(s)}function j(e,t,n,r){for(var i=0;i<t.changes.length;i++){var a=t.changes[i];"text"==a?F(e,t):"gutter"==a?q(e,t,n,r):"class"==a?P(t):"widget"==a&&H(t,r)}t.changes=null}function D(e){return e.node==e.text&&(e.node=xa("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),Ja&&8>Za&&(e.node.style.zIndex=2)),e.node}function I(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=D(e);e.background=n.insertBefore(xa("div",null,t),n.firstChild)}}function O(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):yi(e,t)}function F(e,t){var n=t.text.className,r=O(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,P(t)):n&&(t.text.className=n)}function P(e){I(e),e.line.wrapClass?D(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function q(e,t,n,r){t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null);var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var a=D(t),o=t.gutter=a.insertBefore(xa("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px"),t.text);if(!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(t.lineNumber=o.appendChild(xa("div",w(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var s=0;s<e.options.gutters.length;++s){var l=e.options.gutters[s],c=i.hasOwnProperty(l)&&i[l];c&&o.appendChild(xa("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function H(e,t){e.alignable&&(e.alignable=null);for(var n,r=e.node.firstChild;r;r=n){var n=r.nextSibling;"CodeMirror-linewidget"==r.className&&e.node.removeChild(r)}B(e,t)}function z(e,t,n,r){var i=O(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),P(t),q(e,t,n,r),B(t,r),t.node}function B(e,t){if(W(e.line,e,t,!0),e.rest)for(var n=0;n<e.rest.length;n++)W(e.rest[n],e,t,!1)}function W(e,t,n,r){if(e.widgets)for(var i=D(t),a=0,o=e.widgets;a<o.length;++a){var s=o[a],l=xa("div",[s.node],"CodeMirror-linewidget");s.handleMouseEvents||(l.ignoreEvents=!0),$(s,l,t,n),r&&s.above?i.insertBefore(l,t.gutter||t.text):i.appendChild(l),ra(s,"redraw")}}function $(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function R(e){return vo(e.line,e.ch)}function U(e,t){return yo(e,t)<0?t:e}function V(e,t){return yo(e,t)<0?e:t}function G(e,t){this.ranges=e,this.primIndex=t}function K(e,t){this.anchor=e,this.head=t}function Y(e,t){var n=e[t];e.sort(function(e,t){return yo(e.from(),t.from())}),t=fa(e,n);for(var r=1;r<e.length;r++){var i=e[r],a=e[r-1];if(yo(a.to(),i.from())>=0){var o=V(a.from(),i.from()),s=U(a.to(),i.to()),l=a.empty()?i.from()==i.head:a.from()==a.head;t>=r&&--t,e.splice(--r,2,new K(l?s:o,l?o:s))}}return new G(e,t)}function X(e,t){return new G([new K(e,t||e)],0)}function J(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Z(e,t){if(t.line<e.first)return vo(e.first,0);var n=e.first+e.size-1;return t.line>n?vo(n,Ni(e,n).text.length):Q(t,Ni(e,t.line).text.length)}function Q(e,t){var n=e.ch;return null==n||n>t?vo(e.line,t):0>n?vo(e.line,0):e}function et(e,t){return t>=e.first&&t<e.first+e.size}function tt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=Z(e,t[r]);return n}function nt(e,t,n,r){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(r){var a=yo(n,i)<0;a!=yo(r,i)<0?(i=n,n=r):a!=yo(n,r)<0&&(n=r)}return new K(i,n)}return new K(r||n,n)}function rt(e,t,n,r){ct(e,new G([nt(e,e.sel.primary(),t,n)],0),r)}function it(e,t,n){for(var r=[],i=0;i<e.sel.ranges.length;i++)r[i]=nt(e,e.sel.ranges[i],t[i],null);var a=Y(r,e.sel.primIndex);ct(e,a,n)}function at(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,ct(e,Y(i,e.sel.primIndex),r)}function ot(e,t,n,r){ct(e,X(t,n),r)}function st(e,t){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new K(Z(e,t[n].anchor),Z(e,t[n].head))}};return us(e,"beforeSelectionChange",e,n),e.cm&&us(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?Y(n.ranges,n.ranges.length-1):t}function lt(e,t,n){var r=e.history.done,i=da(r);i&&i.ranges?(r[r.length-1]=t,ut(e,t,n)):ct(e,t,n)}function ct(e,t,n){ut(e,t,n),Ui(e,e.sel,e.cm?e.cm.curOp.id:0/0,n)}function ut(e,t,n){(sa(e,"beforeSelectionChange")||e.cm&&sa(e.cm,"beforeSelectionChange"))&&(t=st(e,t));var r=n&&n.bias||(yo(t.primary().head,e.sel.primary().head)<0?-1:1);ht(e,ft(e,t,r,!0)),n&&n.scroll===!1||!e.cm||br(e.cm)}function ht(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,oa(e.cm)),ra(e,"cursorActivity",e))}function dt(e){ht(e,ft(e,e.sel,null,!1),ps)}function ft(e,t,n,r){for(var i,a=0;a<t.ranges.length;a++){var o=t.ranges[a],s=pt(e,o.anchor,n,r),l=pt(e,o.head,n,r);(i||s!=o.anchor||l!=o.head)&&(i||(i=t.ranges.slice(0,a)),i[a]=new K(s,l))}return i?Y(i,t.primIndex):t}function pt(e,t,n,r){var i=!1,a=t,o=n||1;e.cantEdit=!1;e:for(;;){var s=Ni(e,a.line);if(s.markedSpans)for(var l=0;l<s.markedSpans.length;++l){var c=s.markedSpans[l],u=c.marker;if((null==c.from||(u.inclusiveLeft?c.from<=a.ch:c.from<a.ch))&&(null==c.to||(u.inclusiveRight?c.to>=a.ch:c.to>a.ch))){if(r&&(us(u,"beforeCursorEnter"),u.explicitlyCleared)){if(s.markedSpans){--l;continue}break}if(!u.atomic)continue;var h=u.find(0>o?-1:1);if(0==yo(h,a)&&(h.ch+=o,h.ch<0?h=h.line>e.first?Z(e,vo(h.line-1)):null:h.ch>s.text.length&&(h=h.line<e.first+e.size-1?vo(h.line+1,0):null),!h)){if(i)return r?(e.cantEdit=!0,vo(e.first,0)):pt(e,t,n,!0);i=!0,h=t,o=-o}a=h;continue e}}return a}}function mt(e){for(var t=e.display,n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),a=r.selection=document.createDocumentFragment(),o=0;o<n.sel.ranges.length;o++){var s=n.sel.ranges[o],l=s.empty();(l||e.options.showCursorWhenSelecting)&&yt(e,s,i),l||bt(e,s,a)}if(e.options.moveInputWithCursor){var c=Ut(e,n.sel.primary().head,"div"),u=t.wrapper.getBoundingClientRect(),h=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,c.top+h.top-u.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,c.left+h.left-u.left))}return r}function gt(e,t){Sa(e.display.cursorDiv,t.cursors),Sa(e.display.selectionDiv,t.selection),null!=t.teTop&&(e.display.inputDiv.style.top=t.teTop+"px",e.display.inputDiv.style.left=t.teLeft+"px")}function vt(e){gt(e,mt(e))}function yt(e,t,n){var r=Ut(e,t.head,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(xa("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var a=n.appendChild(xa("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=r.other.left+"px",a.style.top=r.other.top+"px",a.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function bt(e,t,n){function r(e,t,n,r){0>t&&(t=0),t=Math.round(t),r=Math.round(r),s.appendChild(xa("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?u-e:n)+"px; height: "+(r-t)+"px"))}function i(t,n,i){function a(n,r){return Rt(e,vo(t,n),"div",h,r)}var s,l,h=Ni(o,t),d=h.text.length;return Oa(qi(h),n||0,null==i?d:i,function(e,t,o){var h,f,p,m=a(e,"left");if(e==t)h=m,f=p=m.left;else{if(h=a(t-1,"right"),"rtl"==o){var g=m;m=h,h=g}f=m.left,p=h.right}null==n&&0==e&&(f=c),h.top-m.top>3&&(r(f,m.top,null,m.bottom),f=c,m.bottom<h.top&&r(f,m.bottom,null,h.top)),null==i&&t==d&&(p=u),(!s||m.top<s.top||m.top==s.top&&m.left<s.left)&&(s=m),(!l||h.bottom>l.bottom||h.bottom==l.bottom&&h.right>l.right)&&(l=h),c+1>f&&(f=c),r(f,h.top,p-f,h.bottom)}),{start:s,end:l}}var a=e.display,o=e.doc,s=document.createDocumentFragment(),l=Et(e.display),c=l.left,u=a.lineSpace.offsetWidth-l.right,h=t.from(),d=t.to();if(h.line==d.line)i(h.line,h.ch,d.ch);else{var f=Ni(o,h.line),p=Ni(o,d.line),m=Qr(f)==Qr(p),g=i(h.line,h.ch,m?f.text.length+1:null).end,v=i(d.line,m?0:null,d.ch).start;m&&(g.top<v.top-2?(r(g.right,g.top,null,g.bottom),r(c,v.top,v.left,v.bottom)):r(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&r(c,g.bottom,null,v.top)}n.appendChild(s)}function wt(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function xt(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,va(kt,e))}function kt(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=zo(t.mode,_t(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(a){if(t.frontier>=e.display.viewFrom){var o=a.styles,s=pi(e,a,r,!0);a.styles=s.styles;var l=a.styleClasses,c=s.classes;c?a.styleClasses=c:l&&(a.styleClasses=null);for(var u=!o||o.length!=a.styles.length||l!=c&&(!l||!c||l.bgClass!=c.bgClass||l.textClass!=c.textClass),h=0;!u&&h<o.length;++h)u=o[h]!=a.styles[h];u&&i.push(t.frontier),a.stateAfter=zo(t.mode,r)}else gi(e,a.text,r),a.stateAfter=t.frontier%5==0?zo(t.mode,r):null;return++t.frontier,+new Date>n?(xt(e,e.options.workDelay),!0):void 0}),i.length&&ln(e,function(){for(var t=0;t<i.length;t++)mn(e,i[t],"text")})}}function St(e,t,n){for(var r,i,a=e.doc,o=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>o;--s){if(s<=a.first)return a.first;var l=Ni(a,s-1);if(l.stateAfter&&(!n||s<=a.frontier))return s;var c=vs(l.text,null,e.options.tabSize);(null==i||r>c)&&(i=s-1,r=c)}return i}function _t(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return!0;var a=St(e,t,n),o=a>r.first&&Ni(r,a-1).stateAfter;return o=o?zo(r.mode,o):Bo(r.mode),r.iter(a,t,function(n){gi(e,n.text,o);var s=a==t-1||a%5==0||a>=i.viewFrom&&a<i.viewTo;n.stateAfter=s?zo(r.mode,o):null,++a}),n&&(r.frontier=a),o}function Ct(e){return e.lineSpace.offsetTop}function Tt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Et(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Sa(e.measure,xa("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Lt(e,t,n){var r=e.options.lineWrapping,i=r&&e.display.scroller.clientWidth;if(!t.measure.heights||r&&t.measure.width!=i){var a=t.measure.heights=[];if(r){t.measure.width=i;for(var o=t.text.firstChild.getClientRects(),s=0;s<o.length-1;s++){var l=o[s],c=o[s+1];Math.abs(l.bottom-c.bottom)>2&&a.push((l.bottom+c.top)/2-n.top)}}a.push(n.bottom-n.top)}}function At(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var r=0;r<e.rest.length;r++)if(Oi(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Mt(e,t){t=Qr(t);var n=Oi(t),r=e.display.externalMeasured=new dn(e.doc,t,n);r.lineN=n;var i=r.built=yi(e,r);return r.text=i.pre,Sa(e.display.lineMeasure,i.pre),r}function Nt(e,t,n,r){return It(e,Dt(e,t),n,r)}function jt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[vn(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Dt(e,t){var n=Oi(t),r=jt(e,n);r&&!r.text?r=null:r&&r.changes&&j(e,r,n,M(e)),r||(r=Mt(e,t));var i=At(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function It(e,t,n,r,i){t.before&&(n=-1);var a,o=n+(r||"");return t.cache.hasOwnProperty(o)?a=t.cache[o]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Lt(e,t.view,t.rect),t.hasHeights=!0),a=Ot(e,t,n,r),a.bogus||(t.cache[o]=a)),{left:a.left,right:a.right,top:i?a.rtop:a.top,bottom:i?a.rbottom:a.bottom}}function Ot(e,t,n,r){for(var i,a,o,s,l=t.map,c=0;c<l.length;c+=3){var u=l[c],h=l[c+1];if(u>n?(a=0,o=1,s="left"):h>n?(a=n-u,o=a+1):(c==l.length-3||n==h&&l[c+3]>n)&&(o=h-u,a=o-1,n>=h&&(s="right")),null!=a){if(i=l[c+2],u==h&&r==(i.insertLeft?"left":"right")&&(s=r),"left"==r&&0==a)for(;c&&l[c-2]==l[c-3]&&l[c-1].insertLeft;)i=l[(c-=3)+2],s="left";if("right"==r&&a==h-u)for(;c<l.length-3&&l[c+3]==l[c+4]&&!l[c+5].insertLeft;)i=l[(c+=3)+2],s="right";break}}var d;if(3==i.nodeType){for(var c=0;4>c;c++){for(;a&&wa(t.line.text.charAt(u+a));)--a;for(;h>u+o&&wa(t.line.text.charAt(u+o));)++o;if(Ja&&9>Za&&0==a&&o==h-u)d=i.parentNode.getBoundingClientRect();else if(Ja&&e.options.lineWrapping){var f=ws(i,a,o).getClientRects();d=f.length?f["right"==r?f.length-1:0]:ko}else d=ws(i,a,o).getBoundingClientRect()||ko;if(d.left||d.right||0==a)break;o=a,a-=1,s="right"}Ja&&11>Za&&(d=Ft(e.display.measure,d))}else{a>0&&(s=r="right");var f;d=e.options.lineWrapping&&(f=i.getClientRects()).length>1?f["right"==r?f.length-1:0]:i.getBoundingClientRect()}if(Ja&&9>Za&&!a&&(!d||!d.left&&!d.right)){var p=i.parentNode.getClientRects()[0];d=p?{left:p.left,right:p.left+Jt(e.display),top:p.top,bottom:p.bottom}:ko}for(var m=d.top-t.rect.top,g=d.bottom-t.rect.top,v=(m+g)/2,y=t.view.measure.heights,c=0;c<y.length-1&&!(v<y[c]);c++);var b=c?y[c-1]:0,w=y[c],x={left:("right"==s?d.right:d.left)-t.rect.left,right:("left"==s?d.left:d.right)-t.rect.left,top:b,bottom:w};return d.left||d.right||(x.bogus=!0),e.options.singleCursorHeightPerLine||(x.rtop=m,x.rbottom=g),x}function Ft(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Ia(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function Pt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function qt(e){e.display.externalMeasure=null,ka(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Pt(e.display.view[t])}function Ht(e){qt(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function zt(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Bt(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function Wt(e,t,n,r){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var a=oi(t.widgets[i]);n.top+=a,n.bottom+=a}if("line"==r)return n;r||(r="local");var o=Pi(t);if("local"==r?o+=Ct(e.display):o-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();o+=s.top+("window"==r?0:Bt());var l=s.left+("window"==r?0:zt());n.left+=l,n.right+=l}return n.top+=o,n.bottom+=o,n}function $t(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=zt(),i-=Bt();else if("local"==n||!n){var a=e.display.sizer.getBoundingClientRect();r+=a.left,i+=a.top}var o=e.display.lineSpace.getBoundingClientRect();return{left:r-o.left,top:i-o.top}}function Rt(e,t,n,r,i){return r||(r=Ni(e.doc,t.line)),Wt(e,r,Nt(e,r,t.ch,i),n)}function Ut(e,t,n,r,i,a){function o(t,o){var s=It(e,i,t,o?"right":"left",a);return o?s.left=s.right:s.right=s.left,Wt(e,r,s,n)}function s(e,t){var n=l[t],r=n.level%2;return e==Fa(n)&&t&&n.level<l[t-1].level?(n=l[--t],e=Pa(n)-(n.level%2?0:1),r=!0):e==Pa(n)&&t<l.length-1&&n.level<l[t+1].level&&(n=l[++t],e=Fa(n)-n.level%2,r=!1),r&&e==n.to&&e>n.from?o(e-1):o(e,r)}r=r||Ni(e.doc,t.line),i||(i=Dt(e,r));var l=qi(r),c=t.ch;if(!l)return o(c);var u=Ra(l,c),h=s(c,u);return null!=Fs&&(h.other=s(c,Fs)),h}function Vt(e,t){var n=0,t=Z(e.doc,t);e.options.lineWrapping||(n=Jt(e.display)*t.ch);var r=Ni(e.doc,t.line),i=Pi(r)+Ct(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Gt(e,t,n,r){var i=vo(e,t);return i.xRel=r,n&&(i.outside=!0),i}function Kt(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,0>n)return Gt(r.first,0,!0,-1);var i=Fi(r,n),a=r.first+r.size-1;if(i>a)return Gt(r.first+r.size-1,Ni(r,a).text.length,!0,1);0>t&&(t=0);for(var o=Ni(r,i);;){var s=Yt(e,o,i,t,n),l=Jr(o),c=l&&l.find(0,!0);if(!l||!(s.ch>c.from.ch||s.ch==c.from.ch&&s.xRel>0))return s;i=Oi(o=c.to.line)}}function Yt(e,t,n,r,i){function a(r){var i=Ut(e,vo(n,r),"line",t,c);return s=!0,o>i.bottom?i.left-l:o<i.top?i.left+l:(s=!1,i.left)}var o=i-Pi(t),s=!1,l=2*e.display.wrapper.clientWidth,c=Dt(e,t),u=qi(t),h=t.text.length,d=qa(t),f=Ha(t),p=a(d),m=s,g=a(f),v=s;if(r>g)return Gt(n,f,v,1);for(;;){if(u?f==d||f==Va(t,d,1):1>=f-d){for(var y=p>r||g-r>=r-p?d:f,b=r-(y==d?p:g);wa(t.text.charAt(y));)++y;var w=Gt(n,y,y==d?m:v,-1>b?-1:b>1?1:0);return w}var x=Math.ceil(h/2),k=d+x;if(u){k=d;for(var S=0;x>S;++S)k=Va(t,k,1)}var _=a(k);_>r?(f=k,g=_,(v=s)&&(g+=1e3),h=x):(d=k,p=_,m=s,h-=x)}}function Xt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==bo){bo=xa("pre");for(var t=0;49>t;++t)bo.appendChild(document.createTextNode("x")),bo.appendChild(xa("br"));bo.appendChild(document.createTextNode("x"))}Sa(e.measure,bo);var n=bo.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),ka(e.measure),n||1}function Jt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=xa("span","xxxxxxxxxx"),n=xa("pre",[t]);Sa(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Zt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++_o},So?So.ops.push(e.curOp):e.curOp.ownsGroup=So={ops:[e.curOp],delayedCallbacks:[]}}function Qt(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n]();for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++](i.cm)}}while(n<t.length)}function en(e){var t=e.curOp,n=t.ownsGroup;if(n)try{Qt(n)}finally{So=null;for(var r=0;r<n.ops.length;r++)n.ops[r].cm.curOp=null;tn(n)}}function tn(e){for(var t=e.ops,n=0;n<t.length;n++)nn(t[n]);for(var n=0;n<t.length;n++)rn(t[n]);for(var n=0;n<t.length;n++)an(t[n]);for(var n=0;n<t.length;n++)on(t[n]);for(var n=0;n<t.length;n++)sn(t[n])}function nn(e){var t=e.cm,n=t.display;
e.updateMaxLine&&d(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new k(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function rn(e){e.updatedDisplay=e.mustUpdate&&S(e.cm,e.update)}function an(e){var t=e.cm,n=t.display;e.updatedDisplay&&L(t),e.barMeasure=m(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Nt(t,n.maxLine,n.maxLine.text.length).left+3,e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo+ds-n.scroller.clientWidth)),(e.updatedDisplay||e.selectionChanged)&&(e.newSelectionNodes=mt(t))}function on(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Bn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1),e.newSelectionNodes&&gt(t,e.newSelectionNodes),e.updatedDisplay&&T(t,e.barMeasure),(e.updatedDisplay||e.startHeight!=t.doc.height)&&g(t,e.barMeasure),e.selectionChanged&&wt(t),t.state.focused&&e.updateInput&&_n(t,e.typing)}function sn(e){var t=e.cm,n=t.display,r=t.doc;if(null!=e.adjustWidthTo&&Math.abs(e.barMeasure.scrollWidth-t.display.scroller.scrollWidth)>1&&g(t),e.updatedDisplay&&_(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&(n.scroller.scrollTop!=e.scrollTop||e.forceScroll)){var i=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop));n.scroller.scrollTop=n.scrollbarV.scrollTop=r.scrollTop=i}if(null!=e.scrollLeft&&(n.scroller.scrollLeft!=e.scrollLeft||e.forceScroll)){var a=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft));n.scroller.scrollLeft=n.scrollbarH.scrollLeft=r.scrollLeft=a,y(t)}if(e.scrollToPos){var o=mr(t,Z(r,e.scrollToPos.from),Z(r,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&pr(t,o)}var s=e.maybeHiddenMarkers,l=e.maybeUnhiddenMarkers;if(s)for(var c=0;c<s.length;++c)s[c].lines.length||us(s[c],"hide");if(l)for(var c=0;c<l.length;++c)l[c].lines.length&&us(l[c],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.updatedDisplay&&Qa&&(t.options.lineWrapping&&E(t,e.barMeasure),e.barMeasure.scrollWidth>e.barMeasure.clientWidth&&e.barMeasure.scrollWidth<e.barMeasure.clientWidth+1&&!p(t)&&g(t)),e.changeObjs&&us(t,"changes",t,e.changeObjs)}function ln(e,t){if(e.curOp)return t();Zt(e);try{return t()}finally{en(e)}}function cn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Zt(e);try{return t.apply(e,arguments)}finally{en(e)}}}function un(e){return function(){if(this.curOp)return e.apply(this,arguments);Zt(this);try{return e.apply(this,arguments)}finally{en(this)}}}function hn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Zt(t);try{return e.apply(this,arguments)}finally{en(t)}}}function dn(e,t,n){this.line=t,this.rest=ei(t),this.size=this.rest?Oi(da(this.rest))-n+1:1,this.node=this.text=null,this.hidden=ri(e,t)}function fn(e,t,n){for(var r,i=[],a=t;n>a;a=r){var o=new dn(e.doc,Ni(e.doc,a),a);r=a+o.size,i.push(o)}return i}function pn(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)go&&ti(e.doc,t)<i.viewTo&&gn(e);else if(n<=i.viewFrom)go&&ni(e.doc,n+r)>i.viewFrom?gn(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)gn(e);else if(t<=i.viewFrom){var a=yn(e,n,n+r,1);a?(i.view=i.view.slice(a.index),i.viewFrom=a.lineN,i.viewTo+=r):gn(e)}else if(n>=i.viewTo){var a=yn(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):gn(e)}else{var o=yn(e,t,t,-1),s=yn(e,n,n+r,1);o&&s?(i.view=i.view.slice(0,o.index).concat(fn(e,o.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=r):gn(e)}var l=i.externalMeasured;l&&(n<l.lineN?l.lineN+=r:t<l.lineN+l.size&&(i.externalMeasured=null))}function mn(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var a=r.view[vn(e,t)];if(null!=a.node){var o=a.changes||(a.changes=[]);-1==fa(o,n)&&o.push(n)}}}function gn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function vn(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,0>t)return r}function yn(e,t,n,r){var i,a=vn(e,t),o=e.display.view;if(!go||n==e.doc.first+e.doc.size)return{index:a,lineN:n};for(var s=0,l=e.display.viewFrom;a>s;s++)l+=o[s].size;if(l!=t){if(r>0){if(a==o.length-1)return null;i=l+o[a].size-t,a++}else i=l-t;t+=i,n+=i}for(;ti(e.doc,n)!=n;){if(a==(0>r?0:o.length-1))return null;n+=r*o[a-(0>r?1:0)].size,a+=r}return{index:a,lineN:n}}function bn(e,t,n){var r=e.display,i=r.view;0==i.length||t>=r.viewTo||n<=r.viewFrom?(r.view=fn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=fn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(vn(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(fn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,vn(e,n)))),r.viewTo=n}function wn(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function xn(e){e.display.pollingFast||e.display.poll.set(e.options.pollInterval,function(){Sn(e),e.state.focused&&xn(e)})}function kn(e){function t(){var r=Sn(e);r||n?(e.display.pollingFast=!1,xn(e)):(n=!0,e.display.poll.set(60,t))}var n=!1;e.display.pollingFast=!0,e.display.poll.set(20,t)}function Sn(e){var t=e.display.input,n=e.display.prevInput,r=e.doc;if(!e.state.focused||js(t)&&!n||En(e)||e.options.disableInput||e.state.keySeq)return!1;e.state.pasteIncoming&&e.state.fakedLastChar&&(t.value=t.value.substring(0,t.value.length-1),e.state.fakedLastChar=!1);var i=t.value;if(i==n&&!e.somethingSelected())return!1;if(Ja&&Za>=9&&e.display.inputHasSelection===i||co&&/[\uf700-\uf7ff]/.test(i))return _n(e),!1;var a=!e.curOp;a&&Zt(e),e.display.shift=!1,8203!=i.charCodeAt(0)||r.sel!=e.display.selForContextMenu||n||(n="​");for(var o=0,s=Math.min(n.length,i.length);s>o&&n.charCodeAt(o)==i.charCodeAt(o);)++o;var l=i.slice(o),c=Ns(l),u=null;e.state.pasteIncoming&&r.sel.ranges.length>1&&(Co&&Co.join("\n")==l?u=r.sel.ranges.length%Co.length==0&&pa(Co,Ns):c.length==r.sel.ranges.length&&(u=pa(c,function(e){return[e]})));for(var h=r.sel.ranges.length-1;h>=0;h--){var d=r.sel.ranges[h],f=d.from(),p=d.to();o<n.length?f=vo(f.line,f.ch-(n.length-o)):e.state.overwrite&&d.empty()&&!e.state.pasteIncoming&&(p=vo(p.line,Math.min(Ni(r,p.line).text.length,p.ch+da(c).length)));var m=e.curOp.updateInput,g={from:f,to:p,text:u?u[h%u.length]:c,origin:e.state.pasteIncoming?"paste":e.state.cutIncoming?"cut":"+input"};if(sr(e.doc,g),ra(e,"inputRead",e,g),l&&!e.state.pasteIncoming&&e.options.electricChars&&e.options.smartIndent&&d.head.ch<100&&(!h||r.sel.ranges[h-1].head.line!=d.head.line)){var v=e.getModeAt(d.head),y=No(g);if(v.electricChars){for(var b=0;b<v.electricChars.length;b++)if(l.indexOf(v.electricChars.charAt(b))>-1){xr(e,y.line,"smart");break}}else v.electricInput&&v.electricInput.test(Ni(r,y.line).text.slice(0,y.ch))&&xr(e,y.line,"smart")}}return br(e),e.curOp.updateInput=m,e.curOp.typing=!0,i.length>1e3||i.indexOf("\n")>-1?t.value=e.display.prevInput="":e.display.prevInput=i,a&&en(e),e.state.pasteIncoming=e.state.cutIncoming=!1,!0}function _n(e,t){var n,r,i=e.doc;if(e.somethingSelected()){e.display.prevInput="";var a=i.sel.primary();n=Ds&&(a.to().line-a.from().line>100||(r=e.getSelection()).length>1e3);var o=n?"-":r||e.getSelection();e.display.input.value=o,e.state.focused&&bs(e.display.input),Ja&&Za>=9&&(e.display.inputHasSelection=o)}else t||(e.display.prevInput=e.display.input.value="",Ja&&Za>=9&&(e.display.inputHasSelection=null));e.display.inaccurateSelection=n}function Cn(e){"nocursor"==e.options.readOnly||lo&&Ca()==e.display.input||e.display.input.focus()}function Tn(e){e.state.focused||(Cn(e),Zn(e))}function En(e){return e.options.readOnly||e.doc.cantEdit}function Ln(e){function t(){e.state.focused&&setTimeout(va(Cn,e),0)}function n(t){aa(e,t)||ss(t)}function r(t){if(e.somethingSelected())Co=e.getSelections(),i.inaccurateSelection&&(i.prevInput="",i.inaccurateSelection=!1,i.input.value=Co.join("\n"),bs(i.input));else{for(var n=[],r=[],a=0;a<e.doc.sel.ranges.length;a++){var o=e.doc.sel.ranges[a].head.line,s={anchor:vo(o,0),head:vo(o+1,0)};r.push(s),n.push(e.getRange(s.anchor,s.head))}"cut"==t.type?e.setSelections(r,null,ps):(i.prevInput="",i.input.value=n.join("\n"),bs(i.input)),Co=n}"cut"==t.type&&(e.state.cutIncoming=!0)}var i=e.display;ls(i.scroller,"mousedown",cn(e,jn)),Ja&&11>Za?ls(i.scroller,"dblclick",cn(e,function(t){if(!aa(e,t)){var n=Nn(e,t);if(n&&!Pn(e,t)&&!Mn(e.display,t)){as(t);var r=e.findWordAt(n);rt(e.doc,r.anchor,r.head)}}})):ls(i.scroller,"dblclick",function(t){aa(e,t)||as(t)}),ls(i.lineSpace,"selectstart",function(e){Mn(i,e)||as(e)}),po||ls(i.scroller,"contextmenu",function(t){er(e,t)}),ls(i.scroller,"scroll",function(){i.scroller.clientHeight&&(zn(e,i.scroller.scrollTop),Bn(e,i.scroller.scrollLeft,!0),us(e,"scroll",e))}),ls(i.scrollbarV,"scroll",function(){i.scroller.clientHeight&&zn(e,i.scrollbarV.scrollTop)}),ls(i.scrollbarH,"scroll",function(){i.scroller.clientHeight&&Bn(e,i.scrollbarH.scrollLeft)}),ls(i.scroller,"mousewheel",function(t){Wn(e,t)}),ls(i.scroller,"DOMMouseScroll",function(t){Wn(e,t)}),ls(i.scrollbarH,"mousedown",t),ls(i.scrollbarV,"mousedown",t),ls(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),ls(i.input,"keyup",function(t){Xn.call(e,t)}),ls(i.input,"input",function(){Ja&&Za>=9&&e.display.inputHasSelection&&(e.display.inputHasSelection=null),kn(e)}),ls(i.input,"keydown",cn(e,Kn)),ls(i.input,"keypress",cn(e,Jn)),ls(i.input,"focus",va(Zn,e)),ls(i.input,"blur",va(Qn,e)),e.options.dragDrop&&(ls(i.scroller,"dragstart",function(t){Hn(e,t)}),ls(i.scroller,"dragenter",n),ls(i.scroller,"dragover",n),ls(i.scroller,"drop",cn(e,qn))),ls(i.scroller,"paste",function(t){Mn(i,t)||(e.state.pasteIncoming=!0,Cn(e),kn(e))}),ls(i.input,"paste",function(){if(Qa&&!e.state.fakedLastChar&&!(new Date-e.state.lastMiddleDown<200)){var t=i.input.selectionStart,n=i.input.selectionEnd;i.input.value+="$",i.input.selectionEnd=n,i.input.selectionStart=t,e.state.fakedLastChar=!0}e.state.pasteIncoming=!0,kn(e)}),ls(i.input,"cut",r),ls(i.input,"copy",r),io&&ls(i.sizer,"mouseup",function(){Ca()==i.input&&i.input.blur(),Cn(e)})}function An(e){var t=e.display;(t.lastWrapHeight!=t.wrapper.clientHeight||t.lastWrapWidth!=t.wrapper.clientWidth)&&(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,e.setSize())}function Mn(e,t){for(var n=ta(t);n!=e.wrapper;n=n.parentNode)if(!n||n.ignoreEvents||n.parentNode==e.sizer&&n!=e.mover)return!0}function Nn(e,t,n,r){var i=e.display;if(!n){var a=ta(t);if(a==i.scrollbarH||a==i.scrollbarV||a==i.scrollbarFiller||a==i.gutterFiller)return null}var o,s,l=i.lineSpace.getBoundingClientRect();try{o=t.clientX-l.left,s=t.clientY-l.top}catch(t){return null}var c,u=Kt(e,o,s);if(r&&1==u.xRel&&(c=Ni(e.doc,u.line).text).length==u.ch){var h=vs(c,c.length,e.options.tabSize)-c.length;u=vo(u.line,Math.max(0,Math.round((o-Et(e.display).left)/Jt(e.display))-h))}return u}function jn(e){if(!aa(this,e)){var t=this,n=t.display;if(n.shift=e.shiftKey,Mn(n,e))return Qa||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)),void 0;if(!Pn(t,e)){var r=Nn(t,e);switch(window.focus(),na(e)){case 1:r?Dn(t,e,r):ta(e)==n.scroller&&as(e);break;case 2:Qa&&(t.state.lastMiddleDown=+new Date),r&&rt(t.doc,r),setTimeout(va(Cn,t),20),as(e);break;case 3:po&&er(t,e)}}}}function Dn(e,t,n){setTimeout(va(Tn,e),0);var r,i=+new Date;xo&&xo.time>i-400&&0==yo(xo.pos,n)?r="triple":wo&&wo.time>i-400&&0==yo(wo.pos,n)?(r="double",xo={time:i,pos:n}):(r="single",wo={time:i,pos:n});var a=e.doc.sel,o=co?t.metaKey:t.ctrlKey;e.options.dragDrop&&Ms&&!En(e)&&"single"==r&&a.contains(n)>-1&&a.somethingSelected()?In(e,t,n,o):On(e,t,n,r,o)}function In(e,t,n,r){var i=e.display,a=cn(e,function(o){Qa&&(i.scroller.draggable=!1),e.state.draggingText=!1,cs(document,"mouseup",a),cs(i.scroller,"drop",a),Math.abs(t.clientX-o.clientX)+Math.abs(t.clientY-o.clientY)<10&&(as(o),r||rt(e.doc,n),Cn(e),Ja&&9==Za&&setTimeout(function(){document.body.focus(),Cn(e)},20))});Qa&&(i.scroller.draggable=!0),e.state.draggingText=a,i.scroller.dragDrop&&i.scroller.dragDrop(),ls(document,"mouseup",a),ls(i.scroller,"drop",a)}function On(e,t,n,r,i){function a(t){if(0!=yo(m,t))if(m=t,"rect"==r){for(var i=[],a=e.options.tabSize,o=vs(Ni(c,n.line).text,n.ch,a),s=vs(Ni(c,t.line).text,t.ch,a),l=Math.min(o,s),f=Math.max(o,s),p=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));g>=p;p++){var v=Ni(c,p).text,y=ua(v,l,a);l==f?i.push(new K(vo(p,y),vo(p,y))):v.length>y&&i.push(new K(vo(p,y),vo(p,ua(v,f,a))))}i.length||i.push(new K(n,n)),ct(c,Y(d.ranges.slice(0,h).concat(i),h),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=u,w=b.anchor,x=t;if("single"!=r){if("double"==r)var k=e.findWordAt(t);else var k=new K(vo(t.line,0),Z(c,vo(t.line+1,0)));yo(k.anchor,w)>0?(x=k.head,w=V(b.from(),k.anchor)):(x=k.anchor,w=U(b.to(),k.head))}var i=d.ranges.slice(0);i[h]=new K(Z(c,w),x),ct(c,Y(i,h),ms)}}function o(t){var n=++y,i=Nn(e,t,!0,"rect"==r);if(i)if(0!=yo(i,m)){Tn(e),a(i);var s=v(l,c);(i.line>=s.to||i.line<s.from)&&setTimeout(cn(e,function(){y==n&&o(t)}),150)}else{var u=t.clientY<g.top?-20:t.clientY>g.bottom?20:0;u&&setTimeout(cn(e,function(){y==n&&(l.scroller.scrollTop+=u,o(t))}),50)}}function s(t){y=1/0,as(t),Cn(e),cs(document,"mousemove",b),cs(document,"mouseup",w),c.history.lastSelOrigin=null}var l=e.display,c=e.doc;as(t);var u,h,d=c.sel;if(i&&!t.shiftKey?(h=c.sel.contains(n),u=h>-1?c.sel.ranges[h]:new K(n,n)):u=c.sel.primary(),t.altKey)r="rect",i||(u=new K(n,n)),n=Nn(e,t,!0,!0),h=-1;else if("double"==r){var f=e.findWordAt(n);u=e.display.shift||c.extend?nt(c,u,f.anchor,f.head):f}else if("triple"==r){var p=new K(vo(n.line,0),Z(c,vo(n.line+1,0)));u=e.display.shift||c.extend?nt(c,u,p.anchor,p.head):p}else u=nt(c,u,n);i?h>-1?at(c,h,u,ms):(h=c.sel.ranges.length,ct(c,Y(c.sel.ranges.concat([u]),h),{scroll:!1,origin:"*mouse"})):(h=0,ct(c,new G([u],0),ms),d=c.sel);var m=n,g=l.wrapper.getBoundingClientRect(),y=0,b=cn(e,function(e){na(e)?o(e):s(e)}),w=cn(e,s);ls(document,"mousemove",b),ls(document,"mouseup",w)}function Fn(e,t,n,r,i){try{var a=t.clientX,o=t.clientY}catch(t){return!1}if(a>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&as(t);var s=e.display,l=s.lineDiv.getBoundingClientRect();if(o>l.bottom||!sa(e,n))return ea(t);o-=l.top-s.viewOffset;for(var c=0;c<e.options.gutters.length;++c){var u=s.gutters.childNodes[c];if(u&&u.getBoundingClientRect().right>=a){var h=Fi(e.doc,o),d=e.options.gutters[c];return i(e,n,e,h,d,t),ea(t)}}}function Pn(e,t){return Fn(e,t,"gutterClick",!0,ra)}function qn(e){var t=this;if(!aa(t,e)&&!Mn(t.display,e)){as(e),Ja&&(To=+new Date);var n=Nn(t,e,!0),r=e.dataTransfer.files;if(n&&!En(t))if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,a=Array(i),o=0,s=function(e,r){var s=new FileReader;s.onload=cn(t,function(){if(a[r]=s.result,++o==i){n=Z(t.doc,n);var e={from:n,to:n,text:Ns(a.join("\n")),origin:"paste"};sr(t.doc,e),lt(t.doc,X(n,No(e)))}}),s.readAsText(e)},l=0;i>l;++l)s(r[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),setTimeout(va(Cn,t),20),void 0;try{var a=e.dataTransfer.getData("Text");if(a){if(t.state.draggingText&&!(co?e.metaKey:e.ctrlKey))var c=t.listSelections();if(ut(t.doc,X(n,n)),c)for(var l=0;l<c.length;++l)fr(t.doc,"",c[l].anchor,c[l].head,"drag");t.replaceSelection(a,"around","paste"),Cn(t)}}catch(e){}}}}function Hn(e,t){if(Ja&&(!e.state.draggingText||+new Date-To<100))return ss(t),void 0;if(!aa(e,t)&&!Mn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.setDragImage&&!ro)){var n=xa("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",no&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),no&&n.parentNode.removeChild(n)}}function zn(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,Ka||C(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbarV.scrollTop!=t&&(e.display.scrollbarV.scrollTop=t),Ka&&C(e),xt(e,100))}function Bn(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,y(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbarH.scrollLeft!=t&&(e.display.scrollbarH.scrollLeft=t))}function Wn(e,t){var n=t.wheelDeltaX,r=t.wheelDeltaY;null==n&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(n=t.detail),null==r&&t.detail&&t.axis==t.VERTICAL_AXIS?r=t.detail:null==r&&(r=t.wheelDelta);var i=e.display,a=i.scroller;if(n&&a.scrollWidth>a.clientWidth||r&&a.scrollHeight>a.clientHeight){if(r&&co&&Qa)e:for(var o=t.target,s=i.view;o!=a;o=o.parentNode)for(var l=0;l<s.length;l++)if(s[l].node==o){e.display.currentWheelTarget=o;break e}if(n&&!Ka&&!no&&null!=Lo)return r&&zn(e,Math.max(0,Math.min(a.scrollTop+r*Lo,a.scrollHeight-a.clientHeight))),Bn(e,Math.max(0,Math.min(a.scrollLeft+n*Lo,a.scrollWidth-a.clientWidth))),as(t),i.wheelStartX=null,void 0;if(r&&null!=Lo){var c=r*Lo,u=e.doc.scrollTop,h=u+i.wrapper.clientHeight;0>c?u=Math.max(0,u+c-50):h=Math.min(e.doc.height,h+c+50),C(e,{top:u,bottom:h})}20>Eo&&(null==i.wheelStartX?(i.wheelStartX=a.scrollLeft,i.wheelStartY=a.scrollTop,i.wheelDX=n,i.wheelDY=r,setTimeout(function(){if(null!=i.wheelStartX){var e=a.scrollLeft-i.wheelStartX,t=a.scrollTop-i.wheelStartY,n=t&&i.wheelDY&&t/i.wheelDY||e&&i.wheelDX&&e/i.wheelDX;i.wheelStartX=i.wheelStartY=null,n&&(Lo=(Lo*Eo+n)/(Eo+1),++Eo)}},200)):(i.wheelDX+=n,i.wheelDY+=r))}}function $n(e,t,n){if("string"==typeof t&&(t=Wo[t],!t))return!1;e.display.pollingFast&&Sn(e)&&(e.display.pollingFast=!1);var r=e.display.shift,i=!1;try{En(e)&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=fs}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function Rn(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=Ro(t,e.state.keyMaps[r],n);if(i)return i}return e.options.extraKeys&&Ro(t,e.options.extraKeys,n)||Ro(t,e.options.keyMap,n)}function Un(e,t,n,r){var i=e.state.keySeq;if(i){if(Uo(t))return"handled";Ao.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,_n(e))}),t=i+" "+t}var a=Rn(e,t,r);return"multi"==a&&(e.state.keySeq=t),"handled"==a&&ra(e,"keyHandled",e,t,n),("handled"==a||"multi"==a)&&(as(n),wt(e)),i&&!a&&/\'$/.test(t)?(as(n),!0):!!a}function Vn(e,t){var n=Vo(t,!0);return n?t.shiftKey&&!e.state.keySeq?Un(e,"Shift-"+n,t,function(t){return $n(e,t,!0)})||Un(e,n,t,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?$n(e,t):void 0}):Un(e,n,t,function(t){return $n(e,t)}):!1}function Gn(e,t,n){return Un(e,"'"+n+"'",t,function(t){return $n(e,t,!0)})}function Kn(e){var t=this;if(Tn(t),!aa(t,e)){Ja&&11>Za&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=Vn(t,e);no&&(Mo=r?n:null,!r&&88==n&&!Ds&&(co?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||Yn(t)}}function Yn(e){function t(e){18!=e.keyCode&&e.altKey||(Es(n,"CodeMirror-crosshair"),cs(document,"keyup",t),cs(document,"mouseover",t))}var n=e.display.lineDiv;Ls(n,"CodeMirror-crosshair"),ls(document,"keyup",t),ls(document,"mouseover",t)}function Xn(e){16==e.keyCode&&(this.doc.sel.shift=!1),aa(this,e)}function Jn(e){var t=this;if(!(aa(t,e)||e.ctrlKey&&!e.altKey||co&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(no&&n==Mo)return Mo=null,as(e),void 0;if(!(no&&(!e.which||e.which<10)||io)||!Vn(t,e)){var i=String.fromCharCode(null==r?n:r);Gn(t,e,i)||(Ja&&Za>=9&&(t.display.inputHasSelection=null),kn(t))}}}function Zn(e){"nocursor"!=e.options.readOnly&&(e.state.focused||(us(e,"focus",e),e.state.focused=!0,Ls(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(_n(e),Qa&&setTimeout(va(_n,e,!0),0))),xn(e),wt(e))}function Qn(e){e.state.focused&&(us(e,"blur",e),e.state.focused=!1,Es(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150)}function er(e,t){function n(){if(null!=i.input.selectionStart){var t=e.somethingSelected(),n=i.input.value="​"+(t?i.input.value:"");i.prevInput=t?"":"​",i.input.selectionStart=1,i.input.selectionEnd=n.length,i.selForContextMenu=e.doc.sel}}function r(){if(i.inputDiv.style.position="relative",i.input.style.cssText=l,Ja&&9>Za&&(i.scrollbarV.scrollTop=i.scroller.scrollTop=o),xn(e),null!=i.input.selectionStart){(!Ja||Ja&&9>Za)&&n();var t=0,r=function(){i.selForContextMenu==e.doc.sel&&0==i.input.selectionStart?cn(e,Wo.selectAll)(e):t++<10?i.detectingSelectAll=setTimeout(r,500):_n(e)};i.detectingSelectAll=setTimeout(r,200)}}if(!aa(e,t,"contextmenu")){var i=e.display;if(!Mn(i,t)&&!tr(e,t)){var a=Nn(e,t),o=i.scroller.scrollTop;if(a&&!no){var s=e.options.resetSelectionOnContextMenu;s&&-1==e.doc.sel.contains(a)&&cn(e,ct)(e.doc,X(a),ps);var l=i.input.style.cssText;if(i.inputDiv.style.position="absolute",i.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: "+(Ja?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",Qa)var c=window.scrollY;if(Cn(e),Qa&&window.scrollTo(null,c),_n(e),e.somethingSelected()||(i.input.value=i.prevInput=" "),i.selForContextMenu=e.doc.sel,clearTimeout(i.detectingSelectAll),Ja&&Za>=9&&n(),po){ss(t);var u=function(){cs(window,"mouseup",u),setTimeout(r,20)};ls(window,"mouseup",u)}else setTimeout(r,50)}}}}function tr(e,t){return sa(e,"gutterContextMenu")?Fn(e,t,"gutterContextMenu",!1,us):!1}function nr(e,t){if(yo(e,t.from)<0)return e;if(yo(e,t.to)<=0)return No(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=No(t).ch-t.to.ch),vo(n,r)}function rr(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new K(nr(i.anchor,t),nr(i.head,t)))}return Y(n,e.sel.primIndex)}function ir(e,t,n){return e.line==t.line?vo(n.line,e.ch-t.ch+n.ch):vo(n.line+(e.line-t.line),e.ch)}function ar(e,t,n){for(var r=[],i=vo(e.first,0),a=i,o=0;o<t.length;o++){var s=t[o],l=ir(s.from,i,a),c=ir(No(s),i,a);if(i=s.to,a=c,"around"==n){var u=e.sel.ranges[o],h=yo(u.head,u.anchor)<0;r[o]=new K(h?c:l,h?l:c)}else r[o]=new K(l,l)}return new G(r,e.sel.primIndex)}function or(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(t,n,r,i){t&&(this.from=Z(e,t)),n&&(this.to=Z(e,n)),r&&(this.text=r),void 0!==i&&(this.origin=i)}),us(e,"beforeChange",e,r),e.cm&&us(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function sr(e,t,n){if(e.cm){if(!e.cm.curOp)return cn(e.cm,sr)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(sa(e,"beforeChange")||e.cm&&sa(e.cm,"beforeChange"))||(t=or(e,t,!0))){var r=mo&&!n&&$r(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)lr(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text});else lr(e,t)}}function lr(e,t){if(1!=t.text.length||""!=t.text[0]||0!=yo(t.from,t.to)){var n=rr(e,t);$i(e,t,n,e.cm?e.cm.curOp.id:0/0),hr(e,t,n,zr(e,t));var r=[];Ai(e,function(e,n){n||-1!=fa(r,e.history)||(Qi(e.history,t),r.push(e.history)),hr(e,t,null,zr(e,t))})}}function cr(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var r,i=e.history,a=e.sel,o="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,l=0;l<o.length&&(r=o[l],n?!r.ranges||r.equals(e.sel):r.ranges);l++);if(l!=o.length){for(i.lastOrigin=i.lastSelOrigin=null;r=o.pop(),r.ranges;){if(Vi(r,s),n&&!r.equals(e.sel))return ct(e,r,{clearRedo:!1}),void 0;a=r}var c=[];Vi(a,s),s.push({changes:c,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var u=sa(e,"beforeChange")||e.cm&&sa(e.cm,"beforeChange"),l=r.changes.length-1;l>=0;--l){var h=r.changes[l];if(h.origin=t,u&&!or(e,h,!1))return o.length=0,void 0;c.push(zi(e,h));var d=l?rr(e,h):da(o);hr(e,h,d,Wr(e,h)),!l&&e.cm&&e.cm.scrollIntoView({from:h.from,to:No(h)});var f=[];Ai(e,function(e,t){t||-1!=fa(f,e.history)||(Qi(e.history,h),f.push(e.history)),hr(e,h,null,Wr(e,h))})}}}}function ur(e,t){if(0!=t&&(e.first+=t,e.sel=new G(pa(e.sel.ranges,function(e){return new K(vo(e.anchor.line+t,e.anchor.ch),vo(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){pn(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)mn(e.cm,r,"gutter")}}function hr(e,t,n,r){if(e.cm&&!e.cm.curOp)return cn(e.cm,hr)(e,t,n,r);if(t.to.line<e.first)return ur(e,t.text.length-1-(t.to.line-t.from.line)),void 0;if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);ur(e,i),t={from:vo(e.first,0),to:vo(t.to.line+i,t.to.ch),text:[da(t.text)],origin:t.origin}}var a=e.lastLine();t.to.line>a&&(t={from:t.from,to:vo(a,Ni(e,a).text.length),text:[t.text[0]],origin:t.origin}),t.removed=ji(e,t.from,t.to),n||(n=rr(e,t)),e.cm?dr(e.cm,t,r):Ti(e,t,r),ut(e,n,ps)}}function dr(e,t,n){var r=e.doc,i=e.display,o=t.from,s=t.to,l=!1,c=o.line;e.options.lineWrapping||(c=Oi(Qr(Ni(r,o.line))),r.iter(c,s.line+1,function(e){return e==i.maxLine?(l=!0,!0):void 0})),r.sel.contains(t.from,t.to)>-1&&oa(e),Ti(r,t,n,a(e)),e.options.lineWrapping||(r.iter(c,o.line+t.text.length,function(e){var t=h(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,o.line),xt(e,400);var u=t.text.length-(s.line-o.line)-1;o.line!=s.line||1!=t.text.length||Ci(e.doc,t)?pn(e,o.line,s.line+1,u):mn(e,o.line,"text");var d=sa(e,"changes"),f=sa(e,"change");if(f||d){var p={from:o,to:s,text:t.text,removed:t.removed,origin:t.origin};f&&ra(e,"change",e,p),d&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}function fr(e,t,n,r,i){if(r||(r=n),yo(r,n)<0){var a=r;r=n,n=a}"string"==typeof t&&(t=Ns(t)),sr(e,{from:n,to:r,text:t,origin:i})}function pr(e,t){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!oo){var a=xa("div","​",null,"position: absolute; top: "+(t.top-n.viewOffset-Ct(e.display))+"px; height: "+(t.bottom-t.top+ds)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(i),e.display.lineSpace.removeChild(a)}}function mr(e,t,n,r){null==r&&(r=0);for(var i=0;5>i;i++){var a=!1,o=Ut(e,t),s=n&&n!=t?Ut(e,n):o,l=vr(e,Math.min(o.left,s.left),Math.min(o.top,s.top)-r,Math.max(o.left,s.left),Math.max(o.bottom,s.bottom)+r),c=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=l.scrollTop&&(zn(e,l.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=l.scrollLeft&&(Bn(e,l.scrollLeft),Math.abs(e.doc.scrollLeft-u)>1&&(a=!0)),!a)return o}}function gr(e,t,n,r,i){var a=vr(e,t,n,r,i);null!=a.scrollTop&&zn(e,a.scrollTop),null!=a.scrollLeft&&Bn(e,a.scrollLeft)}function vr(e,t,n,r,i){var a=e.display,o=Xt(e.display);0>n&&(n=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:a.scroller.scrollTop,l=a.scroller.clientHeight-ds,c={};i-n>l&&(i=n+l);var u=e.doc.height+Tt(a),h=o>n,d=i>u-o;if(s>n)c.scrollTop=h?0:n;else if(i>s+l){var f=Math.min(n,(d?u:i)-l);f!=s&&(c.scrollTop=f)}var p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:a.scroller.scrollLeft,m=a.scroller.clientWidth-ds-a.gutters.offsetWidth,g=r-t>m;return g&&(r=t+m),10>t?c.scrollLeft=0:p>t?c.scrollLeft=Math.max(0,t-(g?0:10)):r>m+p-3&&(c.scrollLeft=r+(g?0:10)-m),c}function yr(e,t,n){(null!=t||null!=n)&&wr(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function br(e){wr(e);var t=e.getCursor(),n=t,r=t;e.options.lineWrapping||(n=t.ch?vo(t.line,t.ch-1):t,r=vo(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:r,margin:e.options.cursorScrollMargin,isCursor:!0}}function wr(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=Vt(e,t.from),r=Vt(e,t.to),i=vr(e,Math.min(n.left,r.left),Math.min(n.top,r.top)-t.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function xr(e,t,n,r){var i,a=e.doc;null==n&&(n="add"),"smart"==n&&(a.mode.indent?i=_t(e,t):n="prev");var o=e.options.tabSize,s=Ni(a,t),l=vs(s.text,null,o);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&(c=a.mode.indent(i,s.text.slice(u.length),s.text),c==fs||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>a.first?vs(Ni(a,t-1).text,null,o):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var h="",d=0;if(e.options.indentWithTabs)for(var f=Math.floor(c/o);f;--f)d+=o,h+="	";if(c>d&&(h+=ha(c-d)),h!=u)fr(a,h,vo(t,0),vo(t,u.length),"+input");else for(var f=0;f<a.sel.ranges.length;f++){var p=a.sel.ranges[f];if(p.head.line==t&&p.head.ch<u.length){var d=vo(t,u.length);at(a,f,new K(d,d));break}}s.stateAfter=null}function kr(e,t,n,r){var i=t,a=t;return"number"==typeof t?a=Ni(e,J(e,t)):i=Oi(t),null==i?null:(r(a,i)&&e.cm&&mn(e.cm,i,n),a)}function Sr(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var a=t(n[i]);r.length&&yo(a.from,da(r).to)<=0;){var o=r.pop();if(yo(o.from,a.from)<0){a.from=o.from;break}}r.push(a)}ln(e,function(){for(var t=r.length-1;t>=0;t--)fr(e.doc,"",r[t].from,r[t].to,"+delete");br(e)})}function _r(e,t,n,r,i){function a(){var t=s+n;return t<e.first||t>=e.first+e.size?h=!1:(s=t,u=Ni(e,t))}function o(e){var t=(i?Va:Ga)(u,l,n,!0);if(null==t){if(e||!a())return h=!1;l=i?(0>n?Ha:qa)(u):0>n?u.text.length:0}else l=t;return!0}var s=t.line,l=t.ch,c=n,u=Ni(e,s),h=!0;if("char"==r)o();else if("column"==r)o(!0);else if("word"==r||"group"==r)for(var d=null,f="group"==r,p=e.cm&&e.cm.getHelper(t,"wordChars"),m=!0;!(0>n)||o(!m);m=!1){var g=u.text.charAt(l)||"\n",v=ya(g,p)?"w":f&&"\n"==g?"n":!f||/\s/.test(g)?null:"p";if(!f||m||v||(v="s"),d&&d!=v){0>n&&(n=1,o());break}if(v&&(d=v),n>0&&!o(!m))break}var y=pt(e,vo(s,l),c,!0);return h||(y.hitSide=!0),y}function Cr(e,t,n,r){var i,a=e.doc,o=t.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=t.top+n*(s-(0>n?1.5:.5)*Xt(e.display))}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;;){var l=Kt(e,o,i);if(!l.outside)break;if(0>n?0>=i:i>=a.height){l.hitSide=!0;break}i+=5*n}return l}function Tr(t,n,r,i){e.defaults[t]=n,r&&(Do[t]=i?function(e,t,n){n!=Io&&r(e,t,n)}:r)}function Er(e){for(var t,n,r,i,a=e.split(/-(?!$)/),e=a[a.length-1],o=0;o<a.length-1;o++){var s=a[o];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Lr(e){return"string"==typeof e?$o[e]:e}function Ar(e,t,n,r,i){if(r&&r.shared)return Mr(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return cn(e.cm,Ar)(e,t,n,r,i);var a=new Ko(e,i),o=yo(t,n);if(r&&ga(r,a,!1),o>0||0==o&&a.clearWhenEmpty!==!1)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=xa("span",[a.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||(a.widgetNode.ignoreEvents=!0),r.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(Zr(e,t.line,t,n,a)||t.line!=n.line&&Zr(e,n.line,t,n,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");
go=!0}a.addToHistory&&$i(e,{from:t,to:n,origin:"markText"},e.sel,0/0);var s,l=t.line,c=e.cm;if(e.iter(l,n.line+1,function(e){c&&a.collapsed&&!c.options.lineWrapping&&Qr(e)==c.display.maxLine&&(s=!0),a.collapsed&&l!=t.line&&Ii(e,0),Pr(e,new Ir(a,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),a.collapsed&&e.iter(t.line,n.line+1,function(t){ri(e,t)&&Ii(t,0)}),a.clearOnEnter&&ls(a,"beforeCursorEnter",function(){a.clear()}),a.readOnly&&(mo=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++Yo,a.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),a.collapsed)pn(c,t.line,n.line+1);else if(a.className||a.title||a.startStyle||a.endStyle)for(var u=t.line;u<=n.line;u++)mn(c,u,"text");a.atomic&&dt(c.doc),ra(c,"markerAdded",c,a)}return a}function Mr(e,t,n,r,i){r=ga(r),r.shared=!1;var a=[Ar(e,t,n,r,i)],o=a[0],s=r.widgetNode;return Ai(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),a.push(Ar(e,Z(e,t),Z(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;o=da(a)}),new Xo(a,o)}function Nr(e){return e.findMarks(vo(e.first,0),e.clipPos(vo(e.lastLine())),function(e){return e.parent})}function jr(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),a=e.clipPos(i.from),o=e.clipPos(i.to);if(yo(a,o)){var s=Ar(e,a,o,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function Dr(e){for(var t=0;t<e.length;t++){var n=e[t],r=[n.primary.doc];Ai(n.primary.doc,function(e){r.push(e)});for(var i=0;i<n.markers.length;i++){var a=n.markers[i];-1==fa(r,a.doc)&&(a.parent=null,n.markers.splice(i--,1))}}}function Ir(e,t,n){this.marker=e,this.from=t,this.to=n}function Or(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Fr(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Pr(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function qr(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var a=e[i],o=a.marker,s=null==a.from||(o.inclusiveLeft?a.from<=t:a.from<t);if(s||a.from==t&&"bookmark"==o.type&&(!n||!a.marker.insertLeft)){var l=null==a.to||(o.inclusiveRight?a.to>=t:a.to>t);(r||(r=[])).push(new Ir(o,a.from,l?null:a.to))}}return r}function Hr(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var a=e[i],o=a.marker,s=null==a.to||(o.inclusiveRight?a.to>=t:a.to>t);if(s||a.from==t&&"bookmark"==o.type&&(!n||a.marker.insertLeft)){var l=null==a.from||(o.inclusiveLeft?a.from<=t:a.from<t);(r||(r=[])).push(new Ir(o,l?null:a.from-t,null==a.to?null:a.to-t))}}return r}function zr(e,t){var n=et(e,t.from.line)&&Ni(e,t.from.line).markedSpans,r=et(e,t.to.line)&&Ni(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,a=t.to.ch,o=0==yo(t.from,t.to),s=qr(n,i,o),l=Hr(r,a,o),c=1==t.text.length,u=da(t.text).length+(c?i:0);if(s)for(var h=0;h<s.length;++h){var d=s[h];if(null==d.to){var f=Or(l,d.marker);f?c&&(d.to=null==f.to?null:f.to+u):d.to=i}}if(l)for(var h=0;h<l.length;++h){var d=l[h];if(null!=d.to&&(d.to+=u),null==d.from){var f=Or(s,d.marker);f||(d.from=u,c&&(s||(s=[])).push(d))}else d.from+=u,c&&(s||(s=[])).push(d)}s&&(s=Br(s)),l&&l!=s&&(l=Br(l));var p=[s];if(!c){var m,g=t.text.length-2;if(g>0&&s)for(var h=0;h<s.length;++h)null==s[h].to&&(m||(m=[])).push(new Ir(s[h].marker,null,null));for(var h=0;g>h;++h)p.push(m);p.push(l)}return p}function Br(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function Wr(e,t){var n=Yi(e,t),r=zr(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var a=n[i],o=r[i];if(a&&o)e:for(var s=0;s<o.length;++s){for(var l=o[s],c=0;c<a.length;++c)if(a[c].marker==l.marker)continue e;a.push(l)}else o&&(n[i]=o)}return n}function $r(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=fa(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],a=0;a<r.length;++a)for(var o=r[a],s=o.find(0),l=0;l<i.length;++l){var c=i[l];if(!(yo(c.to,s.from)<0||yo(c.from,s.to)>0)){var u=[l,1],h=yo(c.from,s.from),d=yo(c.to,s.to);(0>h||!o.inclusiveLeft&&!h)&&u.push({from:c.from,to:s.from}),(d>0||!o.inclusiveRight&&!d)&&u.push({from:s.to,to:c.to}),i.splice.apply(i,u),l+=u.length-1}}return i}function Rr(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Ur(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Vr(e){return e.inclusiveLeft?-1:0}function Gr(e){return e.inclusiveRight?1:0}function Kr(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),a=yo(r.from,i.from)||Vr(e)-Vr(t);if(a)return-a;var o=yo(r.to,i.to)||Gr(e)-Gr(t);return o?o:t.id-e.id}function Yr(e,t){var n,r=go&&e.markedSpans;if(r)for(var i,a=0;a<r.length;++a)i=r[a],i.marker.collapsed&&null==(t?i.from:i.to)&&(!n||Kr(n,i.marker)<0)&&(n=i.marker);return n}function Xr(e){return Yr(e,!0)}function Jr(e){return Yr(e,!1)}function Zr(e,t,n,r,i){var a=Ni(e,t),o=go&&a.markedSpans;if(o)for(var s=0;s<o.length;++s){var l=o[s];if(l.marker.collapsed){var c=l.marker.find(0),u=yo(c.from,n)||Vr(l.marker)-Vr(i),h=yo(c.to,r)||Gr(l.marker)-Gr(i);if(!(u>=0&&0>=h||0>=u&&h>=0)&&(0>=u&&(yo(c.to,n)>0||l.marker.inclusiveRight&&i.inclusiveLeft)||u>=0&&(yo(c.from,r)<0||l.marker.inclusiveLeft&&i.inclusiveRight)))return!0}}}function Qr(e){for(var t;t=Xr(e);)e=t.find(-1,!0).line;return e}function ei(e){for(var t,n;t=Jr(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function ti(e,t){var n=Ni(e,t),r=Qr(n);return n==r?t:Oi(r)}function ni(e,t){if(t>e.lastLine())return t;var n,r=Ni(e,t);if(!ri(e,r))return t;for(;n=Jr(r);)r=n.find(1,!0).line;return Oi(r)+1}function ri(e,t){var n=go&&t.markedSpans;if(n)for(var r,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&ii(e,t,r))return!0}}function ii(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return ii(e,r.line,Or(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i,a=0;a<t.markedSpans.length;++a)if(i=t.markedSpans[a],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&ii(e,t,i))return!0}function ai(e,t,n){Pi(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&yr(e,null,n)}function oi(e){if(null!=e.height)return e.height;if(!_a(document.body,e.node)){var t="position: relative;";e.coverGutter&&(t+="margin-left: -"+e.cm.getGutterElement().offsetWidth+"px;"),Sa(e.cm.display.measure,xa("div",[e.node],null,t))}return e.height=e.node.offsetHeight}function si(e,t,n,r){var i=new Jo(e,n,r);return i.noHScroll&&(e.display.alignWidgets=!0),kr(e.doc,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,!ri(e.doc,t)){var r=Pi(t)<e.doc.scrollTop;Ii(t,t.height+oi(i)),r&&yr(e,null,i.height),e.curOp.forceUpdate=!0}return!0}),i}function li(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Rr(e),Ur(e,n);var i=r?r(e):1;i!=e.height&&Ii(e,i)}function ci(e){e.parent=null,Rr(e)}function ui(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function hi(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var r=e.innerMode(t,n);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function di(e,t,n){for(var r=0;10>r;r++){var i=e.token(t,n);if(t.pos>t.start)return i}throw new Error("Mode "+e.name+" failed to advance stream.")}function fi(t,n,r,i,a,o,s){var l=r.flattenSpans;null==l&&(l=t.options.flattenSpans);var c,u=0,h=null,d=new Go(n,t.options.tabSize);for(""==n&&ui(hi(r,i),o);!d.eol();){if(d.pos>t.options.maxHighlightLength?(l=!1,s&&gi(t,n,i,d.pos),d.pos=n.length,c=null):c=ui(di(r,d,i),o),t.options.addModeClass){var f=e.innerMode(r,i).mode.name;f&&(c="m-"+(c?f+" "+c:f))}l&&h==c||(u<d.start&&a(d.start,h),u=d.start,h=c),d.start=d.pos}for(;u<d.pos;){var p=Math.min(d.pos,u+5e4);a(p,h),u=p}}function pi(e,t,n,r){var i=[e.state.modeGen],a={};fi(e,t.text,e.doc.mode,n,function(e,t){i.push(e,t)},a,r);for(var o=0;o<e.state.overlays.length;++o){var s=e.state.overlays[o],l=1,c=0;fi(e,t.text,s.mode,!0,function(e,t){for(var n=l;e>c;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,c=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;l>n;n+=2){var a=i[n+1];i[n+1]=(a?a+" ":"")+"cm-overlay "+t}},a)}return{styles:i,classes:a.bgClass||a.textClass?a:null}}function mi(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=pi(e,t,t.stateAfter=_t(e,Oi(t)));t.styles=r.styles,r.classes?t.styleClasses=r.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function gi(e,t,n,r){var i=e.doc.mode,a=new Go(t,e.options.tabSize);for(a.start=a.pos=r||0,""==t&&hi(i,n);!a.eol()&&a.pos<=e.options.maxHighlightLength;)di(i,a,n),a.start=a.pos}function vi(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?es:Qo;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function yi(e,t){var n=xa("span",null,null,Qa?"padding-right: .1px":null),r={pre:xa("pre",[n]),content:n,col:0,pos:0,cm:e};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var a,o=i?t.rest[i-1]:t.line;r.pos=0,r.addToken=wi,(Ja||Qa)&&e.getOption("lineWrapping")&&(r.addToken=xi(r.addToken)),Da(e.display.measure)&&(a=qi(o))&&(r.addToken=ki(r.addToken,a)),r.map=[];var s=t!=e.display.externalMeasured&&Oi(o);_i(o,r,mi(e,o,s)),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=Ea(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=Ea(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(ja(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return Qa&&/\bcm-tab\b/.test(r.content.lastChild.className)&&(r.content.className="cm-tab-wrap-hack"),us(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=Ea(r.pre.className,r.textClass||"")),r}function bi(e){var t=xa("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t}function wi(e,t,n,r,i,a){if(t){var o=e.cm.options.specialChars,s=!1;if(o.test(t))for(var l=document.createDocumentFragment(),c=0;;){o.lastIndex=c;var u=o.exec(t),h=u?u.index-c:t.length-c;if(h){var d=document.createTextNode(t.slice(c,c+h));Ja&&9>Za?l.appendChild(xa("span",[d])):l.appendChild(d),e.map.push(e.pos,e.pos+h,d),e.col+=h,e.pos+=h}if(!u)break;if(c+=h+1,"	"==u[0]){var f=e.cm.options.tabSize,p=f-e.col%f,d=l.appendChild(xa("span",ha(p),"cm-tab"));e.col+=p}else{var d=e.cm.options.specialCharPlaceholder(u[0]);Ja&&9>Za?l.appendChild(xa("span",[d])):l.appendChild(d),e.col+=1}e.map.push(e.pos,e.pos+1,d),e.pos++}else{e.col+=t.length;var l=document.createTextNode(t);e.map.push(e.pos,e.pos+t.length,l),Ja&&9>Za&&(s=!0),e.pos+=t.length}if(n||r||i||s){var m=n||"";r&&(m+=r),i&&(m+=i);var g=xa("span",[l],m);return a&&(g.title=a),e.content.appendChild(g)}e.content.appendChild(l)}}function xi(e){function t(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":" ";return t+=" "}return function(n,r,i,a,o,s){e(n,r.replace(/ {3,}/g,t),i,a,o,s)}}function ki(e,t){return function(n,r,i,a,o,s){i=i?i+" cm-force-border":"cm-force-border";for(var l=n.pos,c=l+r.length;;){for(var u=0;u<t.length;u++){var h=t[u];if(h.to>l&&h.from<=l)break}if(h.to>=c)return e(n,r,i,a,o,s);e(n,r.slice(0,h.to-l),i,a,null,s),a=null,r=r.slice(h.to-l),l=h.to}}}function Si(e,t,n,r){var i=!r&&n.widgetNode;i&&(e.map.push(e.pos,e.pos+t,i),e.content.appendChild(i)),e.pos+=t}function _i(e,t,n){var r=e.markedSpans,i=e.text,a=0;if(r)for(var o,s,l,c,u,h,d=i.length,f=0,p=1,m="",g=0;;){if(g==f){s=l=c=u="",h=null,g=1/0;for(var v=[],y=0;y<r.length;++y){var b=r[y],w=b.marker;b.from<=f&&(null==b.to||b.to>f)?(null!=b.to&&g>b.to&&(g=b.to,l=""),w.className&&(s+=" "+w.className),w.startStyle&&b.from==f&&(c+=" "+w.startStyle),w.endStyle&&b.to==g&&(l+=" "+w.endStyle),w.title&&!u&&(u=w.title),w.collapsed&&(!h||Kr(h.marker,w)<0)&&(h=b)):b.from>f&&g>b.from&&(g=b.from),"bookmark"==w.type&&b.from==f&&w.widgetNode&&v.push(w)}if(h&&(h.from||0)==f&&(Si(t,(null==h.to?d+1:h.to)-f,h.marker,null==h.from),null==h.to))return;if(!h&&v.length)for(var y=0;y<v.length;++y)Si(t,0,v[y])}if(f>=d)break;for(var x=Math.min(d,g);;){if(m){var k=f+m.length;if(!h){var S=k>x?m.slice(0,x-f):m;t.addToken(t,S,o?o+s:s,c,f+S.length==g?l:"",u)}if(k>=x){m=m.slice(x-f),f=x;break}f=k,c=""}m=i.slice(a,a=n[p++]),o=vi(n[p++],t.cm.options)}}else for(var p=1;p<n.length;p+=2)t.addToken(t,i.slice(a,a=n[p]),vi(n[p+1],t.cm.options))}function Ci(e,t){return 0==t.from.ch&&0==t.to.ch&&""==da(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ti(e,t,n,r){function i(e){return n?n[e]:null}function a(e,n,i){li(e,n,i,r),ra(e,"change",e,t)}var o=t.from,s=t.to,l=t.text,c=Ni(e,o.line),u=Ni(e,s.line),h=da(l),d=i(l.length-1),f=s.line-o.line;if(Ci(e,t)){for(var p=0,m=[];p<l.length-1;++p)m.push(new Zo(l[p],i(p),r));a(u,u.text,d),f&&e.remove(o.line,f),m.length&&e.insert(o.line,m)}else if(c==u)if(1==l.length)a(c,c.text.slice(0,o.ch)+h+c.text.slice(s.ch),d);else{for(var m=[],p=1;p<l.length-1;++p)m.push(new Zo(l[p],i(p),r));m.push(new Zo(h+c.text.slice(s.ch),d,r)),a(c,c.text.slice(0,o.ch)+l[0],i(0)),e.insert(o.line+1,m)}else if(1==l.length)a(c,c.text.slice(0,o.ch)+l[0]+u.text.slice(s.ch),i(0)),e.remove(o.line+1,f);else{a(c,c.text.slice(0,o.ch)+l[0],i(0)),a(u,h+u.text.slice(s.ch),d);for(var p=1,m=[];p<l.length-1;++p)m.push(new Zo(l[p],i(p),r));f>1&&e.remove(o.line+1,f-1),e.insert(o.line+1,m)}ra(e,"change",e,t)}function Ei(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function Li(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}function Ai(e,t,n){function r(e,i,a){if(e.linked)for(var o=0;o<e.linked.length;++o){var s=e.linked[o];if(s.doc!=i){var l=a&&s.sharedHist;(!n||l)&&(t(s.doc,l),r(s.doc,e,l))}}}r(e,null,!0)}function Mi(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,o(e),n(e),e.options.lineWrapping||d(e),e.options.mode=t.modeOption,pn(e)}function Ni(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],a=i.chunkSize();if(a>t){n=i;break}t-=a}return n.lines[t]}function ji(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var a=e.text;i==n.line&&(a=a.slice(0,n.ch)),i==t.line&&(a=a.slice(t.ch)),r.push(a),++i}),r}function Di(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function Ii(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function Oi(e){if(null==e.parent)return null;for(var t=e.parent,n=fa(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function Fi(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],a=i.height;if(a>t){e=i;continue e}t-=a,n+=i.chunkSize()}return n}while(!e.lines);for(var r=0;r<e.lines.length;++r){var o=e.lines[r],s=o.height;if(s>t)break;t-=s}return n+r}function Pi(e){e=Qr(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var a=n.parent;a;n=a,a=n.parent)for(var r=0;r<a.children.length;++r){var o=a.children[r];if(o==n)break;t+=o.height}return t}function qi(e){var t=e.order;return null==t&&(t=e.order=Ps(e.text)),t}function Hi(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function zi(e,t){var n={from:R(t.from),to:No(t),text:ji(e,t.from,t.to)};return Gi(e,n,t.from.line,t.to.line+1),Ai(e,function(e){Gi(e,n,t.from.line,t.to.line+1)},!0),n}function Bi(e){for(;e.length;){var t=da(e);if(!t.ranges)break;e.pop()}}function Wi(e,t){return t?(Bi(e.done),da(e.done)):e.done.length&&!da(e.done).ranges?da(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),da(e.done)):void 0}function $i(e,t,n,r){var i=e.history;i.undone.length=0;var a,o=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>o-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(a=Wi(i,i.lastOp==r))){var s=da(a.changes);0==yo(t.from,t.to)&&0==yo(t.from,s.to)?s.to=No(t):a.changes.push(zi(e,t))}else{var l=da(i.done);for(l&&l.ranges||Vi(e.sel,i.done),a={changes:[zi(e,t)],generation:i.generation},i.done.push(a);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=o,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,s||us(e,"historyAdded")}function Ri(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Ui(e,t,n,r){var i=e.history,a=r&&r.origin;n==i.lastSelOp||a&&i.lastSelOrigin==a&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==a||Ri(e,a,da(i.done),t))?i.done[i.done.length-1]=t:Vi(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=a,i.lastSelOp=n,r&&r.clearRedo!==!1&&Bi(i.undone)}function Vi(e,t){var n=da(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Gi(e,t,n,r){var i=t["spans_"+e.id],a=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[a]=n.markedSpans),++a})}function Ki(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Yi(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=0,i=[];r<t.text.length;++r)i.push(Ki(n[r]));return i}function Xi(e,t,n){for(var r=0,i=[];r<e.length;++r){var a=e[r];if(a.ranges)i.push(n?G.prototype.deepCopy.call(a):a);else{var o=a.changes,s=[];i.push({changes:s});for(var l=0;l<o.length;++l){var c,u=o[l];if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var h in u)(c=h.match(/^spans_(\d+)$/))&&fa(t,Number(c[1]))>-1&&(da(s)[h]=u[h],delete u[h])}}}return i}function Ji(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function Zi(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i],o=!0;if(a.ranges){a.copied||(a=e[i]=a.deepCopy(),a.copied=!0);for(var s=0;s<a.ranges.length;s++)Ji(a.ranges[s].anchor,t,n,r),Ji(a.ranges[s].head,t,n,r)}else{for(var s=0;s<a.changes.length;++s){var l=a.changes[s];if(n<l.from.line)l.from=vo(l.from.line+r,l.from.ch),l.to=vo(l.to.line+r,l.to.ch);else if(t<=l.to.line){o=!1;break}}o||(e.splice(0,i+1),i=0)}}}function Qi(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;Zi(e.done,n,r,i),Zi(e.undone,n,r,i)}function ea(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function ta(e){return e.target||e.srcElement}function na(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),co&&e.ctrlKey&&1==t&&(t=3),t}function ra(e,t){function n(e){return function(){e.apply(null,a)}}var r=e._handlers&&e._handlers[t];if(r){var i,a=Array.prototype.slice.call(arguments,2);So?i=So.delayedCallbacks:hs?i=hs:(i=hs=[],setTimeout(ia,0));for(var o=0;o<r.length;++o)i.push(n(r[o]))}}function ia(){var e=hs;hs=null;for(var t=0;t<e.length;++t)e[t]()}function aa(e,t,n){return us(e,n||t.type,e,t),ea(t)||t.codemirrorIgnore}function oa(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==fa(n,t[r])&&n.push(t[r])}function sa(e,t){var n=e._handlers&&e._handlers[t];return n&&n.length>0}function la(e){e.prototype.on=function(e,t){ls(this,e,t)},e.prototype.off=function(e,t){cs(this,e,t)}}function ca(){this.id=null}function ua(e,t,n){for(var r=0,i=0;;){var a=e.indexOf("	",r);-1==a&&(a=e.length);var o=a-r;if(a==e.length||i+o>=t)return r+Math.min(o,t-i);if(i+=a-r,i+=n-i%n,r=a+1,i>=t)return r}}function ha(e){for(;ys.length<=e;)ys.push(da(ys)+" ");return ys[e]}function da(e){return e[e.length-1]}function fa(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function pa(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function ma(e,t){var n;if(Object.create)n=Object.create(e);else{var r=function(){};r.prototype=e,n=new r}return t&&ga(t,n),n}function ga(e,t,n){t||(t={});for(var r in e)!e.hasOwnProperty(r)||n===!1&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function va(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function ya(e,t){return t?t.source.indexOf("\\w")>-1&&ks(e)?!0:t.test(e):ks(e)}function ba(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function wa(e){return e.charCodeAt(0)>=768&&Ss.test(e)}function xa(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var a=0;a<t.length;++a)i.appendChild(t[a]);return i}function ka(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Sa(e,t){return ka(e).appendChild(t)}function _a(e,t){if(e.contains)return e.contains(t);for(;t=t.parentNode;)if(t==e)return!0}function Ca(){return document.activeElement}function Ta(e){return new RegExp("\\b"+e+"\\b\\s*")}function Ea(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!Ta(n[r]).test(t)&&(t+=" "+n[r]);return t}function La(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function Aa(){As||(Ma(),As=!0)}function Ma(){var e;ls(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,_s=null,La(An)},100))}),ls(window,"blur",function(){La(Qn)})}function Na(e){if(null!=_s)return _s;var t=xa("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return Sa(e,t),t.offsetWidth&&(_s=t.offsetHeight-t.clientHeight),_s||0}function ja(e){if(null==Cs){var t=xa("span","​");Sa(e,xa("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Cs=t.offsetWidth<=1&&t.offsetHeight>2&&!(Ja&&8>Za))}return Cs?xa("span","​"):xa("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function Da(e){if(null!=Ts)return Ts;var t=Sa(e,document.createTextNode("AخA")),n=ws(t,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var r=ws(t,1,2).getBoundingClientRect();return Ts=r.right-n.right<3}function Ia(e){if(null!=Is)return Is;var t=Sa(e,xa("span","x")),n=t.getBoundingClientRect(),r=ws(t,0,1).getBoundingClientRect();return Is=Math.abs(n.left-r.left)>1}function Oa(e,t,n,r){if(!e)return r(t,n,"ltr");for(var i=!1,a=0;a<e.length;++a){var o=e[a];(o.from<n&&o.to>t||t==n&&o.to==t)&&(r(Math.max(o.from,t),Math.min(o.to,n),1==o.level?"rtl":"ltr"),i=!0)}i||r(t,n,"ltr")}function Fa(e){return e.level%2?e.to:e.from}function Pa(e){return e.level%2?e.from:e.to}function qa(e){var t=qi(e);return t?Fa(t[0]):0}function Ha(e){var t=qi(e);return t?Pa(da(t)):e.text.length}function za(e,t){var n=Ni(e.doc,t),r=Qr(n);r!=n&&(t=Oi(r));var i=qi(r),a=i?i[0].level%2?Ha(r):qa(r):0;return vo(t,a)}function Ba(e,t){for(var n,r=Ni(e.doc,t);n=Jr(r);)r=n.find(1,!0).line,t=null;var i=qi(r),a=i?i[0].level%2?qa(r):Ha(r):r.text.length;return vo(null==t?Oi(r):t,a)}function Wa(e,t){var n=za(e,t.line),r=Ni(e.doc,n.line),i=qi(r);if(!i||0==i[0].level){var a=Math.max(0,r.text.search(/\S/)),o=t.line==n.line&&t.ch<=a&&t.ch;return vo(n.line,o?0:a)}return n}function $a(e,t,n){var r=e[0].level;return t==r?!0:n==r?!1:n>t}function Ra(e,t){Fs=null;for(var n,r=0;r<e.length;++r){var i=e[r];if(i.from<t&&i.to>t)return r;if(i.from==t||i.to==t){if(null!=n)return $a(e,i.level,e[n].level)?(i.from!=i.to&&(Fs=n),r):(i.from!=i.to&&(Fs=r),n);n=r}}return n}function Ua(e,t,n,r){if(!r)return t+n;do t+=n;while(t>0&&wa(e.text.charAt(t)));return t}function Va(e,t,n,r){var i=qi(e);if(!i)return Ga(e,t,n,r);for(var a=Ra(i,t),o=i[a],s=Ua(e,t,o.level%2?-n:n,r);;){if(s>o.from&&s<o.to)return s;if(s==o.from||s==o.to)return Ra(i,s)==a?s:(o=i[a+=n],n>0==o.level%2?o.to:o.from);if(o=i[a+=n],!o)return null;s=n>0==o.level%2?Ua(e,o.to,-1,r):Ua(e,o.from,1,r)}}function Ga(e,t,n,r){var i=t+n;if(r)for(;i>0&&wa(e.text.charAt(i));)i+=n;return 0>i||i>e.text.length?null:i}var Ka=/gecko\/\d/i.test(navigator.userAgent),Ya=/MSIE \d/.test(navigator.userAgent),Xa=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Ja=Ya||Xa,Za=Ja&&(Ya?document.documentMode||6:Xa[1]),Qa=/WebKit\//.test(navigator.userAgent),eo=Qa&&/Qt\/\d+\.\d+/.test(navigator.userAgent),to=/Chrome\//.test(navigator.userAgent),no=/Opera\//.test(navigator.userAgent),ro=/Apple Computer/.test(navigator.vendor),io=/KHTML\//.test(navigator.userAgent),ao=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),oo=/PhantomJS/.test(navigator.userAgent),so=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),lo=so||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),co=so||/Mac/.test(navigator.platform),uo=/win/i.test(navigator.platform),ho=no&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);ho&&(ho=Number(ho[1])),ho&&ho>=15&&(no=!1,Qa=!0);var fo=co&&(eo||no&&(null==ho||12.11>ho)),po=Ka||Ja&&Za>=9,mo=!1,go=!1,vo=e.Pos=function(e,t){return this instanceof vo?(this.line=e,this.ch=t,void 0):new vo(e,t)},yo=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch};G.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(0!=yo(n.anchor,r.anchor)||0!=yo(n.head,r.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new K(R(this.ranges[t].anchor),R(this.ranges[t].head));return new G(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(yo(t,r.from())>=0&&yo(e,r.to())<=0)return n}return-1}},K.prototype={from:function(){return V(this.anchor,this.head)},to:function(){return U(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var bo,wo,xo,ko={left:0,right:0,top:0,bottom:0},So=null,_o=0,Co=null,To=0,Eo=0,Lo=null;Ja?Lo=-.53:Ka?Lo=15:to?Lo=-.7:ro&&(Lo=-1/3);var Ao=new ca,Mo=null,No=e.changeEnd=function(e){return e.text?vo(e.from.line+e.text.length-1,da(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),Cn(this),kn(this)},setOption:function(e,t){var n=this.options,r=n[e];(n[e]!=t||"mode"==e)&&(n[e]=t,Do.hasOwnProperty(e)&&cn(this,Do[e])(this,t,r))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Lr(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:un(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,pn(this)}),removeOverlay:un(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,pn(this),void 0}}),indentLine:un(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),et(this.doc,e)&&xr(this,e,t,n)}),indentSelection:un(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(xr(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&br(this));else{var a=i.from(),o=i.to(),s=Math.max(n,a.line);n=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var l=s;n>l;++l)xr(this,l,e);var c=this.doc.sel.ranges;0==a.ch&&t.length==c.length&&c[r].from().ch>0&&at(this.doc,r,new K(a,c[r].to()),ps)}}}),getTokenAt:function(e,t){var n=this.doc;e=Z(n,e);for(var r=_t(this,e.line,t),i=this.doc.mode,a=Ni(n,e.line),o=new Go(a.text,this.options.tabSize);o.pos<e.ch&&!o.eol();){o.start=o.pos;var s=di(i,o,r)}return{start:o.start,end:o.pos,string:o.current(),type:s||null,state:r}},getTokenTypeAt:function(e){e=Z(this.doc,e);var t,n=mi(this,Ni(this.doc,e.line)),r=0,i=(n.length-1)/2,a=e.ch;if(0==a)t=n[2];else for(;;){var o=r+i>>1;if((o?n[2*o-1]:0)>=a)i=o;else{if(!(n[2*o+1]<a)){t=n[2*o+2];break}r=o+1}}var s=t?t.indexOf("cm-overlay "):-1;return 0>s?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!Ho.hasOwnProperty(t))return Ho;var r=Ho[t],i=this.getModeAt(e);if("string"==typeof i[t])r[i[t]]&&n.push(r[i[t]]);else if(i[t])for(var a=0;a<i[t].length;a++){var o=r[i[t][a]];o&&n.push(o)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(var a=0;a<r._global.length;a++){var s=r._global[a];s.pred(i,this)&&-1==fa(n,s.val)&&n.push(s.val)}return n},getStateAfter:function(e,t){var n=this.doc;return e=J(n,null==e?n.first+n.size-1:e),_t(this,e+1,t)},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?Z(this.doc,e):e?r.from():r.to(),Ut(this,n,t||"page")},charCoords:function(e,t){return Rt(this,Z(this.doc,e),t||"page")},coordsChar:function(e,t){return e=$t(this,e,t||"page"),Kt(this,e.left,e.top)},lineAtHeight:function(e,t){return e=$t(this,{top:e,left:0},t||"page").top,Fi(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n=!1,r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>r&&(e=r,n=!0);var i=Ni(this.doc,e);return Wt(this,i,{top:0,left:0},t||"page").top+(n?this.doc.height-Pi(i):0)},defaultTextHeight:function(){return Xt(this.display)},defaultCharWidth:function(){return Jt(this.display)},setGutterMarker:un(function(e,t,n){return kr(this.doc,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&ba(r)&&(e.gutterMarkers=null),!0})}),clearGutter:un(function(e){var t=this,n=t.doc,r=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,mn(t,r,"gutter"),ba(n.gutterMarkers)&&(n.gutterMarkers=null)),++r})}),addLineWidget:un(function(e,t,n){return si(this,e,t,n)}),removeLineWidget:function(e){e.clear()},lineInfo:function(e){if("number"==typeof e){if(!et(this.doc,e))return null;var t=e;if(e=Ni(this.doc,e),!e)return null}else{var t=Oi(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var a=this.display;e=Ut(this,Z(this.doc,e));var o=e.bottom,s=e.left;if(t.style.position="absolute",a.sizer.appendChild(t),"over"==r)o=e.top;else if("above"==r||"near"==r){var l=Math.max(a.wrapper.clientHeight,this.doc.height),c=Math.max(a.sizer.clientWidth,a.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(o=e.bottom),s+t.offsetWidth>c&&(s=c-t.offsetWidth)}t.style.top=o+"px",t.style.left=t.style.right="","right"==i?(s=a.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(a.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&gr(this,s,o,s+t.offsetWidth,o+t.offsetHeight)
},triggerOnKeyDown:un(Kn),triggerOnKeyPress:un(Jn),triggerOnKeyUp:Xn,execCommand:function(e){return Wo.hasOwnProperty(e)?Wo[e](this):void 0},findPosH:function(e,t,n,r){var i=1;0>t&&(i=-1,t=-t);for(var a=0,o=Z(this.doc,e);t>a&&(o=_r(this.doc,o,i,n,r),!o.hitSide);++a);return o},moveH:un(function(e,t){var n=this;n.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?_r(n.doc,r.head,e,t,n.options.rtlMoveVisually):0>e?r.from():r.to()},gs)}),deleteH:un(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Sr(this,function(n){var i=_r(r,n.head,e,t,!1);return 0>e?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=1,a=r;0>t&&(i=-1,t=-t);for(var o=0,s=Z(this.doc,e);t>o;++o){var l=Ut(this,s,"div");if(null==a?a=l.left:l.left=a,s=Cr(this,l,i,n),s.hitSide)break}return s},moveV:un(function(e,t){var n=this,r=this.doc,i=[],a=!n.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(o){if(a)return 0>e?o.from():o.to();var s=Ut(n,o.head,"div");null!=o.goalColumn&&(s.left=o.goalColumn),i.push(s.left);var l=Cr(n,s,e,t);return"page"==t&&o==r.sel.primary()&&yr(n,null,Rt(n,l,"div").top-s.top),l},gs),i.length)for(var o=0;o<r.sel.ranges.length;o++)r.sel.ranges[o].goalColumn=i[o]}),findWordAt:function(e){var t=this.doc,n=Ni(t,e.line).text,r=e.ch,i=e.ch;if(n){var a=this.getHelper(e,"wordChars");(e.xRel<0||i==n.length)&&r?--r:++i;for(var o=n.charAt(r),s=ya(o,a)?function(e){return ya(e,a)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ya(e)};r>0&&s(n.charAt(r-1));)--r;for(;i<n.length&&s(n.charAt(i));)++i}return new K(vo(e.line,r),vo(e.line,i))},toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?Ls(this.display.cursorDiv,"CodeMirror-overwrite"):Es(this.display.cursorDiv,"CodeMirror-overwrite"),us(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return Ca()==this.display.input},scrollTo:un(function(e,t){(null!=e||null!=t)&&wr(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller,t=ds;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-t,width:e.scrollWidth-t,clientHeight:e.clientHeight-t,clientWidth:e.clientWidth-t}},scrollIntoView:un(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:vo(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)wr(this),this.curOp.scrollToPos=e;else{var n=vr(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:un(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var r=this;null!=e&&(r.display.wrapper.style.width=n(e)),null!=t&&(r.display.wrapper.style.height=n(t)),r.options.lineWrapping&&qt(this);var i=r.display.viewFrom;r.doc.iter(i,r.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){mn(r,i,"widget");break}++i}),r.curOp.forceUpdate=!0,us(r,"refresh",this)}),operation:function(e){return ln(this,e)},refresh:un(function(){var e=this.display.cachedTextHeight;pn(this),this.curOp.forceUpdate=!0,Ht(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),u(this),(null==e||Math.abs(e-Xt(this.display))>.5)&&o(this),us(this,"refresh",this)}),swapDoc:un(function(e){var t=this.doc;return t.cm=null,Mi(this,e),Ht(this),_n(this),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,ra(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},la(e);var jo=e.defaults={},Do=e.optionHandlers={},Io=e.Init={toString:function(){return"CodeMirror.Init"}};Tr("value","",function(e,t){e.setValue(t)},!0),Tr("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),Tr("indentUnit",2,n,!0),Tr("indentWithTabs",!1),Tr("smartIndent",!0),Tr("tabSize",4,function(e){r(e),Ht(e),pn(e)},!0),Tr("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t){e.options.specialChars=new RegExp(t.source+(t.test("	")?"":"|	"),"g"),e.refresh()},!0),Tr("specialCharPlaceholder",bi,function(e){e.refresh()},!0),Tr("electricChars",!0),Tr("rtlMoveVisually",!uo),Tr("wholeLineUpdateBefore",!0),Tr("theme","default",function(e){s(e),l(e)},!0),Tr("keyMap","default",function(t,n,r){var i=Lr(n),a=r!=e.Init&&Lr(r);a&&a.detach&&a.detach(t,i),i.attach&&i.attach(t,a||null)}),Tr("extraKeys",null),Tr("lineWrapping",!1,i,!0),Tr("gutters",[],function(e){f(e.options),l(e)},!0),Tr("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?x(e.display)+"px":"0",e.refresh()},!0),Tr("coverGutterNextToScrollbar",!1,g,!0),Tr("lineNumbers",!1,function(e){f(e.options),l(e)},!0),Tr("firstLineNumber",1,l,!0),Tr("lineNumberFormatter",function(e){return e},l,!0),Tr("showCursorWhenSelecting",!1,vt,!0),Tr("resetSelectionOnContextMenu",!0),Tr("readOnly",!1,function(e,t){"nocursor"==t?(Qn(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||_n(e))}),Tr("disableInput",!1,function(e,t){t||_n(e)},!0),Tr("dragDrop",!0),Tr("cursorBlinkRate",530),Tr("cursorScrollMargin",0),Tr("cursorHeight",1,vt,!0),Tr("singleCursorHeightPerLine",!0,vt,!0),Tr("workTime",100),Tr("workDelay",100),Tr("flattenSpans",!0,r,!0),Tr("addModeClass",!1,r,!0),Tr("pollInterval",100),Tr("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),Tr("historyEventDelay",1250),Tr("viewportMargin",10,function(e){e.refresh()},!0),Tr("maxHighlightLength",1e4,r,!0),Tr("moveInputWithCursor",!0,function(e,t){t||(e.display.inputDiv.style.top=e.display.inputDiv.style.left=0)}),Tr("tabindex",null,function(e,t){e.display.input.tabIndex=t||""}),Tr("autofocus",null);var Oo=e.modes={},Fo=e.mimeModes={};e.defineMode=function(t,n){e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),Oo[t]=n},e.defineMIME=function(e,t){Fo[e]=t},e.resolveMode=function(t){if("string"==typeof t&&Fo.hasOwnProperty(t))t=Fo[t];else if(t&&"string"==typeof t.name&&Fo.hasOwnProperty(t.name)){var n=Fo[t.name];"string"==typeof n&&(n={name:n}),t=ma(n,t),t.name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),r=Oo[n.name];if(!r)return e.getMode(t,"text/plain");var i=r(t,n);if(Po.hasOwnProperty(n.name)){var a=Po[n.name];for(var o in a)a.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&(i["_"+o]=i[o]),i[o]=a[o])}if(i.name=n.name,n.helperType&&(i.helperType=n.helperType),n.modeProps)for(var o in n.modeProps)i[o]=n.modeProps[o];return i},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var Po=e.modeExtensions={};e.extendMode=function(e,t){var n=Po.hasOwnProperty(e)?Po[e]:Po[e]={};ga(t,n)},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){ns.prototype[e]=t},e.defineOption=Tr;var qo=[];e.defineInitHook=function(e){qo.push(e)};var Ho=e.helpers={};e.registerHelper=function(t,n,r){Ho.hasOwnProperty(t)||(Ho[t]=e[t]={_global:[]}),Ho[t][n]=r},e.registerGlobalHelper=function(t,n,r,i){e.registerHelper(t,n,i),Ho[t]._global.push({pred:r,val:i})};var zo=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n},Bo=e.startState=function(e,t,n){return e.startState?e.startState(t,n):!0};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var Wo=e.commands={selectAll:function(e){e.setSelection(vo(e.firstLine(),0),vo(e.lastLine()),ps)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),ps)},killLine:function(e){Sr(e,function(t){if(t.empty()){var n=Ni(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:vo(t.head.line+1,0)}:{from:t.head,to:vo(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Sr(e,function(t){return{from:vo(t.from().line,0),to:Z(e.doc,vo(t.to().line+1,0))}})},delLineLeft:function(e){Sr(e,function(e){return{from:vo(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){Sr(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){Sr(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(vo(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(vo(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return za(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return Wa(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return Ba(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},gs)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},gs)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?Wa(e,t.head):r},gs)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var a=n[i].from(),o=vs(e.getLine(a.line),a.ch,r);t.push(new Array(r-o%r+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){ln(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var i=t[r].head,a=Ni(e.doc,i.line).text;if(a)if(i.ch==a.length&&(i=new vo(i.line,i.ch-1)),i.ch>0)i=new vo(i.line,i.ch+1),e.replaceRange(a.charAt(i.ch-1)+a.charAt(i.ch-2),vo(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var o=Ni(e.doc,i.line-1).text;o&&e.replaceRange(a.charAt(0)+"\n"+o.charAt(o.length-1),vo(i.line-1,o.length-1),vo(i.line,1),"+transpose")}n.push(new K(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){ln(e,function(){for(var t=e.listSelections().length,n=0;t>n;n++){var r=e.listSelections()[n];e.replaceRange("\n",r.anchor,r.head,"+input"),e.indentLine(r.from().line+1,null,!0),br(e)}})},toggleOverwrite:function(e){e.toggleOverwrite()}},$o=e.keyMap={};$o.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},$o.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},$o.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},$o.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},$o["default"]=co?$o.macDefault:$o.pcDefault,e.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=pa(n.split(" "),Er),a=0;a<i.length;a++){var o,s;a==i.length-1?(s=n,o=r):(s=i.slice(0,a+1).join(" "),o="...");var l=t[s];if(l){if(l!=o)throw new Error("Inconsistent bindings for "+s)}else t[s]=o}delete e[n]}for(var c in t)e[c]=t[c];return e};var Ro=e.lookupKey=function(e,t,n){t=Lr(t);var r=t[e];if(r===!1)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Ro(e,t.fallthrough,n);for(var i=0;i<t.fallthrough.length;i++){var a=Ro(e,t.fallthrough[i],n);if(a)return a}}},Uo=e.isModifierKey=function(e){var t="string"==typeof e?e:Os[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},Vo=e.keyName=function(e,t){if(no&&34==e.keyCode&&e["char"])return!1;var n=Os[e.keyCode],r=n;return null==r||e.altGraphKey?!1:(e.altKey&&"Alt"!=n&&(r="Alt-"+r),(fo?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(r="Ctrl-"+r),(fo?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(r="Cmd-"+r),!t&&e.shiftKey&&"Shift"!=n&&(r="Shift-"+r),r)};e.fromTextArea=function(t,n){function r(){t.value=c.getValue()}if(n||(n={}),n.value=t.value,!n.tabindex&&t.tabindex&&(n.tabindex=t.tabindex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var i=Ca();n.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form&&(ls(t.form,"submit",r),!n.leaveSubmitMethodAlone)){var a=t.form,o=a.submit;try{var s=a.submit=function(){r(),a.submit=o,a.submit(),a.submit=s}}catch(l){}}t.style.display="none";var c=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return c.save=r,c.getTextArea=function(){return t},c.toTextArea=function(){c.toTextArea=isNaN,r(),t.parentNode.removeChild(c.getWrapperElement()),t.style.display="",t.form&&(cs(t.form,"submit",r),"function"==typeof t.form.submit&&(t.form.submit=o))},c};var Go=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};Go.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=vs(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?vs(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return vs(this.string,null,this.tabSize)-(this.lineStart?vs(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&t!==!1&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e},a=this.string.substr(this.pos,e.length);return i(a)==i(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var Ko=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e};la(Ko),Ko.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Zt(e),sa(this,"clear")){var n=this.find();n&&ra(this,"clear",n.from,n.to)}for(var r=null,i=null,a=0;a<this.lines.length;++a){var o=this.lines[a],s=Or(o.markedSpans,this);e&&!this.collapsed?mn(e,Oi(o),"text"):e&&(null!=s.to&&(i=Oi(o)),null!=s.from&&(r=Oi(o))),o.markedSpans=Fr(o.markedSpans,s),null==s.from&&this.collapsed&&!ri(this.doc,o)&&e&&Ii(o,Xt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var a=0;a<this.lines.length;++a){var l=Qr(this.lines[a]),c=h(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&pn(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&dt(e.doc)),e&&ra(e,"markerCleared",e,this),t&&en(e),this.parent&&this.parent.clear()}},Ko.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,r,i=0;i<this.lines.length;++i){var a=this.lines[i],o=Or(a.markedSpans,this);if(null!=o.from&&(n=vo(t?a:Oi(a),o.from),-1==e))return n;if(null!=o.to&&(r=vo(t?a:Oi(a),o.to),1==e))return r}return n&&{from:n,to:r}},Ko.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&ln(n,function(){var r=e.line,i=Oi(e.line),a=jt(n,i);if(a&&(Pt(a),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!ri(t.doc,r)&&null!=t.height){var o=t.height;t.height=null;var s=oi(t)-o;s&&Ii(r,r.height+s)}})},Ko.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=fa(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Ko.prototype.detachLine=function(e){if(this.lines.splice(fa(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var Yo=0,Xo=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};la(Xo),Xo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();ra(this,"clear")}},Xo.prototype.find=function(e,t){return this.primary.find(e,t)};var Jo=e.LineWidget=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.cm=e,this.node=t};la(Jo),Jo.prototype.clear=function(){var e=this.cm,t=this.line.widgets,n=this.line,r=Oi(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var a=oi(this);ln(e,function(){ai(e,n,-a),mn(e,r,"widget"),Ii(n,Math.max(0,n.height-a))})}},Jo.prototype.changed=function(){var e=this.height,t=this.cm,n=this.line;this.height=null;var r=oi(this)-e;r&&ln(t,function(){t.curOp.forceUpdate=!0,ai(t,n,r),Ii(n,n.height+r)})};var Zo=e.Line=function(e,t,n){this.text=e,Ur(this,t),this.height=n?n(this):1};la(Zo),Zo.prototype.lineNo=function(){return Oi(this)};var Qo={},es={};Ei.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;r>n;++n){var i=this.lines[n];this.height-=i.height,ci(i),ra(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;r>e;++e)if(n(this.lines[e]))return!0}},Li.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(i>e){var a=Math.min(t,i-e),o=r.height;if(r.removeInner(e,a),this.height-=o-r.height,i==a&&(this.children.splice(n--,1),r.parent=null),0==(t-=a))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Ei))){var s=[];this.collapse(s),this.children=[new Ei(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],a=i.chunkSize();if(a>=e){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(;i.lines.length>50;){var o=i.lines.splice(i.lines.length-25,25),s=new Ei(o);i.height-=s.height,this.children.splice(r+1,0,s),s.parent=this}this.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Li(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=fa(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new Li(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],a=i.chunkSize();if(a>e){var o=Math.min(t,a-e);if(i.iterN(e,o,n))return!0;if(0==(t-=o))break;e=0}else e-=a}}};var ts=0,ns=e.Doc=function(e,t,n){if(!(this instanceof ns))return new ns(e,t,n);null==n&&(n=0),Li.call(this,[new Ei([new Zo("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=vo(n,0);this.sel=X(r),this.history=new Hi(null),this.id=++ts,this.modeOption=t,"string"==typeof e&&(e=Ns(e)),Ti(this,{from:r,to:r,text:e}),ct(this,X(r),ps)};ns.prototype=ma(Li.prototype,{constructor:ns,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Di(this,this.first,this.first+this.size);return e===!1?t:t.join(e||"\n")},setValue:hn(function(e){var t=vo(this.first,0),n=this.first+this.size-1;sr(this,{from:t,to:vo(n,Ni(this,n).text.length),text:Ns(e),origin:"setValue"},!0),ct(this,X(t))}),replaceRange:function(e,t,n,r){t=Z(this,t),n=n?Z(this,n):t,fr(this,e,t,n,r)},getRange:function(e,t,n){var r=ji(this,Z(this,e),Z(this,t));return n===!1?r:r.join(n||"\n")},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return et(this,e)?Ni(this,e):void 0},getLineNumber:function(e){return Oi(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Ni(this,e)),Qr(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Z(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:hn(function(e,t,n){ot(this,Z(this,"number"==typeof e?vo(e,t||0):e),null,n)}),setSelection:hn(function(e,t,n){ot(this,Z(this,e),Z(this,t||e),n)}),extendSelection:hn(function(e,t,n){rt(this,Z(this,e),t&&Z(this,t),n)}),extendSelections:hn(function(e,t){it(this,tt(this,e,t))}),extendSelectionsBy:hn(function(e,t){it(this,pa(this.sel.ranges,e),t)}),setSelections:hn(function(e,t,n){if(e.length){for(var r=0,i=[];r<e.length;r++)i[r]=new K(Z(this,e[r].anchor),Z(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),ct(this,Y(i,t),n)}}),addSelection:hn(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new K(Z(this,e),Z(this,t||e))),ct(this,Y(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=ji(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return e===!1?t:t.join(e||"\n")},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=ji(this,n[r].from(),n[r].to());e!==!1&&(i=i.join(e||"\n")),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:hn(function(e,t,n){for(var r=[],i=this.sel,a=0;a<i.ranges.length;a++){var o=i.ranges[a];r[a]={from:o.from(),to:o.to(),text:Ns(e[a]),origin:n}}for(var s=t&&"end"!=t&&ar(this,r,t),a=r.length-1;a>=0;a--)sr(this,r[a]);s?lt(this,s):this.cm&&br(this.cm)}),undo:hn(function(){cr(this,"undo")}),redo:hn(function(){cr(this,"redo")}),undoSelection:hn(function(){cr(this,"undo",!0)}),redoSelection:hn(function(){cr(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new Hi(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Xi(this.history.done),undone:Xi(this.history.undone)}},setHistory:function(e){var t=this.history=new Hi(this.history.maxGeneration);t.done=Xi(e.done.slice(0),null,!0),t.undone=Xi(e.undone.slice(0),null,!0)},addLineClass:hn(function(e,t,n){return kr(this,e,"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"wrapClass";if(e[r]){if(new RegExp("(?:^|\\s)"+n+"(?:$|\\s)").test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:hn(function(e,t,n){return kr(this,e,"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var a=i.match(new RegExp("(?:^|\\s+)"+n+"(?:$|\\s+)"));if(!a)return!1;var o=a.index+a[0].length;e[r]=i.slice(0,a.index)+(a.index&&o!=i.length?" ":"")+i.slice(o)||null}return!0})}),markText:function(e,t,n){return Ar(this,Z(this,e),Z(this,t),n,"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared};return e=Z(this,e),Ar(this,e,e,n,"bookmark")},findMarksAt:function(e){e=Z(this,e);var t=[],n=Ni(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=Z(this,e),t=Z(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(a){var o=a.markedSpans;if(o)for(var s=0;s<o.length;s++){var l=o[s];i==e.line&&e.ch>l.to||null==l.from&&i!=e.line||i==t.line&&l.from>t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first;return this.iter(function(r){var i=r.text.length+1;return i>e?(t=e,!0):(e-=i,++n,void 0)}),Z(this,vo(n,t))},indexFromPos:function(e){e=Z(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new ns(Di(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new ns(Di(this,t,n),e.mode||this.modeOption,t);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],jr(r,Nr(this)),r},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=this.linked[n];if(r.doc==t){this.linked.splice(n,1),t.unlinkDoc(this),Dr(Nr(this));break}}if(t.history==this.history){var i=[t.id];Ai(t,function(e){i.push(e.id)},!0),t.history=new Hi(null),t.history.done=Xi(this.history.done,i),t.history.undone=Xi(this.history.undone,i)}},iterLinkedDocs:function(e){Ai(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),ns.prototype.eachLine=ns.prototype.iter;var rs="iter insert remove copy getEditor".split(" ");for(var is in ns.prototype)ns.prototype.hasOwnProperty(is)&&fa(rs,is)<0&&(e.prototype[is]=function(e){return function(){return e.apply(this.doc,arguments)}}(ns.prototype[is]));la(ns);var as=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},os=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},ss=e.e_stop=function(e){as(e),os(e)},ls=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={}),i=r[t]||(r[t]=[]);i.push(n)}},cs=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers&&e._handlers[t];if(!r)return;for(var i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}}},us=e.signal=function(e,t){var n=e._handlers&&e._handlers[t];if(n)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)},hs=null,ds=30,fs=e.Pass={toString:function(){return"CodeMirror.Pass"}},ps={scroll:!1},ms={origin:"*mouse"},gs={origin:"+move"};ca.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var vs=e.countColumn=function(e,t,n,r,i){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));
for(var a=r||0,o=i||0;;){var s=e.indexOf("	",a);if(0>s||s>=t)return o+(t-a);o+=s-a,o+=n-o%n,a=s+1}},ys=[""],bs=function(e){e.select()};so?bs=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:Ja&&(bs=function(e){try{e.select()}catch(t){}}),[].indexOf&&(fa=function(e,t){return e.indexOf(t)}),[].map&&(pa=function(e,t){return e.map(t)});var ws,xs=/[\u00df\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,ks=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||xs.test(e))},Ss=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;ws=document.createRange?function(e,t,n){var r=document.createRange();return r.setEnd(e,n),r.setStart(e,t),r}:function(e,t,n){var r=document.body.createTextRange();return r.moveToElementText(e.parentNode),r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r},Ja&&11>Za&&(Ca=function(){try{return document.activeElement}catch(e){return document.body}});var _s,Cs,Ts,Es=e.rmClass=function(e,t){var n=Ta(t);n.test(e.className)&&(e.className=e.className.replace(n,""))},Ls=e.addClass=function(e,t){Ta(t).test(e.className)||(e.className+=" "+t)},As=!1,Ms=function(){if(Ja&&9>Za)return!1;var e=xa("div");return"draggable"in e||"dragDrop"in e}(),Ns=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;r>=t;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var a=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),o=a.indexOf("\r");-1!=o?(n.push(a.slice(0,o)),t+=o+1):(n.push(a),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},js=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},Ds=function(){var e=xa("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Is=null,Os={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};e.keyNames=Os,function(){for(var e=0;10>e;e++)Os[e+48]=Os[e+96]=String(e);for(var e=65;90>=e;e++)Os[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)Os[e+111]=Os[e+63235]="F"+e}();var Fs,Ps=function(){function e(e){return 247>=e?n.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?r.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,a=/[stwN]/,o=/[LRr]/,s=/[Lb1n]/,l=/[1n]/,c="L";return function(n){if(!i.test(n))return!1;for(var r,u=n.length,h=[],d=0;u>d;++d)h.push(r=e(n.charCodeAt(d)));for(var d=0,f=c;u>d;++d){var r=h[d];"m"==r?h[d]=f:f=r}for(var d=0,p=c;u>d;++d){var r=h[d];"1"==r&&"r"==p?h[d]="n":o.test(r)&&(p=r,"r"==r&&(h[d]="R"))}for(var d=1,f=h[0];u-1>d;++d){var r=h[d];"+"==r&&"1"==f&&"1"==h[d+1]?h[d]="1":","!=r||f!=h[d+1]||"1"!=f&&"n"!=f||(h[d]=f),f=r}for(var d=0;u>d;++d){var r=h[d];if(","==r)h[d]="N";else if("%"==r){for(var m=d+1;u>m&&"%"==h[m];++m);for(var g=d&&"!"==h[d-1]||u>m&&"1"==h[m]?"1":"N",v=d;m>v;++v)h[v]=g;d=m-1}}for(var d=0,p=c;u>d;++d){var r=h[d];"L"==p&&"1"==r?h[d]="L":o.test(r)&&(p=r)}for(var d=0;u>d;++d)if(a.test(h[d])){for(var m=d+1;u>m&&a.test(h[m]);++m);for(var y="L"==(d?h[d-1]:c),b="L"==(u>m?h[m]:c),g=y||b?"L":"R",v=d;m>v;++v)h[v]=g;d=m-1}for(var w,x=[],d=0;u>d;)if(s.test(h[d])){var k=d;for(++d;u>d&&s.test(h[d]);++d);x.push(new t(0,k,d))}else{var S=d,_=x.length;for(++d;u>d&&"L"!=h[d];++d);for(var v=S;d>v;)if(l.test(h[v])){v>S&&x.splice(_,0,new t(1,S,v));var C=v;for(++v;d>v&&l.test(h[v]);++v);x.splice(_,0,new t(2,C,v)),S=v}else++v;d>S&&x.splice(_,0,new t(1,S,d))}return 1==x[0].level&&(w=n.match(/^\s+/))&&(x[0].from=w[0].length,x.unshift(new t(0,0,w[0].length))),1==da(x).level&&(w=n.match(/\s+$/))&&(da(x).to-=w[0].length,x.push(new t(0,u-w[0].length,u))),x[0].level!=da(x).level&&x.push(new t(x[0].level,u,u)),x}}();return e.version="4.7.1",e}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.overlayMode=function(t,n,r){return{startState:function(){return{base:e.startState(t),overlay:e.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,lineSeen:null}},copyState:function(r){return{base:e.copyState(t,r.base),overlay:e.copyState(n,r.overlay),basePos:r.basePos,baseCur:null,overlayPos:r.overlayPos,overlayCur:null}},token:function(e,i){return(e.sol()||e.string!=i.lineSeen||Math.min(i.basePos,i.overlayPos)<e.start)&&(i.lineSeen=e.string,i.basePos=i.overlayPos=e.start),e.start==i.basePos&&(i.baseCur=t.token(e,i.base),i.basePos=e.pos),e.start==i.overlayPos&&(e.pos=e.start,i.overlayCur=n.token(e,i.overlay),i.overlayPos=e.pos),e.pos=Math.min(i.basePos,i.overlayPos),null==i.overlayCur?i.baseCur:null!=i.baseCur&&i.overlay.combineTokens||r&&null==i.overlay.combineTokens?i.baseCur+" "+i.overlayCur:i.overlayCur},indent:t.indent&&function(e,n){return t.indent(e.base,n)},electricChars:t.electricChars,innerMode:function(e){return{state:e.base,mode:t}},blankLine:function(e){t.blankLine&&t.blankLine(e.base),n.blankLine&&n.blankLine(e.overlay)}}}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("htmlmixed",function(t,n){function r(e,t){var n=t.htmlState.tagName;n&&(n=n.toLowerCase());var r=s.token(e,t.htmlState);if("script"==n&&/\btag\b/.test(r)&&">"==e.current()){var i=e.string.slice(Math.max(0,e.pos-100),e.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);i=i?i[1]:"",i&&/[\"\']/.test(i.charAt(0))&&(i=i.slice(1,i.length-1));for(var u=0;u<c.length;++u){var h=c[u];if("string"==typeof h.matches?i==h.matches:h.matches.test(i)){h.mode&&(t.token=a,t.localMode=h.mode,t.localState=h.mode.startState&&h.mode.startState(s.indent(t.htmlState,"")));break}}}else"style"==n&&/\btag\b/.test(r)&&">"==e.current()&&(t.token=o,t.localMode=l,t.localState=l.startState(s.indent(t.htmlState,"")));return r}function i(e,t,n){var r,i=e.current(),a=i.search(t);return a>-1?e.backUp(i.length-a):(r=i.match(/<\/?$/))&&(e.backUp(i.length),e.match(t,!1)||e.match(i)),n}function a(e,t){return e.match(/^<\/\s*script\s*>/i,!1)?(t.token=r,t.localState=t.localMode=null,r(e,t)):i(e,/<\/\s*script\s*>/,t.localMode.token(e,t.localState))}function o(e,t){return e.match(/^<\/\s*style\s*>/i,!1)?(t.token=r,t.localState=t.localMode=null,r(e,t)):i(e,/<\/\s*style\s*>/,l.token(e,t.localState))}var s=e.getMode(t,{name:"xml",htmlMode:!0,multilineTagIndentFactor:n.multilineTagIndentFactor,multilineTagIndentPastTag:n.multilineTagIndentPastTag}),l=e.getMode(t,"css"),c=[],u=n&&n.scriptTypes;if(c.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:e.getMode(t,"javascript")}),u)for(var h=0;h<u.length;++h){var d=u[h];c.push({matches:d.matches,mode:d.mode&&e.getMode(t,d.mode)})}return c.push({matches:/./,mode:e.getMode(t,"text/plain")}),{startState:function(){var e=s.startState();return{token:r,localMode:null,localState:null,htmlState:e}},copyState:function(t){if(t.localState)var n=e.copyState(t.localMode,t.localState);return{token:t.token,localMode:t.localMode,localState:n,htmlState:e.copyState(s,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n){return!t.localMode||/^\s*<\//.test(n)?s.indent(t.htmlState,n):t.localMode.indent?t.localMode.indent(t.localState,n):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||s}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function n(e,t){if(!t.startOfLine)return!1;for(;;){if(!e.skipTo("\\")){e.skipToEnd(),t.tokenize=null;break}if(e.next(),e.eol()){t.tokenize=n;break}}return"meta"}function r(e,t){if(e.backUp(1),e.match(/(R|u8R|uR|UR|LR)/)){var n=e.match(/"([^\s\\()]{0,16})\(/);return n?(t.cpp11RawStringDelim=n[1],t.tokenize=a,a(e,t)):!1}return e.match(/(u8|u|U|L)/)?e.match(/["']/,!1)?"string":!1:(e.next(),!1)}function i(e,t){for(var n;null!=(n=e.next());)if('"'==n&&!e.eat('"')){t.tokenize=null;break}return"string"}function a(e,t){var n=t.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),r=e.match(new RegExp(".*?\\)"+n+'"'));return r?t.tokenize=null:e.skipToEnd(),"string"}function o(t,n){function r(e){if(e)for(var t in e)e.hasOwnProperty(t)&&i.push(t)}"string"==typeof t&&(t=[t]);var i=[];r(n.keywords),r(n.builtin),r(n.atoms),i.length&&(n.helperType=t[0],e.registerHelper("hintWords",t[0],i));for(var a=0;a<t.length;++a)e.defineMIME(t[a],n)}function s(e,t){for(var n=!1;!e.eol();){if(!n&&e.match('"""')){t.tokenize=null;break}n="\\"!=e.next()&&!n}return"string"}e.defineMode("clike",function(t,n){function r(e,t){var n=e.next();if(v[n]){var r=v[n](e,t);if(r!==!1)return r}if('"'==n||"'"==n)return t.tokenize=i(n),t.tokenize(e,t);if(/[\[\]{}\(\),;\:\.]/.test(n))return c=n,null;if(/\d/.test(n))return e.eatWhile(/[\w\.]/),"number";if("/"==n){if(e.eat("*"))return t.tokenize=a,a(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(w.test(n))return e.eatWhile(w),"operator";e.eatWhile(/[\w\$_\xa1-\uffff]/);var o=e.current();return f.propertyIsEnumerable(o)?(m.propertyIsEnumerable(o)&&(c="newstatement"),"keyword"):p.propertyIsEnumerable(o)?(m.propertyIsEnumerable(o)&&(c="newstatement"),"builtin"):g.propertyIsEnumerable(o)?"atom":"variable"}function i(e){return function(t,n){for(var r,i=!1,a=!1;null!=(r=t.next());){if(r==e&&!i){a=!0;break}i=!i&&"\\"==r}return(a||!i&&!y)&&(n.tokenize=null),"string"}}function a(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=null;break}r="*"==n}return"comment"}function o(e,t,n,r,i){this.indented=e,this.column=t,this.type=n,this.align=r,this.prev=i}function s(e,t,n){var r=e.indented;return e.context&&"statement"==e.context.type&&(r=e.context.indented),e.context=new o(r,t,n,null,e.context)}function l(e){var t=e.context.type;return(")"==t||"]"==t||"}"==t)&&(e.indented=e.context.indented),e.context=e.context.prev}var c,u=t.indentUnit,h=n.statementIndentUnit||u,d=n.dontAlignCalls,f=n.keywords||{},p=n.builtin||{},m=n.blockKeywords||{},g=n.atoms||{},v=n.hooks||{},y=n.multiLineStrings,b=n.indentStatements!==!1,w=/[+\-*&%=<>!?|\/]/;return{startState:function(e){return{tokenize:null,context:new o((e||0)-u,0,"top",!1),indented:0,startOfLine:!0}},token:function(e,t){var n=t.context;if(e.sol()&&(null==n.align&&(n.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return null;c=null;var i=(t.tokenize||r)(e,t);if("comment"==i||"meta"==i)return i;if(null==n.align&&(n.align=!0),";"!=c&&":"!=c&&","!=c||"statement"!=n.type)if("{"==c)s(t,e.column(),"}");else if("["==c)s(t,e.column(),"]");else if("("==c)s(t,e.column(),")");else if("}"==c){for(;"statement"==n.type;)n=l(t);for("}"==n.type&&(n=l(t));"statement"==n.type;)n=l(t)}else c==n.type?l(t):b&&(("}"==n.type||"top"==n.type)&&";"!=c||"statement"==n.type&&"newstatement"==c)&&s(t,e.column(),"statement");else l(t);return t.startOfLine=!1,i},indent:function(t,n){if(t.tokenize!=r&&null!=t.tokenize)return e.Pass;var i=t.context,a=n&&n.charAt(0);"statement"==i.type&&"}"==a&&(i=i.prev);var o=a==i.type;return"statement"==i.type?i.indented+("{"==a?0:h):!i.align||d&&")"==i.type?")"!=i.type||o?i.indented+(o?0:u):i.indented+h:i.column+(o?0:1)},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});var l="auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile";o(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:t(l),blockKeywords:t("case do else for if switch while struct"),atoms:t("null"),hooks:{"#":n},modeProps:{fold:["brace","include"]}}),o(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:t(l+" asm dynamic_cast namespace reinterpret_cast try bool explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected wchar_t alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),blockKeywords:t("catch class do else finally for if struct switch try while"),atoms:t("true false null"),hooks:{"#":n,u:r,U:r,L:r,R:r},modeProps:{fold:["brace","include"]}}),o("text/x-java",{name:"clike",keywords:t("abstract assert boolean break byte case catch char class const continue default do double else enum extends final finally float for goto if implements import instanceof int interface long native new package private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),blockKeywords:t("catch class do else finally for if switch try while"),atoms:t("true false null"),hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"}},modeProps:{fold:["brace","import"]}}),o("text/x-csharp",{name:"clike",keywords:t("abstract as base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),blockKeywords:t("catch class do else finally for foreach if struct switch try while"),builtin:t("Boolean Byte Char DateTime DateTimeOffset Decimal Double Guid Int16 Int32 Int64 Object SByte Single String TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),atoms:t("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=i,i(e,t)):(e.eatWhile(/[\w\$_]/),"meta")}}}),o("text/x-scala",{name:"clike",keywords:t("abstract case catch class def do else extends false final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try trye type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector :: #:: Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:t("catch class do else finally for forSome if match switch try while"),atoms:t("true false null"),indentStatements:!1,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return e.match('""')?(t.tokenize=s,t.tokenize(e,t)):!1}}}),o(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:t("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4 sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadowconst attribute uniform varying break continue discard return for while do if else struct in out inout"),blockKeywords:t("for while do if else struct"),builtin:t("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smootstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:t("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragColor gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),hooks:{"#":n},modeProps:{fold:["brace","include"]}}),o("text/x-nesc",{name:"clike",keywords:t(l+"as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),blockKeywords:t("case do else for if switch while struct"),atoms:t("null"),hooks:{"#":n},modeProps:{fold:["brace","include"]}})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("yaml",function(){var e=["true","false","on","off","yes","no"],t=new RegExp("\\b(("+e.join(")|(")+"))$","i");return{token:function(e,n){var r=e.peek(),i=n.escaped;if(n.escaped=!1,"#"==r&&(0==e.pos||/\s/.test(e.string.charAt(e.pos-1))))return e.skipToEnd(),"comment";if(n.literal&&e.indentation()>n.keyCol)return e.skipToEnd(),"string";if(n.literal&&(n.literal=!1),e.sol()){if(n.keyCol=0,n.pair=!1,n.pairStart=!1,e.match(/---/))return"def";if(e.match(/\.\.\./))return"def";if(e.match(/\s*-\s+/))return"meta"}if(e.match(/^(\{|\}|\[|\])/))return"{"==r?n.inlinePairs++:"}"==r?n.inlinePairs--:"["==r?n.inlineList++:n.inlineList--,"meta";if(n.inlineList>0&&!i&&","==r)return e.next(),"meta";if(n.inlinePairs>0&&!i&&","==r)return n.keyCol=0,n.pair=!1,n.pairStart=!1,e.next(),"meta";if(n.pairStart){if(e.match(/^\s*(\||\>)\s*/))return n.literal=!0,"meta";if(e.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(0==n.inlinePairs&&e.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(n.inlinePairs>0&&e.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(e.match(t))return"keyword"}return!n.pair&&e.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(n.pair=!0,n.keyCol=e.indentation(),"atom"):n.pair&&e.match(/^:\s*/)?(n.pairStart=!0,"meta"):(n.pairStart=!1,n.escaped="\\"==r,e.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}}}}),e.defineMIME("text/x-yaml","yaml")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("ruby",function(e){function t(e){for(var t={},n=0,r=e.length;r>n;++n)t[e[n]]=!0;return t}function n(e,t,n){return n.tokenize.push(e),e(t,n)}function r(e,t){if(c=null,e.sol()&&e.match("=begin")&&e.eol())return t.tokenize.push(l),"comment";if(e.eatSpace())return null;var r,i=e.next();if("`"==i||"'"==i||'"'==i)return n(o(i,"string",'"'==i||"`"==i),e,t);if("/"==i){var a=e.current().length;if(e.skipTo("/")){var u=e.current().length;e.backUp(e.current().length-a);for(var h=0;e.current().length<u;){var d=e.next();if("("==d?h+=1:")"==d&&(h-=1),0>h)break}if(e.backUp(e.current().length-a),0==h)return n(o(i,"string-2",!0),e,t)}return"operator"}if("%"==i){var p="string",m=!0;e.eat("s")?p="atom":e.eat(/[WQ]/)?p="string":e.eat(/[r]/)?p="string-2":e.eat(/[wxq]/)&&(p="string",m=!1);var g=e.eat(/[^\w\s=]/);return g?(f.propertyIsEnumerable(g)&&(g=f[g]),n(o(g,p,m,!0),e,t)):"operator"}if("#"==i)return e.skipToEnd(),"comment";if("<"==i&&(r=e.match(/^<-?[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/)))return n(s(r[1]),e,t);if("0"==i)return e.eat("x")?e.eatWhile(/[\da-fA-F]/):e.eat("b")?e.eatWhile(/[01]/):e.eatWhile(/[0-7]/),"number";if(/\d/.test(i))return e.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if("?"==i){for(;e.match(/^\\[CM]-/););return e.eat("\\")?e.eatWhile(/\w/):e.next(),"string"}if(":"==i)return e.eat("'")?n(o("'","atom",!1),e,t):e.eat('"')?n(o('"',"atom",!0),e,t):e.eat(/[\<\>]/)?(e.eat(/[\<\>]/),"atom"):e.eat(/[\+\-\*\/\&\|\:\!]/)?"atom":e.eat(/[a-zA-Z$@_\xa1-\uffff]/)?(e.eatWhile(/[\w$\xa1-\uffff]/),e.eat(/[\?\!\=]/),"atom"):"operator";if("@"==i&&e.match(/^@?[a-zA-Z_\xa1-\uffff]/))return e.eat("@"),e.eatWhile(/[\w\xa1-\uffff]/),"variable-2";if("$"==i)return e.eat(/[a-zA-Z_]/)?e.eatWhile(/[\w]/):e.eat(/\d/)?e.eat(/\d/):e.next(),"variable-3";if(/[a-zA-Z_\xa1-\uffff]/.test(i))return e.eatWhile(/[\w\xa1-\uffff]/),e.eat(/[\?\!]/),e.eat(":")?"atom":"ident";if("|"!=i||!t.varList&&"{"!=t.lastTok&&"do"!=t.lastTok){if(/[\(\)\[\]{}\\;]/.test(i))return c=i,null;if("-"==i&&e.eat(">"))return"arrow";if(/[=+\-\/*:\.^%<>~|]/.test(i)){var v=e.eatWhile(/[=+\-\/*:\.^%<>~|]/);return"."!=i||v||(c="."),"operator"}return null}return c="|",null}function i(e){return e||(e=1),function(t,n){if("}"==t.peek()){if(1==e)return n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n);n.tokenize[n.tokenize.length-1]=i(e-1)}else"{"==t.peek()&&(n.tokenize[n.tokenize.length-1]=i(e+1));return r(t,n)}}function a(){var e=!1;return function(t,n){return e?(n.tokenize.pop(),n.tokenize[n.tokenize.length-1](t,n)):(e=!0,r(t,n))}}function o(e,t,n,r){return function(o,s){var l,c=!1;for("read-quoted-paused"===s.context.type&&(s.context=s.context.prev,o.eat("}"));null!=(l=o.next());){if(l==e&&(r||!c)){s.tokenize.pop();break}if(n&&"#"==l&&!c){if(o.eat("{")){"}"==e&&(s.context={prev:s.context,type:"read-quoted-paused"}),s.tokenize.push(i());break}if(/[@\$]/.test(o.peek())){s.tokenize.push(a());break}}c=!c&&"\\"==l}return t}}function s(e){return function(t,n){return t.match(e)?n.tokenize.pop():t.skipToEnd(),"string"}}function l(e,t){return e.sol()&&e.match("=end")&&e.eol()&&t.tokenize.pop(),e.skipToEnd(),"comment"}var c,u=t(["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload","__END__","__FILE__","__LINE__","__dir__"]),h=t(["def","class","case","for","while","module","then","catch","loop","proc","begin"]),d=t(["end","until"]),f={"[":"]","{":"}","(":")"};return{startState:function(){return{tokenize:[r],indented:0,context:{type:"top",indented:-e.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(e,t){e.sol()&&(t.indented=e.indentation());var n,r=t.tokenize[t.tokenize.length-1](e,t),i=c;if("ident"==r){var a=e.current();r="."==t.lastTok?"property":u.propertyIsEnumerable(e.current())?"keyword":/^[A-Z]/.test(a)?"tag":"def"==t.lastTok||"class"==t.lastTok||t.varList?"def":"variable","keyword"==r&&(i=a,h.propertyIsEnumerable(a)?n="indent":d.propertyIsEnumerable(a)?n="dedent":"if"!=a&&"unless"!=a||e.column()!=e.indentation()?"do"==a&&t.context.indented<t.indented&&(n="indent"):n="indent")}return(c||r&&"comment"!=r)&&(t.lastTok=i),"|"==c&&(t.varList=!t.varList),"indent"==n||/[\(\[\{]/.test(c)?t.context={prev:t.context,type:c||r,indented:t.indented}:("dedent"==n||/[\)\]\}]/.test(c))&&t.context.prev&&(t.context=t.context.prev),e.eol()&&(t.continuedLine="\\"==c||"operator"==r),r},indent:function(t,n){if(t.tokenize[t.tokenize.length-1]!=r)return 0;var i=n&&n.charAt(0),a=t.context,o=a.type==f[i]||"keyword"==a.type&&/^(?:end|until|else|elsif|when|rescue)\b/.test(n);return a.indented+(o?0:e.indentUnit)+(t.continuedLine?e.indentUnit:0)},electricChars:"}de",lineComment:"#"}}),e.defineMIME("text/x-ruby","ruby")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror",require("../xml/xml"))):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("markdown",function(t,n){function r(e,t,n){return t.f=t.inline=n,n(e,t)}function i(e,t,n){return t.f=t.block=n,n(e,t)}function a(e){return e.linkTitle=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,b||e.f!=s||(e.f=h,e.block=o),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.thisLineHasContent=!1,null}function o(e,t){var a=e.sol(),o=t.list!==!1;t.list!==!1&&t.indentationDiff>=0?(t.indentationDiff<4&&(t.indentation-=t.indentationDiff),t.list=null):t.list!==!1&&t.indentation>0?(t.list=null,t.listDepth=Math.floor(t.indentation/4)):t.list!==!1&&(t.list=!1,t.listDepth=0);var s=null;if(t.indentationDiff>=4)return t.indentation-=4,e.skipToEnd(),C;if(e.eatSpace())return null;if(s=e.match(R))return t.header=s[0].length<=6?s[0].length:6,n.highlightFormatting&&(t.formatting="header"),t.f=t.inline,c(t);if(t.prevLineHasContent&&(s=e.match(U)))return t.header="="==s[0].charAt(0)?1:2,n.highlightFormatting&&(t.formatting="header"),t.f=t.inline,c(t);if(e.eat(">"))return t.indentation++,t.quote=a?1:t.quote+1,n.highlightFormatting&&(t.formatting="quote"),e.eatSpace(),c(t);if("["===e.peek())return r(e,t,m);if(e.match(z,!0))return M;if((!t.prevLineHasContent||o)&&(e.match(B,!1)||e.match(W,!1))){var u=null;return e.match(B,!0)?u="ul":(e.match(W,!0),u="ol"),t.indentation+=4,t.list=!0,t.listDepth++,n.taskLists&&e.match($,!1)&&(t.taskList=!0),t.f=t.inline,n.highlightFormatting&&(t.formatting=["list","list-"+u]),c(t)}return n.fencedCodeBlocks&&e.match(/^```([\w+#]*)/,!0)?(t.localMode=k(RegExp.$1),t.localMode&&(t.localState=t.localMode.startState()),i(e,t,l),n.highlightFormatting&&(t.formatting="code-block"),t.code=!0,c(t)):r(e,t,t.inline)}function s(e,t){var n=w.token(e,t.htmlState);return(b&&null===t.htmlState.tagStart&&!t.htmlState.context||t.md_inside&&e.current().indexOf(">")>-1)&&(t.f=h,t.block=o,t.htmlState=null),n}function l(e,t){if(e.sol()&&e.match(/^```/,!0)){t.localMode=t.localState=null,t.f=h,t.block=o,n.highlightFormatting&&(t.formatting="code-block"),t.code=!0;var r=c(t);return t.code=!1,r}return t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),C)}function c(e){var t=[];if(e.formatting){t.push(j),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var r=0;r<e.formatting.length;r++)t.push(j+"-"+e.formatting[r]),"header"===e.formatting[r]&&t.push(j+"-"+e.formatting[r]+"-"+e.header),"quote"===e.formatting[r]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(j+"-"+e.formatting[r]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref)return t.push(F),t.length?t.join(" "):null;if(e.strong&&t.push(q),e.em&&t.push(P),e.strikethrough&&t.push(H),e.linkText&&t.push(O),e.code&&t.push(C),e.header&&(t.push(_),t.push(_+"-"+e.header)),e.quote&&(t.push(T),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(T+"-"+e.quote):t.push(T+"-"+n.maxBlockquoteDepth)),e.list!==!1){var i=(e.listDepth-1)%3;i?1===i?t.push(L):t.push(A):t.push(E)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function u(e,t){return e.match(V,!0)?c(t):void 0}function h(t,r){var a=r.text(t,r);
if("undefined"!=typeof a)return a;if(r.list)return r.list=null,c(r);if(r.taskList){var o="x"!==t.match($,!0)[1];return o?r.taskOpen=!0:r.taskClosed=!0,n.highlightFormatting&&(r.formatting="task"),r.taskList=!1,c(r)}if(r.taskOpen=!1,r.taskClosed=!1,r.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(r.formatting="header"),c(r);var l=t.sol(),u=t.next();if("\\"===u&&(t.next(),n.highlightFormatting)){var h=c(r);return h?h+" formatting-escape":"formatting-escape"}if(r.linkTitle){r.linkTitle=!1;var p=u;"("===u&&(p=")"),p=(p+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var m="^\\s*(?:[^"+p+"\\\\]+|\\\\\\\\|\\\\.)"+p;if(t.match(new RegExp(m),!0))return F}if("`"===u){var g=r.formatting;n.highlightFormatting&&(r.formatting="code");var v=c(r),y=t.pos;t.eatWhile("`");var b=1+t.pos-y;return r.code?b===S?(r.code=!1,v):(r.formatting=g,c(r)):(S=b,r.code=!0,c(r))}if(r.code)return c(r);if("!"===u&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.match(/\[[^\]]*\]/),r.inline=r.f=f,N;if("["===u&&t.match(/.*\](\(| ?\[)/,!1))return r.linkText=!0,n.highlightFormatting&&(r.formatting="link"),c(r);if("]"===u&&r.linkText){n.highlightFormatting&&(r.formatting="link");var h=c(r);return r.linkText=!1,r.inline=r.f=f,h}if("<"===u&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){r.f=r.inline=d,n.highlightFormatting&&(r.formatting="link");var h=c(r);return h?h+=" ":h="",h+D}if("<"===u&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){r.f=r.inline=d,n.highlightFormatting&&(r.formatting="link");var h=c(r);return h?h+=" ":h="",h+I}if("<"===u&&t.match(/^\w/,!1)){if(-1!=t.string.indexOf(">")){var x=t.string.substring(1,t.string.indexOf(">"));/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(x)&&(r.md_inside=!0)}return t.backUp(1),r.htmlState=e.startState(w),i(t,r,s)}if("<"===u&&t.match(/^\/\w*?>/))return r.md_inside=!1,"tag";var k=!1;if(!n.underscoresBreakWords&&"_"===u&&"_"!==t.peek()&&t.match(/(\w)/,!1)){var _=t.pos-2;if(_>=0){var C=t.string.charAt(_);"_"!==C&&C.match(/(\w)/,!1)&&(k=!0)}}if("*"===u||"_"===u&&!k)if(l&&" "===t.peek());else{if(r.strong===u&&t.eat(u)){n.highlightFormatting&&(r.formatting="strong");var v=c(r);return r.strong=!1,v}if(!r.strong&&t.eat(u))return r.strong=u,n.highlightFormatting&&(r.formatting="strong"),c(r);if(r.em===u){n.highlightFormatting&&(r.formatting="em");var v=c(r);return r.em=!1,v}if(!r.em)return r.em=u,n.highlightFormatting&&(r.formatting="em"),c(r)}else if(" "===u&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return c(r);t.backUp(1)}if(n.strikethrough)if("~"===u&&t.eatWhile(u)){if(r.strikethrough){n.highlightFormatting&&(r.formatting="strikethrough");var v=c(r);return r.strikethrough=!1,v}if(t.match(/^[^\s]/,!1))return r.strikethrough=!0,n.highlightFormatting&&(r.formatting="strikethrough"),c(r)}else if(" "===u&&t.match(/^~~/,!0)){if(" "===t.peek())return c(r);t.backUp(2)}return" "===u&&(t.match(/ +$/,!1)?r.trailingSpace++:r.trailingSpace&&(r.trailingSpaceNewLine=!0)),c(r)}function d(e,t){var r=e.next();if(">"===r){t.f=t.inline=h,n.highlightFormatting&&(t.formatting="link");var i=c(t);return i?i+=" ":i="",i+D}return e.match(/^[^>]+/,!0),D}function f(e,t){if(e.eatSpace())return null;var r=e.next();return"("===r||"["===r?(t.f=t.inline=p("("===r?")":"]"),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,c(t)):"error"}function p(e){return function(t,r){var i=t.next();if(i===e){r.f=r.inline=h,n.highlightFormatting&&(r.formatting="link-string");var a=c(r);return r.linkHref=!1,a}return t.match(y(e),!0)&&t.backUp(1),r.linkHref=!0,c(r)}}function m(e,t){return e.match(/^[^\]]*\]:/,!1)?(t.f=g,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,c(t)):r(e,t,h)}function g(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=v,n.highlightFormatting&&(t.formatting="link");var r=c(t);return t.linkText=!1,r}return e.match(/^[^\]]+/,!0),O}function v(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=h,F)}function y(e){return G[e]||(e=(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),G[e]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+e+")")),G[e]}var b=e.modes.hasOwnProperty("xml"),w=e.getMode(t,b?{name:"xml",htmlMode:!0}:"text/plain"),x={html:"htmlmixed",js:"javascript",json:"application/json",c:"text/x-csrc","c++":"text/x-c++src",java:"text/x-java",csharp:"text/x-csharp","c#":"text/x-csharp",scala:"text/x-scala"},k=function(){var n,r,i={},a={},o=[];for(var s in e.modes)e.modes.propertyIsEnumerable(s)&&o.push(s);for(n=0;n<o.length;n++)i[o[n]]=o[n];var l=[];for(var s in e.mimeModes)e.mimeModes.propertyIsEnumerable(s)&&l.push({mime:s,mode:e.mimeModes[s]});for(n=0;n<l.length;n++)r=l[n].mime,a[r]=l[n].mime;for(var c in x)(x[c]in i||x[c]in a)&&(i[c]=x[c]);return function(n){return i[n]?e.getMode(t,i[n]):null}}();void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.underscoresBreakWords&&(n.underscoresBreakWords=!0),void 0===n.fencedCodeBlocks&&(n.fencedCodeBlocks=!1),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1);var S=0,_="header",C="comment",T="quote",E="variable-2",L="variable-3",A="keyword",M="hr",N="tag",j="formatting",D="link",I="link",O="link",F="string",P="em",q="strong",H="strikethrough",z=/^([*\-=_])(?:\s*\1){2,}\s*$/,B=/^[*\-+]\s+/,W=/^[0-9]+\.\s+/,$=/^\[(x| )\](?=\s)/,R=/^#+/,U=/^(?:\={1,}|-{1,})$/,V=/^[^#!\[\]*_\\<>` "'(~]+/,G=[],K={startState:function(){return{f:o,prevLineHasContent:!1,thisLineHasContent:!1,block:o,htmlState:null,indentation:0,inline:h,text:u,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,em:!1,strong:!1,header:0,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1}},copyState:function(t){return{f:t.f,prevLineHasContent:t.prevLineHasContent,thisLineHasContent:t.thisLineHasContent,block:t.block,htmlState:t.htmlState&&e.copyState(w,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkTitle:t.linkTitle,em:t.em,strong:t.strong,strikethrough:t.strikethrough,header:t.header,taskList:t.taskList,list:t.list,listDepth:t.listDepth,quote:t.quote,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside}},token:function(e,t){if(t.formatting=!1,e.sol()){var n=!!t.header;if(t.header=0,e.match(/^\s*$/,!0)||n)return t.prevLineHasContent=!1,a(t),n?this.token(e,t):null;t.prevLineHasContent=t.thisLineHasContent,t.thisLineHasContent=!0,t.taskList=!1,t.code=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.f=t.block;var r=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,i=4*Math.floor((r-t.indentation)/4);i>4&&(i=4);var o=t.indentation+i;if(t.indentationDiff=o-t.indentation,t.indentation=o,r>0)return null}var s=t.f(e,t);return e.start==e.pos?this.token(e,t):s},innerMode:function(e){return e.block==s?{state:e.htmlState,mode:w}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:K}},blankLine:a,getType:c,fold:"markdown"};return K},"xml"),e.defineMIME("text/x-markdown","markdown")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("xml",function(t,n){function r(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();if("<"==r)return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(o("atom","]]>")):null:e.match("--")?n(o("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(s(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=o("meta","?>"),"meta"):(S=e.eat("/")?"closeTag":"openTag",t.tokenize=i,"tag bracket");if("&"==r){var a;return a=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),a?"atom":"error"}return e.eatWhile(/[^&<]/),null}function i(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=r,S=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return S="equals",null;if("<"==n){t.tokenize=r,t.state=h,t.tagName=t.tagStart=null;var i=t.tokenize(e,t);return i?i+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=a(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function a(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=i;break}return"string"};return t.isInAttribute=!0,t}function o(e,t){return function(n,i){for(;!n.eol();){if(n.match(t)){i.tokenize=r;break}n.next()}return e}}function s(e){return function(t,n){for(var i;null!=(i=t.next());){if("<"==i)return n.tokenize=s(e+1),n.tokenize(t,n);if(">"==i){if(1==e){n.tokenize=r;break}return n.tokenize=s(e-1),n.tokenize(t,n)}}return"meta"}}function l(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(C.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function c(e){e.context&&(e.context=e.context.prev)}function u(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!C.contextGrabbers.hasOwnProperty(n)||!C.contextGrabbers[n].hasOwnProperty(t))return;c(e)}}function h(e,t,n){return"openTag"==e?(n.tagStart=t.column(),d):"closeTag"==e?f:h}function d(e,t,n){return"word"==e?(n.tagName=t.current(),_="tag",g):(_="error",d)}function f(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&C.implicitlyClosed.hasOwnProperty(n.context.tagName)&&c(n),n.context&&n.context.tagName==r?(_="tag",p):(_="tag error",m)}return _="error",m}function p(e,t,n){return"endTag"!=e?(_="error",p):(c(n),h)}function m(e,t,n){return _="error",p(e,t,n)}function g(e,t,n){if("word"==e)return _="attribute",v;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||C.autoSelfClosers.hasOwnProperty(r)?u(n,r):(u(n,r),n.context=new l(n,r,i==n.indented)),h}return _="error",g}function v(e,t,n){return"equals"==e?y:(C.allowMissing||(_="error"),g(e,t,n))}function y(e,t,n){return"string"==e?b:"word"==e&&C.allowUnquoted?(_="string",g):(_="error",g(e,t,n))}function b(e,t,n){return"string"==e?b:g(e,t,n)}var w=t.indentUnit,x=n.multilineTagIndentFactor||1,k=n.multilineTagIndentPastTag;null==k&&(k=!0);var S,_,C=n.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},T=n.alignCDATA;return{startState:function(){return{tokenize:r,state:h,indented:0,tagName:null,tagStart:null,context:null}},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;S=null;var n=t.tokenize(e,t);return(n||S)&&"comment"!=n&&(_=null,t.state=t.state(S||n,e,t),_&&(n="error"==_?n+" error":_)),n},indent:function(t,n,a){var o=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+w;if(o&&o.noIndent)return e.Pass;if(t.tokenize!=i&&t.tokenize!=r)return a?a.match(/^(\s*)/)[0].length:0;if(t.tagName)return k?t.tagStart+t.tagName.length+2:t.tagStart+w*x;if(T&&/<!\[CDATA\[/.test(n))return 0;var s=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(s&&s[1])for(;o;){if(o.tagName==s[2]){o=o.prev;break}if(!C.implicitlyClosed.hasOwnProperty(o.tagName))break;o=o.prev}else if(s)for(;o;){var l=C.contextGrabbers[o.tagName];if(!l||!l.hasOwnProperty(s[2]))break;o=o.prev}for(;o&&!o.startOfLine;)o=o.prev;return o?o.indent+w:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:n.htmlMode?"html":"xml",helperType:n.htmlMode?"html":"xml"}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(t,n){function r(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function i(e,t,n){return pt=e,mt=n,t}function a(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=o(n),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if("."==n&&e.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return i(n);if("="==n&&e.eat(">"))return i("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==n)return e.eat("*")?(t.tokenize=s,s(e,t)):e.eat("/")?(e.skipToEnd(),i("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(r(e),e.eatWhile(/[gimy]/),i("regexp","string-2")):(e.eatWhile(St),i("operator","operator",e.current()));if("`"==n)return t.tokenize=l,l(e,t);if("#"==n)return e.skipToEnd(),i("error","error");if(St.test(n))return e.eatWhile(St),i("operator","operator",e.current());if(xt.test(n)){e.eatWhile(xt);var a=e.current(),c=kt.propertyIsEnumerable(a)&&kt[a];return c&&"."!=t.lastType?i(c.type,c.style,a):i("variable","variable",a)}}function o(e){return function(t,n){var r,o=!1;if(yt&&"@"==t.peek()&&t.match(_t))return n.tokenize=a,i("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||o);)o=!o&&"\\"==r;return o||(n.tokenize=a),i("string","string")}}function s(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=a;break}r="*"==n}return i("comment","comment")}function l(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=a;break}r=!r&&"\\"==n}return i("quasi","string-2",e.current())}function c(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(0>n)){for(var r=0,i=!1,a=n-1;a>=0;--a){var o=e.string.charAt(a),s=Ct.indexOf(o);if(s>=0&&3>s){if(!r){++a;break}if(0==--r)break}else if(s>=3&&6>s)++r;else if(xt.test(o))i=!0;else if(i&&!r){++a;break}}i&&!r&&(t.fatArrowAt=a)}}function u(e,t,n,r,i,a){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=a,null!=r&&(this.align=r)}function h(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==t)return!0}function d(e,t,n,r,i){var a=e.cc;for(Et.state=e,Et.stream=i,Et.marked=null,Et.cc=a,Et.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var o=a.length?a.pop():bt?k:x;if(o(n,r)){for(;a.length&&a[a.length-1].lex;)a.pop()();return Et.marked?Et.marked:"variable"==n&&h(e,r)?"variable-2":t}}}function f(){for(var e=arguments.length-1;e>=0;e--)Et.cc.push(arguments[e])}function p(){return f.apply(null,arguments),!0}function m(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var r=Et.state;if(r.context){if(Et.marked="def",t(r.localVars))return;r.localVars={name:e,next:r.localVars}}else{if(t(r.globalVars))return;n.globalVars&&(r.globalVars={name:e,next:r.globalVars})}}function g(){Et.state.context={prev:Et.state.context,vars:Et.state.localVars},Et.state.localVars=Lt}function v(){Et.state.localVars=Et.state.context.vars,Et.state.context=Et.state.context.prev}function y(e,t){var n=function(){var n=Et.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new u(r,Et.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function b(){var e=Et.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function w(e){function t(n){return n==e?p():";"==e?f():p(t)}return t}function x(e,t){return"var"==e?p(y("vardef",t.length),$,w(";"),b):"keyword a"==e?p(y("form"),k,x,b):"keyword b"==e?p(y("form"),x,b):"{"==e?p(y("}"),z,b):";"==e?p():"if"==e?("else"==Et.state.lexical.info&&Et.state.cc[Et.state.cc.length-1]==b&&Et.state.cc.pop()(),p(y("form"),k,x,b,K)):"function"==e?p(et):"for"==e?p(y("form"),Y,x,b):"variable"==e?p(y("stat"),D):"switch"==e?p(y("form"),k,y("}","switch"),w("{"),z,b,b):"case"==e?p(k,w(":")):"default"==e?p(w(":")):"catch"==e?p(y("form"),g,w("("),tt,w(")"),x,b,v):"module"==e?p(y("form"),g,ot,v,b):"class"==e?p(y("form"),nt,b):"export"==e?p(y("form"),st,b):"import"==e?p(y("form"),lt,b):f(y("stat"),k,w(";"),b)}function k(e){return _(e,!1)}function S(e){return _(e,!0)}function _(e,t){if(Et.state.fatArrowAt==Et.stream.start){var n=t?j:N;if("("==e)return p(g,y(")"),q(R,")"),b,w("=>"),n,v);if("variable"==e)return f(g,R,w("=>"),n,v)}var r=t?L:E;return Tt.hasOwnProperty(e)?p(r):"function"==e?p(et,r):"keyword c"==e?p(t?T:C):"("==e?p(y(")"),C,ft,w(")"),b,r):"operator"==e||"spread"==e?p(t?S:k):"["==e?p(y("]"),ht,b,r):"{"==e?H(O,"}",null,r):"quasi"==e?f(A,r):p()}function C(e){return e.match(/[;\}\)\],]/)?f():f(k)}function T(e){return e.match(/[;\}\)\],]/)?f():f(S)}function E(e,t){return","==e?p(k):L(e,t,!1)}function L(e,t,n){var r=0==n?E:L,i=0==n?k:S;return"=>"==e?p(g,n?j:N,v):"operator"==e?/\+\+|--/.test(t)?p(r):"?"==t?p(k,w(":"),i):p(i):"quasi"==e?f(A,r):";"!=e?"("==e?H(S,")","call",r):"."==e?p(I,r):"["==e?p(y("]"),C,w("]"),b,r):void 0:void 0}function A(e,t){return"quasi"!=e?f():"${"!=t.slice(t.length-2)?p(A):p(k,M)}function M(e){return"}"==e?(Et.marked="string-2",Et.state.tokenize=l,p(A)):void 0}function N(e){return c(Et.stream,Et.state),f("{"==e?x:k)}function j(e){return c(Et.stream,Et.state),f("{"==e?x:S)}function D(e){return":"==e?p(b,x):f(E,w(";"),b)}function I(e){return"variable"==e?(Et.marked="property",p()):void 0}function O(e,t){return"variable"==e||"keyword"==Et.style?(Et.marked="property","get"==t||"set"==t?p(F):p(P)):"number"==e||"string"==e?(Et.marked=yt?"property":Et.style+" property",p(P)):"jsonld-keyword"==e?p(P):"["==e?p(k,w("]"),P):void 0}function F(e){return"variable"!=e?f(P):(Et.marked="property",p(et))}function P(e){return":"==e?p(S):"("==e?f(et):void 0}function q(e,t){function n(r){if(","==r){var i=Et.state.lexical;return"call"==i.info&&(i.pos=(i.pos||0)+1),p(e,n)}return r==t?p():p(w(t))}return function(r){return r==t?p():f(e,n)}}function H(e,t,n){for(var r=3;r<arguments.length;r++)Et.cc.push(arguments[r]);return p(y(t,n),q(e,t),b)}function z(e){return"}"==e?p():f(x,z)}function B(e){return wt&&":"==e?p(W):void 0}function W(e){return"variable"==e?(Et.marked="variable-3",p()):void 0}function $(){return f(R,B,V,G)}function R(e,t){return"variable"==e?(m(t),p()):"["==e?H(R,"]"):"{"==e?H(U,"}"):void 0}function U(e,t){return"variable"!=e||Et.stream.match(/^\s*:/,!1)?("variable"==e&&(Et.marked="property"),p(w(":"),R,V)):(m(t),p(V))}function V(e,t){return"="==t?p(S):void 0}function G(e){return","==e?p($):void 0}function K(e,t){return"keyword b"==e&&"else"==t?p(y("form","else"),x,b):void 0}function Y(e){return"("==e?p(y(")"),X,w(")"),b):void 0}function X(e){return"var"==e?p($,w(";"),Z):";"==e?p(Z):"variable"==e?p(J):f(k,w(";"),Z)}function J(e,t){return"in"==t||"of"==t?(Et.marked="keyword",p(k)):p(E,Z)}function Z(e,t){return";"==e?p(Q):"in"==t||"of"==t?(Et.marked="keyword",p(k)):f(k,w(";"),Q)}function Q(e){")"!=e&&p(k)}function et(e,t){return"*"==t?(Et.marked="keyword",p(et)):"variable"==e?(m(t),p(et)):"("==e?p(g,y(")"),q(tt,")"),b,x,v):void 0}function tt(e){return"spread"==e?p(tt):f(R,B)}function nt(e,t){return"variable"==e?(m(t),p(rt)):void 0}function rt(e,t){return"extends"==t?p(k,rt):"{"==e?p(y("}"),it,b):void 0}function it(e,t){return"variable"==e||"keyword"==Et.style?(Et.marked="property","get"==t||"set"==t?p(at,et,it):p(et,it)):"*"==t?(Et.marked="keyword",p(it)):";"==e?p(it):"}"==e?p():void 0}function at(e){return"variable"!=e?f():(Et.marked="property",p())}function ot(e,t){return"string"==e?p(x):"variable"==e?(m(t),p(ut)):void 0}function st(e,t){return"*"==t?(Et.marked="keyword",p(ut,w(";"))):"default"==t?(Et.marked="keyword",p(k,w(";"))):f(x)}function lt(e){return"string"==e?p():f(ct,ut)}function ct(e,t){return"{"==e?H(ct,"}"):("variable"==e&&m(t),p())}function ut(e,t){return"from"==t?(Et.marked="keyword",p(k)):void 0}function ht(e){return"]"==e?p():f(S,dt)}function dt(e){return"for"==e?f(ft,w("]")):","==e?p(q(T,"]")):f(q(S,"]"))}function ft(e){return"for"==e?p(Y,ft):"if"==e?p(k,ft):void 0}var pt,mt,gt=t.indentUnit,vt=n.statementIndent,yt=n.jsonld,bt=n.json||yt,wt=n.typescript,xt=n.wordCharacters||/[\w$\xa1-\uffff]/,kt=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),a={type:"atom",style:"atom"},o={"if":e("if"),"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":r,"break":r,"continue":r,"new":r,"delete":r,"throw":r,"debugger":r,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":a,"false":a,"null":a,undefined:a,NaN:a,Infinity:a,"this":e("this"),module:e("module"),"class":e("class"),"super":e("atom"),yield:r,"export":e("export"),"import":e("import"),"extends":r};if(wt){var s={type:"variable",style:"variable-3"},l={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:s,number:s,bool:s,any:s};for(var c in l)o[c]=l[c]}return o}(),St=/[+\-*&%=<>!?|~^]/,_t=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Ct="([{}])",Tt={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Et={state:null,column:null,marked:null,cc:null},Lt={name:"this",next:{name:"arguments"}};return b.lex=!0,{startState:function(e){var t={tokenize:a,lastType:"sof",cc:[],lexical:new u((e||0)-gt,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),c(e,t)),t.tokenize!=s&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==pt?n:(t.lastType="operator"!=pt||"++"!=mt&&"--"!=mt?pt:"incdec",d(t,n,pt,mt,e))},indent:function(t,r){if(t.tokenize==s)return e.Pass;if(t.tokenize!=a)return 0;var i=r&&r.charAt(0),o=t.lexical;if(!/^\s*else\b/.test(r))for(var l=t.cc.length-1;l>=0;--l){var c=t.cc[l];if(c==b)o=o.prev;else if(c!=K)break}"stat"==o.type&&"}"==i&&(o=o.prev),vt&&")"==o.type&&"stat"==o.prev.type&&(o=o.prev);var u=o.type,h=i==u;return"vardef"==u?o.indented+("operator"==t.lastType||","==t.lastType?o.info+1:0):"form"==u&&"{"==i?o.indented:"form"==u?o.indented+gt:"stat"==u?o.indented+("operator"==t.lastType||","==t.lastType?vt||gt:0):"switch"!=o.info||h||0==n.doubleIndentSwitch?o.align?o.column+(h?0:1):o.indented+(h?0:gt):o.indented+(/^(?:case|default)\b/.test(r)?gt:2*gt)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:bt?null:"/*",blockCommentEnd:bt?null:"*/",lineComment:bt?null:"//",fold:"brace",helperType:bt?"json":"javascript",jsonldMode:yt,jsonMode:bt}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function n(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}function r(e,t){return e.skipTo("-->")?(e.match("-->"),t.tokenize=null):e.skipToEnd(),["comment","comment"]}e.defineMode("css",function(t,n){function r(e,t){return f=t,e}function i(e,t){var n=e.next();if(g[n]){var i=g[n](e,t);if(i!==!1)return i}return"@"==n?(e.eatWhile(/[\w\\\-]/),r("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?r(null,"compare"):'"'==n||"'"==n?(t.tokenize=a(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),r("atom","hash")):"!"==n?(e.match(/^\s*\w*/),r("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),r("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?r(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?r("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?r(null,n):"u"==n&&e.match("rl(")?(e.backUp(1),t.tokenize=o,r("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),r("property","word")):r(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),r("number","unit")):e.match(/^\w+-/)?r("meta","meta"):void 0}function a(e){return function(t,n){for(var i,a=!1;null!=(i=t.next());){if(i==e&&!a){")"==e&&t.backUp(1);break}a=!a&&"\\"==i}return(i==e||!a&&")"!=e)&&(n.tokenize=null),r("string","string")}}function o(e,t){return e.next(),t.tokenize=e.match(/\s*[\"\')]/,!1)?null:a(")"),r(null,"(")}function s(e,t,n){this.type=e,this.indent=t,this.prev=n}function l(e,t,n){return e.context=new s(n,t.indentation()+m,e.context),n}function c(e){return e.context=e.context.prev,e.context.type}function u(e,t,n){return C[n.context.type](e,t,n)}function h(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return u(e,t,n)}function d(e){var t=e.current().toLowerCase();p=k.hasOwnProperty(t)?"atom":x.hasOwnProperty(t)?"keyword":"variable"}n.propertyKeywords||(n=e.resolveMode("text/css"));var f,p,m=t.indentUnit,g=n.tokenHooks,v=n.mediaTypes||{},y=n.mediaFeatures||{},b=n.propertyKeywords||{},w=n.nonStandardPropertyKeywords||{},x=n.colorKeywords||{},k=n.valueKeywords||{},S=n.fontProperties||{},_=n.allowNested,C={};return C.top=function(e,t,n){if("{"==e)return l(n,t,"block");if("}"==e&&n.context.prev)return c(n);if("@media"==e)return l(n,t,"media");if("@font-face"==e)return"font_face_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return l(n,t,"at");if("hash"==e)p="builtin";else if("word"==e)p="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return l(n,t,"interpolation");if(":"==e)return"pseudo";if(_&&"("==e)return l(n,t,"parens")}return n.context.type},C.block=function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return b.hasOwnProperty(r)?(p="property","maybeprop"):w.hasOwnProperty(r)?(p="string-2","maybeprop"):_?(p=t.match(/^\s*:/,!1)?"property":"tag","block"):(p+=" error","maybeprop")}return"meta"==e?"block":_||"hash"!=e&&"qualifier"!=e?C.top(e,t,n):(p="error","block")},C.maybeprop=function(e,t,n){return":"==e?l(n,t,"prop"):u(e,t,n)},C.prop=function(e,t,n){if(";"==e)return c(n);if("{"==e&&_)return l(n,t,"propBlock");if("}"==e||"{"==e)return h(e,t,n);if("("==e)return l(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t.current())){if("word"==e)d(t);else if("interpolation"==e)return l(n,t,"interpolation")}else p+=" error";return"prop"},C.propBlock=function(e,t,n){return"}"==e?c(n):"word"==e?(p="property","maybeprop"):n.context.type},C.parens=function(e,t,n){return"{"==e||"}"==e?h(e,t,n):")"==e?c(n):"("==e?l(n,t,"parens"):("word"==e&&d(t),"parens")},C.pseudo=function(e,t,n){return"word"==e?(p="variable-3",n.context.type):u(e,t,n)},C.media=function(e,t,n){if("("==e)return l(n,t,"media_parens");if("}"==e)return h(e,t,n);if("{"==e)return c(n)&&l(n,t,_?"block":"top");if("word"==e){var r=t.current().toLowerCase();p="only"==r||"not"==r||"and"==r?"keyword":v.hasOwnProperty(r)?"attribute":y.hasOwnProperty(r)?"property":"error"}return n.context.type},C.media_parens=function(e,t,n){return")"==e?c(n):"{"==e||"}"==e?h(e,t,n,2):C.media(e,t,n)},C.font_face_before=function(e,t,n){return"{"==e?l(n,t,"font_face"):u(e,t,n)},C.font_face=function(e,t,n){return"}"==e?c(n):"word"==e?(p=S.hasOwnProperty(t.current().toLowerCase())?"property":"error","maybeprop"):"font_face"},C.keyframes=function(e,t,n){return"word"==e?(p="variable","keyframes"):"{"==e?l(n,t,"top"):u(e,t,n)},C.at=function(e,t,n){return";"==e?c(n):"{"==e||"}"==e?h(e,t,n):("word"==e?p="tag":"hash"==e&&(p="builtin"),"at")},C.interpolation=function(e,t,n){return"}"==e?c(n):"{"==e||";"==e?h(e,t,n):("variable"!=e&&(p="error"),"interpolation")},{startState:function(e){return{tokenize:null,state:"top",context:new s("top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||i)(e,t);return n&&"object"==typeof n&&(f=n[1],n=n[0]),p=n,t.state=C[t.state](f,e,t),p},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),i=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),!n.prev||("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"font_face"!=n.type)&&(")"!=r||"parens"!=n.type&&"media_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"media"!=n.type)||(i=n.indent-m,n=n.prev),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var i=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],a=t(i),o=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],s=t(o),l=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],c=t(l),u=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],h=t(u),d=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],f=t(d),p=["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","keep-all","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small"],m=t(p),g=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],v=t(g),y=i.concat(o).concat(l).concat(u).concat(d).concat(p);
e.registerHelper("hintWords","css",y),e.defineMIME("text/css",{mediaTypes:a,mediaFeatures:s,propertyKeywords:c,nonStandardPropertyKeywords:h,colorKeywords:f,valueKeywords:m,fontProperties:v,tokenHooks:{"<":function(e,t){return e.match("!--")?(t.tokenize=r,r(e,t)):!1},"/":function(e,t){return e.eat("*")?(t.tokenize=n,n(e,t)):!1}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:a,mediaFeatures:s,propertyKeywords:c,nonStandardPropertyKeywords:h,colorKeywords:f,valueKeywords:m,fontProperties:v,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},":":function(e){return e.match(/\s*\{/)?[null,"{"]:!1},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return e.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:a,mediaFeatures:s,propertyKeywords:c,nonStandardPropertyKeywords:h,colorKeywords:f,valueKeywords:m,fontProperties:v,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},"@":function(e){return e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)?!1:(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../markdown/markdown"),require("../../addon/mode/overlay")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("gfm",function(t,n){function r(e){return e.code=!1,null}var i=0,a={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(e){return{code:e.code,codeBlock:e.codeBlock,ateSpace:e.ateSpace}},token:function(e,t){if(t.combineTokens=null,t.codeBlock)return e.match(/^```/)?(t.codeBlock=!1,null):(e.skipToEnd(),null);if(e.sol()&&(t.code=!1),e.sol()&&e.match(/^```/))return e.skipToEnd(),t.codeBlock=!0,null;if("`"===e.peek()){e.next();var n=e.pos;e.eatWhile("`");var r=1+e.pos-n;return t.code?r===i&&(t.code=!1):(i=r,t.code=!0),null}if(t.code)return e.next(),null;if(e.eatSpace())return t.ateSpace=!0,null;if(e.sol()||t.ateSpace){if(t.ateSpace=!1,e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/))return t.combineTokens=!0,"link";if(e.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return t.combineTokens=!0,"link"}return e.match(/^((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i)&&"]("!=e.string.slice(e.start-2,e.start)?(t.combineTokens=!0,"link"):(e.next(),null)},blankLine:r},o={underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:!0,strikethrough:!0};for(var s in n)o[s]=n[s];return o.name="markdown",e.defineMIME("gfmBase",o),e.overlayMode(e.getMode(t,"gfmBase"),a)},"markdown")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){return e.line-t.line||e.ch-t.ch}function n(e,t,n,r){this.line=t,this.ch=n,this.cm=e,this.text=e.getLine(t),this.min=r?r.from:e.firstLine(),this.max=r?r.to-1:e.lastLine()}function r(e,t){var n=e.cm.getTokenTypeAt(d(e.line,t));return n&&/\btag\b/.test(n)}function i(e){return e.line>=e.max?void 0:(e.ch=0,e.text=e.cm.getLine(++e.line),!0)}function a(e){return e.line<=e.min?void 0:(e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0)}function o(e){for(;;){var t=e.text.indexOf(">",e.ch);if(-1==t){if(i(e))continue;return}{if(r(e,t+1)){var n=e.text.lastIndexOf("/",t),a=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,a?"selfClose":"regular"}e.ch=t+1}}}function s(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==t){if(a(e))continue;return}if(r(e,t+1)){m.lastIndex=t,e.ch=t;var n=m.exec(e.text);if(n&&n.index==t)return n}else e.ch=t}}function l(e){for(;;){m.lastIndex=e.ch;var t=m.exec(e.text);if(!t){if(i(e))continue;return}{if(r(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1}}}function c(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==t){if(a(e))continue;return}{if(r(e,t+1)){var n=e.text.lastIndexOf("/",t),i=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,i?"selfClose":"regular"}e.ch=t}}}function u(e,t){for(var n=[];;){var r,i=l(e),a=e.line,s=e.ch-(i?i[0].length:0);if(!i||!(r=o(e)))return;if("selfClose"!=r)if(i[1]){for(var c=n.length-1;c>=0;--c)if(n[c]==i[2]){n.length=c;break}if(0>c&&(!t||t==i[2]))return{tag:i[2],from:d(a,s),to:d(e.line,e.ch)}}else n.push(i[2])}}function h(e,t){for(var n=[];;){var r=c(e);if(!r)return;if("selfClose"!=r){var i=e.line,a=e.ch,o=s(e);if(!o)return;if(o[1])n.push(o[2]);else{for(var l=n.length-1;l>=0;--l)if(n[l]==o[2]){n.length=l;break}if(0>l&&(!t||t==o[2]))return{tag:o[2],from:d(e.line,e.ch),to:d(i,a)}}}else s(e)}}var d=e.Pos,f="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",p=f+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",m=new RegExp("<(/?)(["+f+"]["+p+"]*)","g");e.registerHelper("fold","xml",function(e,t){for(var r=new n(e,t.line,0);;){var i,a=l(r);if(!a||r.line!=t.line||!(i=o(r)))return;if(!a[1]&&"selfClose"!=i){var t=d(r.line,r.ch),s=u(r,a[2]);return s&&{from:t,to:s.from}}}}),e.findMatchingTag=function(e,r,i){var a=new n(e,r.line,r.ch,i);if(-1!=a.text.indexOf(">")||-1!=a.text.indexOf("<")){var l=o(a),c=l&&d(a.line,a.ch),f=l&&s(a);if(l&&f&&!(t(a,r)>0)){var p={from:d(a.line,a.ch),to:c,tag:f[2]};return"selfClose"==l?{open:p,close:null,at:"open"}:f[1]?{open:h(a,f[2]),close:p,at:"close"}:(a=new n(e,c.line,c.ch,i),{open:p,close:u(a,f[2]),at:"open"})}}},e.findEnclosingTag=function(e,t,r){for(var i=new n(e,t.line,t.ch,r);;){var a=h(i);if(!a)break;var o=new n(e,t.line,t.ch,r),s=u(o,a.tag);if(s)return{open:a,close:s}}},e.scanForClosingTag=function(e,t,r,i){var a=new n(e,t.line,t.ch,i?{from:0,to:i}:null);return u(a,r)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t,r,i){var a=e.getLineHandle(t.line),l=t.ch-1,c=l>=0&&s[a.text.charAt(l)]||s[a.text.charAt(++l)];if(!c)return null;var u=">"==c.charAt(1)?1:-1;if(r&&u>0!=(l==t.ch))return null;var h=e.getTokenTypeAt(o(t.line,l+1)),d=n(e,o(t.line,l+(u>0?1:0)),u,h||null,i);return null==d?null:{from:o(t.line,l),to:d&&d.pos,match:d&&d.ch==c.charAt(0),forward:u>0}}function n(e,t,n,r,i){for(var a=i&&i.maxScanLineLength||1e4,l=i&&i.maxScanLines||1e3,c=[],u=i&&i.bracketRegex?i.bracketRegex:/[(){}[\]]/,h=n>0?Math.min(t.line+l,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-l),d=t.line;d!=h;d+=n){var f=e.getLine(d);if(f){var p=n>0?0:f.length-1,m=n>0?f.length:-1;if(!(f.length>a))for(d==t.line&&(p=t.ch-(0>n?1:0));p!=m;p+=n){var g=f.charAt(p);if(u.test(g)&&(void 0===r||e.getTokenTypeAt(o(d,p+1))==r)){var v=s[g];if(">"==v.charAt(1)==n>0)c.push(g);else{if(!c.length)return{pos:o(d,p),ch:g};c.pop()}}}}}return d-n==(n>0?e.lastLine():e.firstLine())?!1:null}function r(e,n,r){for(var i=e.state.matchBrackets.maxHighlightLineLength||1e3,s=[],l=e.listSelections(),c=0;c<l.length;c++){var u=l[c].empty()&&t(e,l[c].head,!1,r);if(u&&e.getLine(u.from.line).length<=i){var h=u.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";s.push(e.markText(u.from,o(u.from.line,u.from.ch+1),{className:h})),u.to&&e.getLine(u.to.line).length<=i&&s.push(e.markText(u.to,o(u.to.line,u.to.ch+1),{className:h}))}}if(s.length){a&&e.state.focused&&e.display.input.focus();var d=function(){e.operation(function(){for(var e=0;e<s.length;e++)s[e].clear()})};if(!n)return d;setTimeout(d,800)}}function i(e){e.operation(function(){l&&(l(),l=null),l=r(e,!1,e.state.matchBrackets)})}var a=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),o=e.Pos,s={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;e.defineOption("matchBrackets",!1,function(t,n,r){r&&r!=e.Init&&t.off("cursorActivity",i),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",i))}),e.defineExtension("matchBrackets",function(){r(this,!0)}),e.defineExtension("findMatchingBracket",function(e,n,r){return t(this,e,n,r)}),e.defineExtension("scanForBracket",function(e,t,r,i){return n(this,e,t,r,i)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],e):e(CodeMirror)}(function(e){"use strict";function t(e){e.state.tagHit&&e.state.tagHit.clear(),e.state.tagOther&&e.state.tagOther.clear(),e.state.tagHit=e.state.tagOther=null}function n(n){n.state.failedTagMatch=!1,n.operation(function(){if(t(n),!n.somethingSelected()){var r=n.getCursor(),i=n.getViewport();i.from=Math.min(i.from,r.line),i.to=Math.max(r.line+1,i.to);var a=e.findMatchingTag(n,r,i);if(a){if(n.state.matchBothTags){var o="open"==a.at?a.open:a.close;o&&(n.state.tagHit=n.markText(o.from,o.to,{className:"CodeMirror-matchingtag"}))}var s="close"==a.at?a.open:a.close;s?n.state.tagOther=n.markText(s.from,s.to,{className:"CodeMirror-matchingtag"}):n.state.failedTagMatch=!0}}})}function r(e){e.state.failedTagMatch&&n(e)}e.defineOption("matchTags",!1,function(i,a,o){o&&o!=e.Init&&(i.off("cursorActivity",n),i.off("viewportChange",r),t(i)),a&&(i.state.matchBothTags="object"==typeof a&&a.bothTags,i.on("cursorActivity",n),i.on("viewportChange",r),n(i))}),e.commands.toMatchingTag=function(t){var n=e.findMatchingTag(t,t.getCursor());if(n){var r="close"==n.at?n.open:n.close;r&&t.extendSelection(r.to,r.from)}}});var Liquid={author:"M@ McCray <darthapo@gmail.com>",version:"1.2.1",readTemplateFile:function(){throw"This liquid context does not allow includes."},registerFilters:function(e){Liquid.Template.registerFilter(e)},parse:function(e){return Liquid.Template.parse(e)}};Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1}),Array.prototype.clear||(Array.prototype.clear=function(){this.length=0}),Array.prototype.map||(Array.prototype.map=function(e){var t=this.length;if("function"!=typeof e)throw"Array.map requires first argument to be a function";for(var n=new Array(t),r=arguments[1],i=0;t>i;i++)i in this&&(n[i]=e.call(r,this[i],i,this));return n}),Array.prototype.first||(Array.prototype.first=function(){return this[0]}),Array.prototype.last||(Array.prototype.last=function(){return this[this.length-1]}),Array.prototype.flatten||(Array.prototype.flatten=function(){for(var e=this.length,t=[],n=0;e>n;n++)this[n]instanceof Array?t=t.concat(this[n]):t.push(this[n]);return t}),Array.prototype.each||(Array.prototype.each=function(e){var t=this.length;if("function"!=typeof e)throw"Array.each requires first argument to be a function";for(var n=arguments[1],r=0;t>r;r++)r in this&&e.call(n,this[r],r,this);return null}),Array.prototype.include||(Array.prototype.include=function(e){this.length;return this.indexOf(e)>=0}),String.prototype.capitalize||(String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.substring(1).toLowerCase()}),String.prototype.strip||(String.prototype.strip=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Liquid.extensions={},Liquid.extensions.object={},Liquid.extensions.object.update=function(e){for(var t in e)this[t]=e[t];return this},Liquid.extensions.object.hasKey=function(e){return!!this[e]},Liquid.extensions.object.hasValue=function(e){for(var t in this)if(this[t]==e)return!0;return!1},function(){var e=!1,t=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(n){function r(){!e&&this.init&&this.init.apply(this,arguments)}var i=this.prototype;e=!0;var a=new this;e=!1;for(var o in n)a[o]="function"==typeof n[o]&&"function"==typeof i[o]&&t.test(n[o])?function(e,t){return function(){var n=this._super;this._super=i[e];var r=t.apply(this,arguments);return this._super=n,r}}(o,n[o]):n[o];return r.prototype=a,r.prototype.constructor=r,r.extend=arguments.callee,r}}(),Liquid.Tag=Class.extend({init:function(e,t,n){this.tagName=e,this.markup=t,this.nodelist=this.nodelist||[],this.parse(n)},parse:function(){},render:function(){return""}}),Liquid.Block=Liquid.Tag.extend({init:function(e,t,n){this.blockName=e,this.blockDelimiter="end"+this.blockName,this._super(e,t,n)},parse:function(e){this.nodelist||(this.nodelist=[]),this.nodelist.clear();var t=e.shift();for(e.push("");e.length;){if(/^\{\%/.test(t)){var n=t.match(/^\{\%\s*(\w+)\s*(.*)?\%\}$/);if(!n)throw"Tag '"+t+"' was not properly terminated with: %}";if(this.blockDelimiter==n[1])return this.endTag(),void 0;n[1]in Liquid.Template.tags?this.nodelist.push(new Liquid.Template.tags[n[1]](n[1],n[2],e)):this.unknownTag(n[1],n[2],e)}else/^\{\{/.test(t)?this.nodelist.push(this.createVariable(t)):this.nodelist.push(t);t=e.shift()}this.assertMissingDelimitation()},endTag:function(){},unknownTag:function(e){switch(e){case"else":throw this.blockName+" tag does not expect else tag";case"end":throw"'end' is not a valid delimiter for "+this.blockName+" tags. use "+this.blockDelimiter;default:throw"Unknown tag: "+e}},createVariable:function(e){var t=e.match(/^\{\{(.*)\}\}$/);if(t)return new Liquid.Variable(t[1]);throw"Variable '"+e+"' was not properly terminated with: }}"},render:function(e){return this.renderAll(this.nodelist,e)},renderAll:function(e,t){return(e||[]).map(function(e){var n="";try{n=e.render?e.render(t):e}catch(r){n=t.handleError(r)}return n})},assertMissingDelimitation:function(){throw this.blockName+" tag was never closed"}}),Liquid.Document=Liquid.Block.extend({init:function(e){this.blockDelimiter=[],this.parse(e)},assertMissingDelimitation:function(){}}),Liquid.Strainer=Class.extend({init:function(e){this.context=e},respondTo:function(e){return e=e.toString(),e.match(/^__/)?!1:Liquid.Strainer.requiredMethods.include(e)?!1:e in this}}),Liquid.Strainer.filters={},Liquid.Strainer.globalFilter=function(e){for(var t in e)Liquid.Strainer.filters[t]=e[t]},Liquid.Strainer.requiredMethods=["respondTo","context"],Liquid.Strainer.create=function(e){var t=new Liquid.Strainer(e);for(var n in Liquid.Strainer.filters)t[n]=Liquid.Strainer.filters[n];return t},Liquid.Context=Class.extend({init:function(e,t,n){this.scopes=[e?e:{}],this.registers=t?t:{},this.errors=[],this.rethrowErrors=n,this.strainer=Liquid.Strainer.create(this)},get:function(e){return this.resolve(e)},set:function(e,t){this.scopes[0][e]=t},hasKey:function(e){return this.resolve(e)?!0:!1},push:function(){var e={};return this.scopes.unshift(e),e},merge:function(e){return Liquid.extensions.object.update.call(this.scopes[0],e)},pop:function(){if(1==this.scopes.length)throw"Context stack error";return this.scopes.shift()},stack:function(e,t){var n=null;this.push();try{n=e.apply(t?t:this.strainer)}finally{this.pop()}return n},invoke:function(e,t){if(this.strainer.respondTo(e)){var n=this.strainer[e].apply(this.strainer,t);return n}return 0==t.length?null:t[0]},resolve:function(e){switch(e){case null:case"nil":case"null":case"":return null;case"true":return!0;case"false":return!1;case"blank":case"empty":return"";default:if(/^'(.*)'$/.test(e))return e.replace(/^'(.*)'$/,"$1");if(/^"(.*)"$/.test(e))return e.replace(/^"(.*)"$/,"$1");if(/^(\d+)$/.test(e))return parseInt(e.replace(/^(\d+)$/,"$1"));if(/^(\d[\d\.]+)$/.test(e))return parseFloat(e.replace(/^(\d[\d\.]+)$/,"$1"));if(/^\((\S+)\.\.(\S+)\)$/.test(e)){var t=e.match(/^\((\S+)\.\.(\S+)\)$/),n=parseInt(t[1]),r=parseInt(t[2]),i=[];if(isNaN(n)||isNaN(r)){n=t[1].charCodeAt(0),r=t[2].charCodeAt(0);for(var a=r-n+1,o=0;a>o;o++)i.push(String.fromCharCode(o+n))}else for(var a=r-n+1,o=0;a>o;o++)i.push(o+n);return i}var s=this.variable(e);return s}},findVariable:function(e){for(var t=0;t<this.scopes.length;t++){var n=this.scopes[t];if(n&&"undefined"!=typeof n[e]){var r=n[e];return"function"==typeof r&&(r=r.apply(this),n[e]=r),r&&this._isObject(r)&&"toLiquid"in r&&(r=r.toLiquid()),r&&this._isObject(r)&&"setContext"in r&&r.setContext(self),r}}return null},variable:function(e){if("string"!=typeof e)return null;var t=e.match(/\[[^\]]+\]|(?:[\w\-]\??)+/g),n=t.shift(),r=n.match(/^\[(.*)\]$/);r&&(n=this.resolve(r[1]));var i=this.findVariable(n),a=this;return i&&t.each(function(e){var t=e.match(/^\[(.*)\]$/);if(t){var e=a.resolve(t[1]);"function"==typeof i[e]&&(i[e]=i[e].apply(this)),i=i[e],a._isObject(i)&&"toLiquid"in i&&(i=i.toLiquid())}else{if((a._isObject(i)||"hash"==typeof i)&&e in i){var n=i[e];"function"==typeof n&&(n=i[e]=n.apply(a)),i=a._isObject(n)&&"toLiquid"in n?n.toLiquid():n}else if(/^\d+$/.test(e)){var r=parseInt(e);"function"==typeof i[r]&&(i[r]=i[r].apply(a)),i=a._isObject(i)&&a._isObject(i[r])&&"toLiquid"in i[r]?i[r].toLiquid():i[r]}else{if(!i||"function"!=typeof i[e]||!["length","size","first","last"].include(e))return i=null;i=i[e].apply(e),"toLiquid"in i&&(i=i.toLiquid())}a._isObject(i)&&"setContext"in i&&i.setContext(a)}}),i},addFilters:function(e){e=e.flatten(),e.each(function(e){if(!this._isObject(e))throw"Expected object but got: "+typeof e;this.strainer.addMethods(e)})},handleError:function(e){if(this.errors.push(e),this.rethrowErrors)throw e;return"Liquid error: "+(e.message?e.message:e.description?e.description:e)},_isObject:function(e){return null!=e&&"object"==typeof e}}),Liquid.Template=Class.extend({init:function(){this.root=null,this.registers={},this.assigns={},this.errors=[],this.rethrowErrors=!1},parse:function(e){return this.root=new Liquid.Document(Liquid.Template.tokenize(e)),this},render:function(){if(!this.root)return"";var e={ctx:arguments[0],filters:arguments[1],registers:arguments[2]},t=null;e.ctx instanceof Liquid.Context?(t=e.ctx,this.assigns=t.assigns,this.registers=t.registers):(e.ctx&&Liquid.extensions.object.update.call(this.assigns,e.ctx),e.registers&&Liquid.extensions.object.update.call(this.registers,e.registers),t=new Liquid.Context(this.assigns,this.registers,this.rethrowErrors)),e.filters&&t.addFilters(arg.filters);try{return this.root.render(t).join("")}finally{this.errors=t.errors}},renderWithErrors:function(){var e=this.rethrowErrors;this.rethrowErrors=!0;var t=this.render.apply(this,arguments);return this.rethrowErrors=e,t}}),Liquid.Template.tags={},Liquid.Template.registerTag=function(e,t){Liquid.Template.tags[e]=t},Liquid.Template.registerFilter=function(e){Liquid.Strainer.globalFilter(e)},Liquid.Template.tokenize=function(e){var t=e.split(/(\{\%.*?\%\}|\{\{.*?\}\}?)/);return""==t[0]&&t.shift(),t},Liquid.Template.parse=function(e){return(new Liquid.Template).parse(e)},Liquid.Variable=Class.extend({init:function(e){this.markup=e,this.name=null,this.filters=[];var t=this,n=e.match(/\s*("[^"]+"|'[^']+'|[^\s,|]+)/);if(n){this.name=n[1];var r=e.match(/\|\s*(.*)/);if(r){var i=r[1].split(/\|/);i.each(function(e){var n=e.match(/\s*(\w+)/);if(n){var r=n[1],i=[];(e.match(/(?:[:|,]\s*)("[^"]+"|'[^']+'|[^\s,|]+)/g)||[]).flatten().each(function(e){var t=e.match(/^[\s|:|,]*(.*?)[\s]*$/);t&&i.push(t[1])}),t.filters.push([r,i])}})}}},render:function(e){if(null==this.name)return"";var t=e.get(this.name);return this.filters.each(function(n){var r=n[0],i=(n[1]||[]).map(function(t){return e.get(t)});i.unshift(t),t=e.invoke(r,i)}),t}}),Liquid.Condition=Class.extend({init:function(e,t,n){this.left=e,this.operator=t,this.right=n,this.childRelation=null,this.childCondition=null,this.attachment=null},evaluate:function(e){e=e||new Liquid.Context;var t=this.interpretCondition(this.left,this.right,this.operator,e);switch(this.childRelation){case"or":return t||this.childCondition.evaluate(e);case"and":return t&&this.childCondition.evaluate(e);default:return t}},or:function(e){this.childRelation="or",this.childCondition=e},and:function(e){this.childRelation="and",this.childCondition=e},attach:function(e){return this.attachment=e,this.attachment},isElse:!1,interpretCondition:function(e,t,n,r){if(!n)return r.get(e);if(e=r.get(e),t=r.get(t),n=Liquid.Condition.operators[n],!n)throw"Unknown operator "+n;var i=n(e,t);return i},toString:function(){return"<Condition "+this.left+" "+this.operator+" "+this.right+">"}}),Liquid.Condition.operators={"==":function(e,t){return e==t},"=":function(e,t){return e==t},"!=":function(e,t){return e!=t},"<>":function(e,t){return e!=t},"<":function(e,t){return t>e},">":function(e,t){return e>t},"<=":function(e,t){return t>=e},">=":function(e,t){return e>=t},contains:function(e,t){return e.match(t)},hasKey:function(e,t){return Liquid.extensions.object.hasKey.call(e,t)},hasValue:function(e,t){return Liquid.extensions.object.hasValue.call(e,t)}},Liquid.ElseCondition=Liquid.Condition.extend({isElse:!0,evaluate:function(){return!0},toString:function(){return"<ElseCondition>"}}),Liquid.Drop=Class.extend({setContext:function(e){this.context=e},beforeMethod:function(){},invokeDrop:function(e){var t=this.beforeMethod();return!t&&e in this&&(t=this[e].apply(this)),t},hasKey:function(){return!0}});var hackObjectEach=function(e){if("function"!=typeof e)throw"Object.each requires first argument to be a function";var t=0,n=arguments[1];for(var r in this){var i=this[r],a=[r,i];a.key=r,a.value=i,e.call(n,a,t,this),t++}return null};Liquid.Template.registerTag("assign",Liquid.Tag.extend({tagSyntax:/((?:\(?[\w\-\.\[\]]\)?)+)\s*=\s*((?:"[^"]+"|'[^']+'|[^\s,|]+)+)/,init:function(e,t,n){var r=t.match(this.tagSyntax);if(!r)throw"Syntax error in 'assign' - Valid syntax: assign [var] = [source]";this.to=r[1],this.from=r[2],this._super(e,t,n)},render:function(e){return e.scopes.last()[this.to.toString()]=e.get(this.from),""}})),Liquid.Template.registerTag("cache",Liquid.Block.extend({tagSyntax:/(\w+)/,init:function(e,t,n){var r=t.match(this.tagSyntax);if(!r)throw"Syntax error in 'cache' - Valid syntax: cache [var]";this.to=r[1],this._super(e,t,n)},render:function(e){var t=this._super(e);return e.scopes.last()[this.to]=[t].flatten().join(""),""}})),Liquid.Template.registerTag("capture",Liquid.Block.extend({tagSyntax:/(\w+)/,init:function(e,t,n){var r=t.match(this.tagSyntax);if(!r)throw"Syntax error in 'capture' - Valid syntax: capture [var]";this.to=r[1],this._super(e,t,n)},render:function(e){var t=this._super(e);return e.set(this.to,[t].flatten().join("")),""}})),Liquid.Template.registerTag("case",Liquid.Block.extend({tagSyntax:/("[^"]+"|'[^']+'|[^\s,|]+)/,tagWhenSyntax:/("[^"]+"|'[^']+'|[^\s,|]+)(?:(?:\s+or\s+|\s*\,\s*)("[^"]+"|'[^']+'|[^\s,|]+.*))?/,init:function(e,t,n){this.blocks=[],this.nodelist=[];var r=t.match(this.tagSyntax);if(!r)throw"Syntax error in 'case' - Valid syntax: case [condition]";this.left=r[1],this._super(e,t,n)},unknownTag:function(e,t,n){switch(e){case"when":this.recordWhenCondition(t);break;case"else":this.recordElseCondition(t);break;default:this._super(e,t,n)}},render:function(e){var t=this,n=[],r=!0;return e.stack(function(){for(var i=0;i<t.blocks.length;i++){var a=t.blocks[i];if(a.isElse)return 1==r&&(n=[n,t.renderAll(a.attachment,e)].flatten()),n;a.evaluate(e)&&(r=!1,n=[n,t.renderAll(a.attachment,e)].flatten())}}),n},recordWhenCondition:function(e){for(;e;){var t=e.match(this.tagWhenSyntax);if(!t)throw"Syntax error in tag 'case' - Valid when condition: {% when [condition] [or condition2...] %} ";e=t[2];var n=new Liquid.Condition(this.left,"==",t[1]);this.blocks.push(n),this.nodelist=n.attach([])}},recordElseCondition:function(e){if(""!=(e||"").strip())throw"Syntax error in tag 'case' - Valid else condition: {% else %} (no parameters) ";var t=new Liquid.ElseCondition;this.blocks.push(t),this.nodelist=t.attach([])}})),Liquid.Template.registerTag("comment",Liquid.Block.extend({render:function(){return""}})),Liquid.Template.registerTag("cycle",Liquid.Tag.extend({tagSimpleSyntax:/"[^"]+"|'[^']+'|[^\s,|]+/,tagNamedSyntax:/("[^"]+"|'[^']+'|[^\s,|]+)\s*\:\s*(.*)/,init:function(e,t,n){var r;if(r=t.match(this.tagNamedSyntax))this.variables=this.variablesFromString(r[2]),this.name=r[1];else{if(r=t.match(this.tagSimpleSyntax),!r)throw"Syntax error in 'cycle' - Valid syntax: cycle [name :] var [, var2, var3 ...]";this.variables=this.variablesFromString(t),this.name="'"+this.variables.toString()+"'"}this._super(e,t,n)},render:function(e){var t=this,n=e.get(t.name),r="";return e.registers.cycle||(e.registers.cycle={}),e.registers.cycle[n]||(e.registers.cycle[n]=0),e.stack(function(){var i=e.registers.cycle[n],a=e.get(t.variables[i]);i+=1,i==t.variables.length&&(i=0),e.registers.cycle[n]=i,r=a}),r},variablesFromString:function(e){return e.split(",").map(function(e){var t=e.match(/\s*("[^"]+"|'[^']+'|[^\s,|]+)\s*/);return t[1]?t[1]:null})}})),Liquid.Template.registerTag("for",Liquid.Block.extend({tagSyntax:/(\w+)\s+in\s+((?:\(?[\w\-\.\[\]]\)?)+)/,init:function(e,t,n){var r=t.match(this.tagSyntax);if(!r)throw"Syntax error in 'for loop' - Valid syntax: for [item] in [collection]";this.variableName=r[1],this.collectionName=r[2],this.name=this.variableName+"-"+this.collectionName,this.attributes={};var i=(t.replace(this.tagSyntax,""),t.match(/(\w*?)\s*\:\s*("[^"]+"|'[^']+'|[^\s,|]+)/g));i&&i.each(function(e){e=e.split(":"),this.attributes[e[0].strip()]=e[1].strip()},this),this._super(e,t,n)},render:function(e){var t=this,n=[],r=e.get(this.collectionName)||[],i=[0,r.length];if(e.registers["for"]||(e.registers["for"]={}),this.attributes.limit||this.attributes.offset){var a=0,o=0,s=0,l=null;a="continue"==this.attributes.offset?e.registers["for"][this.name]:e.get(this.attributes.offset)||0,o=e.get(this.attributes.limit),s=o?a+o+1:r.length,i=[a,s-1],e.registers["for"][this.name]=s}return l=r.slice(i[0],i[1]),l&&0!=l.length?(e.stack(function(){var r=l.length;l.each(function(i,a){e.set(t.variableName,i),e.set("forloop",{name:t.name,length:r,index:a+1,index0:a,rindex:r-a,rindex0:r-a-1,first:0==a,last:a==r-1}),n.push((t.renderAll(t.nodelist,e)||[]).join(""))})}),[n].flatten().join("")):""}})),Liquid.Template.registerTag("if",Liquid.Block.extend({tagSyntax:/("[^"]+"|'[^']+'|[^\s,|]+)\s*([=!<>a-z_]+)?\s*("[^"]+"|'[^']+'|[^\s,|]+)?/,init:function(e,t,n){this.nodelist=[],this.blocks=[],this.pushBlock("if",t),this._super(e,t,n)},unknownTag:function(e,t,n){["elsif","else"].include(e)?this.pushBlock(e,t):this._super(e,t,n)},render:function(e){var t=this,n="";return e.stack(function(){for(var r=0;r<t.blocks.length;r++){var i=t.blocks[r];if(i.evaluate(e))return n=t.renderAll(i.attachment,e),void 0}}),[n].flatten().join("")},pushBlock:function(e,t){var n;if("else"==e)n=new Liquid.ElseCondition;else{var r=t.split(/\b(and|or)\b/).reverse(),i=r.shift().match(this.tagSyntax);if(!i)throw"Syntax Error in tag '"+e+"' - Valid syntax: "+e+" [expression]";for(var a=new Liquid.Condition(i[1],i[2],i[3]);r.length>0;){var o=r.shift(),i=r.shift().match(this.tagSyntax);if(!i)throw"Syntax Error in tag '"+e+"' - Valid syntax: "+e+" [expression]";var s=new Liquid.Condition(i[1],i[2],i[3]);s[o](a),a=s}n=a}n.attach([]),this.blocks.push(n),this.nodelist=n.attachment}})),Liquid.Template.registerTag("ifchanged",Liquid.Block.extend({render:function(e){var t=this,n="";return e.stack(function(){var r=t.renderAll(t.nodelist,e).join("");r!=e.registers.ifchanged&&(n=r,e.registers.ifchanged=n)}),n}})),Liquid.Template.registerTag("include",Liquid.Tag.extend({tagSyntax:/((?:"[^"]+"|'[^']+'|[^\s,|]+)+)(\s+(?:with|for)\s+((?:"[^"]+"|'[^']+'|[^\s,|]+)+))?/,init:function(e,t,n){var r=(t||"").match(this.tagSyntax);if(!r)throw"Error in tag 'include' - Valid syntax: include '[template]' (with|for) [object|collection]";this.templateName=r[1],this.templateNameVar=this.templateName.substring(1,this.templateName.length-1),this.variableName=r[3],this.attributes={};var i=t.match(/(\w*?)\s*\:\s*("[^"]+"|'[^']+'|[^\s,|]+)/g);i&&i.each(function(e){e=e.split(":"),this.attributes[e[0].strip()]=e[1].strip()},this),this._super(e,t,n)},render:function(e){var t=this,n=Liquid.readTemplateFile(e.get(this.templateName)),r=Liquid.parse(n),i=e.get(this.variableName||this.templateNameVar),a="";return e.stack(function(){t.attributes.each=hackObjectEach,t.attributes.each(function(t){e.set(t.key,e.get(t.value))}),i instanceof Array?a=i.map(function(n){return e.set(t.templateNameVar,n),r.render(e)}):(e.set(t.templateNameVar,i),a=r.render(e))}),a=[a].flatten().join("")}})),Liquid.Template.registerTag("unless",Liquid.Template.tags["if"].extend({render:function(e){var t=this,n="";return e.stack(function(){var r=t.blocks[0];if(!r.evaluate(e))return n=t.renderAll(r.attachment,e),void 0;for(var i=1;i<t.blocks.length;i++){var r=t.blocks[i];if(r.evaluate(e))return n=t.renderAll(r.attachment,e),void 0}}),[n].flatten().join("")}})),Liquid.Template.registerTag("raw",Liquid.Block.extend({parse:function(e){this.nodelist||(this.nodelist=[]),this.nodelist.clear();var t=e.shift();for(e.push("");e.length;){if(/^\{\%/.test(t)){var n=t.match(/^\{\%\s*(\w+)\s*(.*)?\%\}$/);if(n&&this.blockDelimiter==n[1])return this.endTag(),void 0}this.nodelist.push(t||""),t=e.shift()}this.assertMissingDelimitation()},render:function(){return this.nodelist.join("")}})),Liquid.Template.registerFilter({_HTML_ESCAPE_MAP:{"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"},size:function(e){return e.length?e.length:0},downcase:function(e){return e.toString().toLowerCase()},upcase:function(e){return e.toString().toUpperCase()},capitalize:function(e){return e.toString().capitalize()},escape:function(e){var t=this;return e.replace(/[&<>"']/g,function(e){return t._HTML_ESCAPE_MAP[e]})},h:function(e){var t=this;return e.replace(/[&<>"']/g,function(e){return t._HTML_ESCAPE_MAP[e]})},truncate:function(e,t,n){if(!e||""==e)return"";t=t||50,n=n||"...";e.slice(0,t);return e.length>t?e.slice(0,t)+n:e},truncatewords:function(e,t,n){if(!e||""==e)return"";t=parseInt(t||15),n=n||"...";var r=e.toString().split(" "),i=Math.max(t,0);return r.length>i?r.slice(0,i).join(" ")+n:e},truncate_words:function(e,t,n){if(!e||""==e)return"";t=parseInt(t||15),n=n||"...";var r=e.toString().split(" "),i=Math.max(t,0);return r.length>i?r.slice(0,i).join(" ")+n:e},strip_html:function(e){return e.toString().replace(/<.*?>/g,"")},strip_newlines:function(e){return e.toString().replace(/\n/g,"")},join:function(e,t){return t=t||" ",e.join(t)},split:function(e,t){return t=t||" ",e.split(t)},sort:function(e){return e.sort()},reverse:function(e){return e.reverse()},replace:function(e,t,n){return n=n||"",e.toString().replace(new RegExp(t,"g"),n)},replace_first:function(e,t,n){return n=n||"",e.toString().replace(new RegExp(t,""),n)},newline_to_br:function(e){return e.toString().replace(/\n/g,"<br/>\n")},date:function(e,t){var n;return e instanceof Date&&(n=e),n instanceof Date||"now"!=e||(n=new Date),n instanceof Date||"number"!=typeof e||(n=new Date(1e3*e)),n instanceof Date||"string"!=typeof e||(n=new Date(Date.parse(e))),n instanceof Date?n.strftime(t):e},first:function(e){return e[0]},last:function(e){return e=e,e[e.length-1]},minus:function(e,t){return(Number(e)||0)-(Number(t)||0)},plus:function(e,t){return(Number(e)||0)+(Number(t)||0)},times:function(e,t){return(Number(e)||0)*(Number(t)||0)},divided_by:function(e,t){return(Number(e)||0)/(Number(t)||0)},modulo:function(e,t){return(Number(e)||0)%(Number(t)||0)},map:function(e,t){e=e||[];for(var n=[],r=0;r<e.length;r++)n.push(e[r][t]);return n},escape_once:function(e){var t=this;return e.replace(/["><']|&(?!([a-zA-Z]+|(#\d+));)/g,function(e){return t._HTML_ESCAPE_MAP[e]})},remove:function(e,t){return e.toString().replace(new RegExp(t,"g"),"")},remove_first:function(e,t){return e.toString().replace(t,"")
},prepend:function(e,t){return""+(t||"").toString()+(e||"").toString()},append:function(e,t){return""+(e||"").toString()+(t||"").toString()}}),(new Date).strftime||!function(){Date.ext={},Date.ext.util={},Date.ext.util.xPad=function(e,t,n){for("undefined"==typeof n&&(n=10);parseInt(e,10)<n&&n>1;n/=10)e=t.toString()+e;return e.toString()},Date.prototype.locale="en-GB",document.getElementsByTagName("html")&&document.getElementsByTagName("html")[0].lang&&(Date.prototype.locale=document.getElementsByTagName("html")[0].lang),Date.ext.locales={},Date.ext.locales.en={a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B:["January","February","March","April","May","June","July","August","September","October","November","December"],c:"%a %d %b %Y %T %Z",p:["AM","PM"],P:["am","pm"],x:"%d/%m/%y",X:"%T"},Date.ext.locales["en-US"]=Date.ext.locales.en,Date.ext.locales["en-US"].c="%a %d %b %Y %r %Z",Date.ext.locales["en-US"].x="%D",Date.ext.locales["en-US"].X="%r",Date.ext.locales["en-GB"]=Date.ext.locales.en,Date.ext.locales["en-AU"]=Date.ext.locales["en-GB"],Date.ext.formats={a:function(e){return Date.ext.locales[e.locale].a[e.getDay()]},A:function(e){return Date.ext.locales[e.locale].A[e.getDay()]},b:function(e){return Date.ext.locales[e.locale].b[e.getMonth()]},B:function(e){return Date.ext.locales[e.locale].B[e.getMonth()]},c:"toLocaleString",C:function(e){return Date.ext.util.xPad(parseInt(e.getFullYear()/100,10),0)},d:["getDate","0"],e:["getDate"," "],g:function(e){return Date.ext.util.xPad(parseInt(Date.ext.util.G(e)/100,10),0)},G:function(e){var t=e.getFullYear(),n=parseInt(Date.ext.formats.V(e),10),r=parseInt(Date.ext.formats.W(e),10);return r>n?t++:0===r&&n>=52&&t--,t},H:["getHours","0"],I:function(e){var t=e.getHours()%12;return Date.ext.util.xPad(0===t?12:t,0)},j:function(e){var t=e-new Date(""+e.getFullYear()+"/1/1 GMT");t+=6e4*e.getTimezoneOffset();var n=parseInt(t/6e4/60/24,10)+1;return Date.ext.util.xPad(n,0,100)},m:function(e){return Date.ext.util.xPad(e.getMonth()+1,0)},M:["getMinutes","0"],p:function(e){return Date.ext.locales[e.locale].p[e.getHours()>=12?1:0]},P:function(e){return Date.ext.locales[e.locale].P[e.getHours()>=12?1:0]},S:["getSeconds","0"],u:function(e){var t=e.getDay();return 0===t?7:t},U:function(e){var t=parseInt(Date.ext.formats.j(e),10),n=6-e.getDay(),r=parseInt((t+n)/7,10);return Date.ext.util.xPad(r,0)},V:function(e){var t=parseInt(Date.ext.formats.W(e),10),n=new Date(""+e.getFullYear()+"/1/1").getDay(),r=t+(n>4||1>=n?0:1);return 53==r&&new Date(""+e.getFullYear()+"/12/31").getDay()<4?r=1:0===r&&(r=Date.ext.formats.V(new Date(""+(e.getFullYear()-1)+"/12/31"))),Date.ext.util.xPad(r,0)},w:"getDay",W:function(e){var t=parseInt(Date.ext.formats.j(e),10),n=7-Date.ext.formats.u(e),r=parseInt((t+n)/7,10);return Date.ext.util.xPad(r,0,10)},y:function(e){return Date.ext.util.xPad(e.getFullYear()%100,0)},Y:"getFullYear",z:function(e){var t=e.getTimezoneOffset(),n=Date.ext.util.xPad(parseInt(Math.abs(t/60),10),0),r=Date.ext.util.xPad(t%60,0);return(t>0?"-":"+")+n+r},Z:function(e){return e.toString().replace(/^.*\(([^)]+)\)$/,"$1")},"%":function(){return"%"}},Date.ext.aggregates={c:"locale",D:"%m/%d/%y",h:"%b",n:"\n",r:"%I:%M:%S %p",R:"%H:%M",t:"	",T:"%H:%M:%S",x:"locale",X:"locale"},Date.ext.aggregates.z=Date.ext.formats.z(new Date),Date.ext.aggregates.Z=Date.ext.formats.Z(new Date),Date.ext.unsupported={},Date.prototype.strftime=function(e){this.locale in Date.ext.locales||(this.locale=this.locale.replace(/-[a-zA-Z]+$/,"")in Date.ext.locales?this.locale.replace(/-[a-zA-Z]+$/,""):"en-GB");for(var t=this;e.match(/%[cDhnrRtTxXzZ]/);)e=e.replace(/%([cDhnrRtTxXzZ])/g,function(e,n){var r=Date.ext.aggregates[n];return"locale"==r?Date.ext.locales[t.locale][n]:r});var n=e.replace(/%([aAbBCdegGHIjmMpPSuUVwWyY%])/g,function(e,n){var r=Date.ext.formats[n];return"string"==typeof r?t[r]():"function"==typeof r?r.call(t,t):"object"==typeof r&&"string"==typeof r[0]?Date.ext.util.xPad(t[r[0]](),r[1]):n});return t=null,n}}();var split;split=split||function(e){var t,n=String.prototype.split,r=/()??/.exec("")[1]===e;return t=function(t,i,a){if("[object RegExp]"!==Object.prototype.toString.call(i))return n.call(t,i,a);var o,s,l,c,u=[],h=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),d=0,i=new RegExp(i.source,h+"g");for(t+="",r||(o=new RegExp("^"+i.source+"$(?!\\s)",h)),a=a===e?-1>>>0:a>>>0;(s=i.exec(t))&&(l=s.index+s[0].length,!(l>d&&(u.push(t.slice(d,s.index)),!r&&s.length>1&&s[0].replace(o,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(s[t]=e)}),s.length>1&&s.index<t.length&&Array.prototype.push.apply(u,s.slice(1)),c=s[0].length,d=l,u.length>=a)));)i.lastIndex===s.index&&i.lastIndex++;return d===t.length?(c||!i.test(""))&&u.push(""):u.push(t.slice(d)),u.length>a?u.slice(0,a):u},String.prototype.split=function(e,n){return t(this,e,n)},t}(),function(e,t,n){function r(n,a){if(!t[n]){if(!e[n]){var o="function"==typeof require&&require;if(!a&&o)return o(n,!0);if(i)return i(n,!0);throw new Error("Cannot find module '"+n+"'")}var s=t[n]={exports:{}};e[n][0].call(s.exports,function(t){var i=e[n][1][t];return r(i?i:t)},s,s.exports)}return t[n].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(e,t){t.exports={login:"Authorize on GitHub",docheader:{editing:"Editing",error:"Error",preview:"Previewing"},navigation:{newFile:"New File",edit:"Edit",preview:"Preview",settings:"Settings",meta:"Meta Data",save:"Save",login:"Authorize with GitHub",about:"About",develop:"Developers",logout:"Logout",language:"Language"},toolbar:{heading:"Heading",subHeading:"Sub Heading",link:"Insert Link",image:"Insert Image",bold:"Bold",italic:"Italic",blockquote:"Blockquote",list:"List",numberedlist:"Numbered List",help:"Help"},heading:{explore:"Explore Projects"},actions:{unsaved:"You have unsaved Changes. Are you sure you want to leave?",draft:{toPost:"Draft to Post",toPostInfo:"Convert this draft into a published post"},publishing:{publish:"Publish",publishInfo:"This post will be published the next time you save",published:"Published",unpublish:"Unpublish",unpublished:"Unpublished",unpublishInfo:"This post will be unpublished the next time you save"},change:{noChange:"No Changes",submit:"Changes to Submit",save:"Changes to Save"},"delete":{title:"Delete",warn:"Are you sure you want to delete this file?",error:"Error during deletion. Please wait 30 seconds and try again."},upload:{uploading:"Uploading {file}",uploaded:"Uploaded {file}"},save:{title:"Save",saved:"Saved",saving:"Saving",patch:"Submitting Request",fileNameError:"Needs a Filename",submission:"Request Submitted",metaError:"Error! Metadata not Found",fileNameExists:"A filename with this path already exists"},error:"Error. Try again in 30 Seconds",restore:{restoring:"Restoring",restored:"Restored"},commits:{created:"Created {filename}",updated:"Updated {filename}",deleted:"Deleted {filename}",toDraft:"Created draft of {filename}",fromDraft:"Created post from a draft of {filename}"}},loading:{repos:"Loading Profile",repo:"Loading Project",file:"Loading File",preview:"Previewing File",creating:"Creating new post"},modal:{errorHeading:"Error",confirm:"Got it"},main:{start:{content:"Prose is a content editor for GitHub designed for managing websites.",learn:"Learn more"},repos:{filter:"Filter Projects",repo:"View Project",site:"View Site",sharedFrom:"Shared from an account",forkedFrom:"Forked from another project"},repo:{filter:"Filter Files",edit:"Edit","delete":"Delete this File"},"new":{body:"## A New Post\n\nEnter text in [Markdown](http://daringfireball.net/projects/markdown/). Use the toolbar above, or click the **?** button for formatting help.\n"},file:{noTitle:"Untitled",metaTitle:"Review your changes:",rawMeta:"Raw Metadata",metaDescription:"Additions are highlighted in green. Deletions are crossed out.",back:"Done",createMeta:"Create New"},upgrade:{content:"Prose requires features not available to your browser",download:"Download a Modern Browser"}},notification:{loginDescription:"Please login with your GitHub account to access that project.",create:"Create it",home:"Back to Main Page",back:"Go Back",githubStatus:"Status on GitHub ({status})",error:{label:"Error",github:"Error while loading data from Github. This might be a temporary issue. Please try again later.",exists:"This file does not exist",notFound:"Page not Found"}},sidebar:{repos:{groups:"Groups"},repo:{branch:"Switch Branch",drafts:"View Drafts",history:{label:"Most Recent History",actions:{restore:"Restore?"}},create:"Create New File"},save:{label:"Describe your Changes",cancel:"Cancel",save:"Commit",submit:"Submit Change Request"},settings:{title:"Options",fileInputLabel:"File Path","delete":"Delete This File",translate:"Translate to",draft:"Create Draft"}},dialogs:{link:{title:"Insert Link",insertLocal:"Insert a Local Link",insert:"Insert",hrefPlaceholder:"Link URL",textPlaceholder:"Link Name",titlePlaceholder:"Title (optional)",insertPlaceholder:"Insert a local link"},media:{title:"Insert Image",back:"Back",hrefPlaceholder:"Image URL",altPlaceholder:"Alt text (optional)",description:"Upload images by Dragging &amp; Dropping or </br>\n{input} <a>selecting one</a>\n",help:"Images uploaded are added to the current directory or one specified in the Image URL path above.",helpMedia:"Images uploaded are added to the 'Choose Existing' directory or one specified in the Image URL field.",choose:"Choose Existing"},help:{blockElements:{title:"Block Elements",content:{paragraphs:{title:"Paragraphs &amp; Breaks",content:"<p>To create a paragraph, simply create a block of text that is separated by one or more blank lines. Blocks of text separated by one or more blank lines will be parsed as paragraphs.</p><p>If you want to create a line break, end a line with two or more spaces, then hit Return/Enter.</p>\n"},headers:{title:"Headers",content:"<p>Markdown supports two header formats. The wiki editor uses the &ldquo;atx&rsquo;-style headers. Simply prefix your header text with the number of <code>#</code> characters to specify heading depth. For example: <code># Header 1</code>, <code>## Header 2</code> and <code>### Header 3</code> will be progressively smaller headers. You may end your headers with any number of hashes.</p>\n"},blockquotes:{title:"Blockquotes",content:"<p>Markdown creates blockquotes email-style by prefixing each line with the <code>&gt;</code>. This looks best if you decide to hard-wrap text and prefix each line with a <code>&gt;</code> character, but Markdown supports just putting <code>&gt;</code> before your paragraph.</p>\n"},lists:{title:"Lists",content:"<p>Markdown supports both ordered and unordered lists. To create an ordered list, simply prefix each line with a number (any number will do &mdash; this is why the editor only uses one number.) To create an unordered list, you can prefix each line with <code>*</code>, <code>+</code> or <code>-</code>.</p> List items can contain multiple paragraphs, however each paragraph must be indented by at least 4 spaces or a tab.\n"},codeBlocks:{title:"Code Blocks",content:"<p>Markdown wraps code blocks in pre-formatted tags to preserve indentation in your code blocks. To create a code block, indent the entire block by at least 4 spaces or one tab. Markdown will strip the extra indentation you&rsquo;ve added to the code block.</p>\n"},horizontalRules:{title:"Horizontal Rules",content:"<p>Horizontal rules are created by placing three or more hyphens, asterisks or underscores on a line by themselves. Spaces are allowed between the hyphens, asterisks or underscores.</p>\n"}}},spanElements:{title:"Span Elements",content:{links:{title:"Links",content:"<p>Markdown has two types of links: <strong>inline</strong> and <strong>reference</strong>. For both types of links, the text you want to display to the user is placed in square brackets. For example, if you want your link to display the text &ldquo;GitHub&rdquo;, you write <code>[GitHub]</code>.</p><p>To create an inline link, create a set of parentheses immediately after the brackets and write your URL within the parentheses. (e.g., <code>[GitHub](http://github.com/)</code>). Relative paths are allowed in inline links.</p><p>To create a reference link, use two sets of square brackets. <code>[my internal link][internal-ref]</code> will link to the internal reference <code>internal-ref</code>.</p>\n"},emphasis:{title:"Emphasis",content:"<p>Asterisks (<code>*</code>) and underscores (<code>_</code>) are treated as emphasis and are wrapped with an <code>&lt;em&gt;</code> tag, which usually displays as italics in most browsers. Double asterisks (<code>**</code>) or double underscores (<code>__</code>) are treated as bold using the <code>&lt;strong&gt;</code> tag. To create italic or bold text, simply wrap your words in single/double asterisks/underscores. For example, <code>**My double emphasis text**</code> becomes <strong>My double emphasis text</strong>, and <code>*My single emphasis text*</code> becomes <em>My single emphasis text</em>.</p>\n"},code:{title:"Code",content:"<p>To create inline spans of code, simply wrap the code in backticks (<code>`</code>). Markdown will turn <code>`myFunction`</code> into <code>myFunction</code>.</p>\n"},images:{title:"Images",content:"<p>Markdown image syntax looks a lot like the syntax for links; it is essentially the same syntax preceded by an exclamation point (<code>!</code>). For example, if you want to link to an image at <code>http://github.com/unicorn.png</code> with the alternate text <code>My Unicorn</code>, you would write <code>![My Unicorn](http://github.com/unicorn.png)</code>.</p>\n"}}},miscellaneous:{title:"Miscellaneous",content:{automaticLinks:{title:"Automatic Links",content:'<p>If you want to create a link that displays the actual URL, Markdown allows you to quickly wrap the URL in <code>&lt;</code> and <code>&gt;</code> to do so. For example, the link <a href="javascript:void(0);">http://github.com/</a> is easily produced by writing <code>&lt;http://github.com/&gt;</code>.</p>\n'},escaping:{title:"Escaping",content:"<p>If you want to use a special Markdown character in your document (such as displaying literal asterisks), you can escape the character with the backslash (<code>\\\\</code>). Markdown will ignore the character directly after a backslash.</p>\n"}}}}},chooselanguage:{title:"Choose a Language",description:"Prose is a translated application. If you don't see your language in the list, there are spelling errors, or translations are missing, consider <a href='https://www.transifex.com/projects/p/prose'>contributing translations to the project</a>.\n"},about:{content:"# About\nProse provides a beatifully simple content authoring environment for\n[CMS-free websites](http://developmentseed.org/blog/2012/07/27/build-cms-free-websites/).\nIt's a web-based interface for managing content on\n[GitHub](http://github.com). Use it to create, edit, and delete files,\nand save your changes directly to GitHub. Host your website on\n[GitHub Pages](http://pages.github.com) for free, or set up your own\n[GitHub webhook server](http://developmentseed.org/blog/2013/05/01/introducing-jekyll-hook/).\n\nProse has advanced support for [Jekyll](http://jekyllrb.com/) sites and\n[markdown content](http://daringfireball.net/projects/markdown/).\nProse detects markdown posts in Jekyll sites and provides syntax\nhighlighting, a formatting toolbar, and draft previews in the site's\nfull layout.\n\nDevelopers can configure Jekyll sites to take advantage of these and\nmany more features that customize the content editing experience.\n\n## Configuring\n\nProse can be configured per repository with additional metadata in a\nJekyll site's `_config.yml` file or a separate `prose.yml` file. We offer\nProse.io as a hosted service for the latest version, or you can download\nthe source code and host it on your own. For for developer documentation,\nsee [the wiki page on GitHub](https://github.com/prose/prose/wiki).\n\n## Developing\n\nProse is an open source project. We encourage you to contribute and\nhelp us improve this application or adapt it to your needs. For\ninstructions on developing Prose, see the\n[Prose contributing guidelines](https://github.com/prose/prose/blob/gh-pages/CONTRIBUTING.md).\n\n## Getting Help\n\nWe do not offer support for Prose at this time, however if you are a\ncontent editor using Prose, you should contact the developer who gave\nyou access to it. To report technical problems with Prose, please\n[file an issue on GitHub](https://github.com/prose/prose/issues).\n\n## Credits\n\nProse is developed and maintained by\n[Development Seed](http://developmentseed.org), a creative data\nvisualization and mapping team based in Washington, DC.\n"}}},{}],2:[function(e,t){t.exports=[{name:"Basque",code:"eu"},{name:"Bengali",code:"bn"},{name:"Catalan",code:"ca"},{name:"Chinese",code:"zh"},{name:"Chinese (China)",code:"zh-CN"},{name:"Danish",code:"da"},{name:"Dutch",code:"nl"},{name:"English",code:"en"},{name:"French",code:"fr"},{name:"German",code:"de"},{name:"Hebrew (Israel)",code:"he-IL"},{name:"Italian",code:"it"},{name:"Japanese",code:"ja"},{name:"Korean",code:"ko"},{name:"Polish",code:"pl"},{name:"Portuguese (Brazil)",code:"pt-BR"},{name:"Romanian",code:"ro"},{name:"Russian",code:"ru"},{name:"Spanish",code:"es"},{name:"Swedish",code:"sv"},{name:"Turkish",code:"tr"},{name:"Vietnamese",code:"vi"}]},{}],3:[function(e,t){function n(e){try{return JSON.parse(e)}catch(t){}return e}function r(e){return"object"==typeof e&&JSON.stringify?JSON.stringify(e):e}var i={};i.set=function(e,t,n,a,o){var s=escape(e)+"="+escape(r(t));return n&&(n.constructor===Number?s+=";max-age="+n:n.constructor===String?s+=";expires="+n:n.constructor===Date&&(s+=";expires="+n.toUTCString())),s+=";path="+(a?a:"/"),o&&(s+=";domain="+o),document.cookie=s,i},i.setObject=function(e,t,n,r){for(var a in e)i.set(a,e[a],expires,n,r);return i},i.get=function(e){var t=i.getObject();return t[e]},i.getObject=function(){var e,t=document.cookie.split(/;\s?/i),r={};for(var i in t)if("string"==typeof t[i]){if(e=t[i].split("="),e.length<=1)continue;r[unescape(e[0])]=n(unescape(e[1]))}return r},i.unset=function(e){var t=new Date(0);return document.cookie=e+"=; expires="+t.toUTCString(),i},i.clear=function(){var e=i.getObject();for(var t in e)i.unset(t);return object},t.exports=i},{}],4:[function(e){!function(){var n=(e("../translations/locales"),e("../dist/en.js"));window.locale.en=n,window.locale.current("en"),window.app={};var r=e("jquery-browserify"),i=(e("underscore"),e("backbone")),a=e("./router"),o=e("./models/user"),s=e("./views/notification"),l=e("./config"),c=e("./cookie"),u=(e("./config"),e("./status")),h=c.get("lang")?!0:!1;h&&(app.locale=c.get("lang")),app.locale&&"en"!==app.locale&&r.getJSON("./translations/locales/"+app.locale+".json",function(e){window.locale[app.locale]=e,window.locale.current(app.locale)});var d=new o;d.authenticate({success:function(){if("withCredentials"in new XMLHttpRequest){r.ajaxSetup({headers:{Authorization:"oauth"===l.auth?"token "+c.get("oauth-token"):"Basic "+Base64.encode(l.username+":"+l.password)}}),r("#prose").addClass("authenticated");var e=c.get("id");e&&d.set("id",e);var n=c.get("login");n&&d.set("login",n),d.fetch({success:function(e){c.set("id",d.get("id")),c.set("login",d.get("login")),window.router=new a({user:e}),i.history.start()},error:function(){u.githubApi(function(e){var n=new s({message:t("notification.error.github"),options:[{title:t("notification.back"),link:"/"},{title:t("notification.githubStatus",{status:e.status}),link:"//status.github.com",className:e.status}]});r("#prose").html(n.render().el)})}})}else{var o=new s({message:t("main.upgrade.content"),options:[{title:t("main.upgrade.download"),link:"https://www.google.com/intl/en/chrome/browser"}]});r("#prose").html(o.render().el)}},error:function(){window.router=new a,i.history.start()}})}()},{"../dist/en.js":1,"../translations/locales":2,"./router":5,"./models/user":6,"./views/notification":7,"./config":8,"./cookie":3,"./status":9,"jquery-browserify":10,underscore:11,backbone:12}],8:[function(e,t){var n=e("./cookie"),r=e("../oauth.json");t.exports={api:r.api||"https://api.github.com",apiStatus:r.status||"https://status.github.com/api/status.json",site:r.site||"https://github.com",id:r.clientId,url:r.gatekeeperUrl,username:n.get("username"),auth:"oauth"}},{"../oauth.json":13,"./cookie":3}],13:[function(e,t){t.exports={api:"https://api.github.com",site:"https://github.com",clientId:"391161e50357fdfe1f8f",gatekeeperUrl:"https://quiet-wildwood-4596.herokuapp.com"}},{}],11:[function(e,t,n){!function(){(function(){var e=this,r=e._,i={},a=Array.prototype,o=Object.prototype,s=Function.prototype,l=a.push,c=a.slice,u=a.concat,h=o.toString,d=o.hasOwnProperty,f=a.forEach,p=a.map,m=a.reduce,g=a.reduceRight,v=a.filter,y=a.every,b=a.some,w=a.indexOf,x=a.lastIndexOf,k=Array.isArray,S=Object.keys,_=s.bind,C=function(e){return e instanceof C?e:this instanceof C?(this._wrapped=e,void 0):new C(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=C),n._=C):e._=C,C.VERSION="1.4.4";var T=C.each=C.forEach=function(e,t,n){if(null!=e)if(f&&e.forEach===f)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,a=e.length;a>r;r++)if(t.call(n,e[r],r,e)===i)return}else for(var o in e)if(C.has(e,o)&&t.call(n,e[o],o,e)===i)return};C.map=C.collect=function(e,t,n){var r=[];return null==e?r:p&&e.map===p?e.map(t,n):(T(e,function(e,i,a){r[r.length]=t.call(n,e,i,a)}),r)};var E="Reduce of empty array with no initial value";C.reduce=C.foldl=C.inject=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),m&&e.reduce===m)return r&&(t=C.bind(t,r)),i?e.reduce(t,n):e.reduce(t);if(T(e,function(e,a,o){i?n=t.call(r,n,e,a,o):(n=e,i=!0)}),!i)throw new TypeError(E);return n},C.reduceRight=C.foldr=function(e,t,n,r){var i=arguments.length>2;if(null==e&&(e=[]),g&&e.reduceRight===g)return r&&(t=C.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var a=e.length;if(a!==+a){var o=C.keys(e);a=o.length}if(T(e,function(s,l,c){l=o?o[--a]:--a,i?n=t.call(r,n,e[l],l,c):(n=e[l],i=!0)}),!i)throw new TypeError(E);return n},C.find=C.detect=function(e,t,n){var r;return L(e,function(e,i,a){return t.call(n,e,i,a)?(r=e,!0):void 0}),r},C.filter=C.select=function(e,t,n){var r=[];return null==e?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,a){t.call(n,e,i,a)&&(r[r.length]=e)}),r)},C.reject=function(e,t,n){return C.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},C.every=C.all=function(e,t,n){t||(t=C.identity);var r=!0;return null==e?r:y&&e.every===y?e.every(t,n):(T(e,function(e,a,o){return(r=r&&t.call(n,e,a,o))?void 0:i}),!!r)};var L=C.some=C.any=function(e,t,n){t||(t=C.identity);var r=!1;return null==e?r:b&&e.some===b?e.some(t,n):(T(e,function(e,a,o){return r||(r=t.call(n,e,a,o))?i:void 0}),!!r)};C.contains=C.include=function(e,t){return null==e?!1:w&&e.indexOf===w?-1!=e.indexOf(t):L(e,function(e){return e===t})},C.invoke=function(e,t){var n=c.call(arguments,2),r=C.isFunction(t);return C.map(e,function(e){return(r?t:e[t]).apply(e,n)})},C.pluck=function(e,t){return C.map(e,function(e){return e[t]})},C.where=function(e,t,n){return C.isEmpty(t)?n?null:[]:C[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},C.findWhere=function(e,t){return C.where(e,t,!0)},C.max=function(e,t,n){if(!t&&C.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&C.isEmpty(e))return-1/0;var r={computed:-1/0,value:-1/0};return T(e,function(e,i,a){var o=t?t.call(n,e,i,a):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},C.min=function(e,t,n){if(!t&&C.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&C.isEmpty(e))return 1/0;var r={computed:1/0,value:1/0};return T(e,function(e,i,a){var o=t?t.call(n,e,i,a):e;o<r.computed&&(r={value:e,computed:o})}),r.value},C.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=C.random(n++),r[n-1]=r[t],r[t]=e}),r};var A=function(e){return C.isFunction(e)?e:function(t){return t[e]}};C.sortBy=function(e,t,n){var r=A(t);return C.pluck(C.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index<t.index?-1:1}),"value")};var M=function(e,t,n,r){var i={},a=A(t||C.identity);return T(e,function(t,o){var s=a.call(n,t,o,e);r(i,s,t)}),i};C.groupBy=function(e,t,n){return M(e,t,n,function(e,t,n){(C.has(e,t)?e[t]:e[t]=[]).push(n)})},C.countBy=function(e,t,n){return M(e,t,n,function(e,t){C.has(e,t)||(e[t]=0),e[t]++})},C.sortedIndex=function(e,t,n,r){n=null==n?C.identity:A(n);for(var i=n.call(r,t),a=0,o=e.length;o>a;){var s=a+o>>>1;n.call(r,e[s])<i?a=s+1:o=s}return a},C.toArray=function(e){return e?C.isArray(e)?c.call(e):e.length===+e.length?C.map(e,C.identity):C.values(e):[]},C.size=function(e){return null==e?0:e.length===+e.length?e.length:C.keys(e).length},C.first=C.head=C.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:c.call(e,0,t)},C.initial=function(e,t,n){return c.call(e,0,e.length-(null==t||n?1:t))},C.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:c.call(e,Math.max(e.length-t,0))},C.rest=C.tail=C.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},C.compact=function(e){return C.filter(e,C.identity)};var N=function(e,t,n){return T(e,function(e){C.isArray(e)?t?l.apply(n,e):N(e,t,n):n.push(e)}),n};C.flatten=function(e,t){return N(e,t,[])},C.without=function(e){return C.difference(e,c.call(arguments,1))},C.uniq=C.unique=function(e,t,n,r){C.isFunction(t)&&(r=n,n=t,t=!1);var i=n?C.map(e,n,r):e,a=[],o=[];return T(i,function(n,r){(t?r&&o[o.length-1]===n:C.contains(o,n))||(o.push(n),a.push(e[r]))}),a},C.union=function(){return C.uniq(u.apply(a,arguments))},C.intersection=function(e){var t=c.call(arguments,1);return C.filter(C.uniq(e),function(e){return C.every(t,function(t){return C.indexOf(t,e)>=0})})},C.difference=function(e){var t=u.apply(a,c.call(arguments,1));return C.filter(e,function(e){return!C.contains(t,e)})},C.zip=function(){for(var e=c.call(arguments),t=C.max(C.pluck(e,"length")),n=new Array(t),r=0;t>r;r++)n[r]=C.pluck(e,""+r);return n},C.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},C.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=C.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}if(w&&e.indexOf===w)return e.indexOf(t,n);for(;i>r;r++)if(e[r]===t)return r;return-1},C.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=null!=n;if(x&&e.lastIndexOf===x)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=r?n:e.length;i--;)if(e[i]===t)return i;return-1},C.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=0,a=new Array(r);r>i;)a[i++]=e,e+=n;return a},C.bind=function(e,t){if(e.bind===_&&_)return _.apply(e,c.call(arguments,1));var n=c.call(arguments,2);return function(){return e.apply(t,n.concat(c.call(arguments)))}},C.partial=function(e){var t=c.call(arguments,1);return function(){return e.apply(this,t.concat(c.call(arguments)))}},C.bindAll=function(e){var t=c.call(arguments,1);return 0===t.length&&(t=C.functions(e)),T(t,function(t){e[t]=C.bind(e[t],e)}),e},C.memoize=function(e,t){var n={};return t||(t=C.identity),function(){var r=t.apply(this,arguments);return C.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},C.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},C.defer=function(e){return C.delay.apply(C,[e,1].concat(c.call(arguments,1)))},C.throttle=function(e,t){var n,r,i,a,o=0,s=function(){o=new Date,i=null,a=e.apply(n,r)};return function(){var l=new Date,c=t-(l-o);return n=this,r=arguments,0>=c?(clearTimeout(i),i=null,o=l,a=e.apply(n,r)):i||(i=setTimeout(s,c)),a}},C.debounce=function(e,t,n){var r,i;return function(){var a=this,o=arguments,s=function(){r=null,n||(i=e.apply(a,o))},l=n&&!r;return clearTimeout(r),r=setTimeout(s,t),l&&(i=e.apply(a,o)),i}},C.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},C.wrap=function(e,t){return function(){var n=[e];return l.apply(n,arguments),t.apply(this,n)}},C.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},C.after=function(e,t){return 0>=e?t():function(){return--e<1?t.apply(this,arguments):void 0}},C.keys=S||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)C.has(e,n)&&(t[t.length]=n);return t},C.values=function(e){var t=[];for(var n in e)C.has(e,n)&&t.push(e[n]);return t},C.pairs=function(e){var t=[];for(var n in e)C.has(e,n)&&t.push([n,e[n]]);return t},C.invert=function(e){var t={};for(var n in e)C.has(e,n)&&(t[e[n]]=n);return t},C.functions=C.methods=function(e){var t=[];for(var n in e)C.isFunction(e[n])&&t.push(n);return t.sort()},C.extend=function(e){return T(c.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},C.pick=function(e){var t={},n=u.apply(a,c.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},C.omit=function(e){var t={},n=u.apply(a,c.call(arguments,1));for(var r in e)C.contains(n,r)||(t[r]=e[r]);return t},C.defaults=function(e){return T(c.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},C.clone=function(e){return C.isObject(e)?C.isArray(e)?e.slice():C.extend({},e):e},C.tap=function(e,t){return t(e),e};var j=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof C&&(e=e._wrapped),t instanceof C&&(t=t._wrapped);var i=h.call(e);if(i!=h.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var a=n.length;a--;)if(n[a]==e)return r[a]==t;n.push(e),r.push(t);var o=0,s=!0;if("[object Array]"==i){if(o=e.length,s=o==t.length)for(;o--&&(s=j(e[o],t[o],n,r)););}else{var l=e.constructor,c=t.constructor;if(l!==c&&!(C.isFunction(l)&&l instanceof l&&C.isFunction(c)&&c instanceof c))return!1;for(var u in e)if(C.has(e,u)&&(o++,!(s=C.has(t,u)&&j(e[u],t[u],n,r))))break;if(s){for(u in t)if(C.has(t,u)&&!o--)break;s=!o}}return n.pop(),r.pop(),s};C.isEqual=function(e,t){return j(e,t,[],[])},C.isEmpty=function(e){if(null==e)return!0;if(C.isArray(e)||C.isString(e))return 0===e.length;for(var t in e)if(C.has(e,t))return!1;return!0},C.isElement=function(e){return!(!e||1!==e.nodeType)},C.isArray=k||function(e){return"[object Array]"==h.call(e)},C.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){C["is"+e]=function(t){return h.call(t)=="[object "+e+"]"}}),C.isArguments(arguments)||(C.isArguments=function(e){return!(!e||!C.has(e,"callee"))}),"function"!=typeof/./&&(C.isFunction=function(e){return"function"==typeof e}),C.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},C.isNaN=function(e){return C.isNumber(e)&&e!=+e},C.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==h.call(e)},C.isNull=function(e){return null===e},C.isUndefined=function(e){return void 0===e},C.has=function(e,t){return d.call(e,t)},C.noConflict=function(){return e._=r,this},C.identity=function(e){return e},C.times=function(e,t,n){for(var r=Array(e),i=0;e>i;i++)r[i]=t.call(n,i);return r},C.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var D={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};
D.unescape=C.invert(D.escape);var I={escape:new RegExp("["+C.keys(D.escape).join("")+"]","g"),unescape:new RegExp("("+C.keys(D.unescape).join("|")+")","g")};C.each(["escape","unescape"],function(e){C[e]=function(t){return null==t?"":(""+t).replace(I[e],function(t){return D[e][t]})}}),C.result=function(e,t){if(null==e)return null;var n=e[t];return C.isFunction(n)?n.call(e):n},C.mixin=function(e){T(C.functions(e),function(t){var n=C[t]=e[t];C.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),H.call(this,n.apply(C,e))}})};var O=0;C.uniqueId=function(e){var t=++O+"";return e?e+t:t},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(e,t,n){var r;n=C.defaults({},n,C.templateSettings);var i=new RegExp([(n.escape||F).source,(n.interpolate||F).source,(n.evaluate||F).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(i,function(t,n,r,i,s){return o+=e.slice(a,s).replace(q,function(e){return"\\"+P[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),a=s+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(s){throw s.source=o,s}if(t)return r(t,C);var l=function(e){return r.call(this,e,C)};return l.source="function("+(n.variable||"obj")+"){\n"+o+"}",l},C.chain=function(e){return C(e).chain()};var H=function(e){return this._chain?C(e).chain():e};C.mixin(C),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];C.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],H.call(this,n)}}),T(["concat","join","slice"],function(e){var t=a[e];C.prototype[e]=function(){return H.call(this,t.apply(this._wrapped,arguments))}}),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)}()},{}],10:[function(e,t,n){!function(){!function(e,r){"object"==typeof n?t.exports=r():"function"==typeof define&&define.amd?define([],r):e.returnExports=r()}(this,function(){return function(e,t){function n(e){var t=pt[e]={};return Z.each(e.split(tt),function(e,n){t[n]=!0}),t}function r(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(gt,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:mt.test(r)?Z.parseJSON(r):r}catch(a){}Z.data(e,n,r)}else r=t}return r}function i(e){var t;for(t in e)if(("data"!==t||!Z.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function a(){return!1}function o(){return!0}function s(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function l(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function c(e,t,n){if(t=t||0,Z.isFunction(t))return Z.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return Z.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=Z.grep(e,function(e){return 1===e.nodeType});if(Ft.test(t))return Z.filter(t,r,!n);t=Z.filter(t,r)}return Z.grep(e,function(e){return Z.inArray(e,t)>=0===n})}function u(e){var t=Ht.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function h(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function d(e,t){if(1===t.nodeType&&Z.hasData(e)){var n,r,i,a=Z._data(e),o=Z._data(t,a),s=a.events;if(s){delete o.handle,o.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)Z.event.add(t,n,s[n][r])}o.data&&(o.data=Z.extend({},o.data))}}function f(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),Z.support.html5Clone&&e.innerHTML&&!Z.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Yt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(Z.expando))}function p(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function m(e){Yt.test(e.type)&&(e.defaultChecked=e.checked)}function g(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=yn.length;i--;)if(t=yn[i]+n,t in e)return t;return r}function v(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)}function y(e,t){for(var n,r,i=[],a=0,o=e.length;o>a;a++)n=e[a],n.style&&(i[a]=Z._data(n,"olddisplay"),t?(i[a]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&v(n)&&(i[a]=Z._data(n,"olddisplay",k(n.nodeName)))):(r=nn(n,"display"),i[a]||"none"===r||Z._data(n,"olddisplay",r)));for(a=0;o>a;a++)n=e[a],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?i[a]||"":"none"));return e}function b(e,t,n){var r=hn.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function w(e,t,n,r){for(var i=n===(r?"border":"content")?4:"width"===t?1:0,a=0;4>i;i+=2)"margin"===n&&(a+=Z.css(e,n+vn[i],!0)),r?("content"===n&&(a-=parseFloat(nn(e,"padding"+vn[i]))||0),"margin"!==n&&(a-=parseFloat(nn(e,"border"+vn[i]+"Width"))||0)):(a+=parseFloat(nn(e,"padding"+vn[i]))||0,"padding"!==n&&(a+=parseFloat(nn(e,"border"+vn[i]+"Width"))||0));return a}function x(e,t,n){var r="width"===t?e.offsetWidth:e.offsetHeight,i=!0,a=Z.support.boxSizing&&"border-box"===Z.css(e,"boxSizing");if(0>=r||null==r){if(r=nn(e,t),(0>r||null==r)&&(r=e.style[t]),dn.test(r))return r;i=a&&(Z.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+w(e,t,n||(a?"border":"content"),i)+"px"}function k(e){if(pn[e])return pn[e];var t=Z("<"+e+">").appendTo(B.body),n=t.css("display");return t.remove(),("none"===n||""===n)&&(rn=B.body.appendChild(rn||Z.extend(B.createElement("iframe"),{frameBorder:0,width:0,height:0})),an&&rn.createElement||(an=(rn.contentWindow||rn.contentDocument).document,an.write("<!doctype html><html><body>"),an.close()),t=an.body.appendChild(an.createElement(e)),n=nn(t,"display"),B.body.removeChild(rn)),pn[e]=n,n}function S(e,t,n,r){var i;if(Z.isArray(t))Z.each(t,function(t,i){n||xn.test(e)?r(e,i):S(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==Z.type(t))r(e,t);else for(i in t)S(e+"["+i+"]",t[i],n,r)}function _(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i,a,o=t.toLowerCase().split(tt),s=0,l=o.length;if(Z.isFunction(n))for(;l>s;s++)r=o[s],a=/^\+/.test(r),a&&(r=r.substr(1)||"*"),i=e[r]=e[r]||[],i[a?"unshift":"push"](n)}}function C(e,n,r,i,a,o){a=a||n.dataTypes[0],o=o||{},o[a]=!0;for(var s,l=e[a],c=0,u=l?l.length:0,h=e===Pn;u>c&&(h||!s);c++)s=l[c](n,r,i),"string"==typeof s&&(!h||o[s]?s=t:(n.dataTypes.unshift(s),s=C(e,n,r,i,s,o)));return!h&&s||o["*"]||(s=C(e,n,r,i,"*",o)),s}function T(e,n){var r,i,a=Z.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((a[r]?e:i||(i={}))[r]=n[r]);i&&Z.extend(!0,e,i)}function E(e,n,r){var i,a,o,s,l=e.contents,c=e.dataTypes,u=e.responseFields;for(a in u)a in r&&(n[u[a]]=r[a]);for(;"*"===c[0];)c.shift(),i===t&&(i=e.mimeType||n.getResponseHeader("content-type"));if(i)for(a in l)if(l[a]&&l[a].test(i)){c.unshift(a);break}if(c[0]in r)o=c[0];else{for(a in r){if(!c[0]||e.converters[a+" "+c[0]]){o=a;break}s||(s=a)}o=o||s}return o?(o!==c[0]&&c.unshift(o),r[o]):void 0}function L(e,t){var n,r,i,a,o=e.dataTypes.slice(),s=o[0],l={},c=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),o[1])for(n in e.converters)l[n.toLowerCase()]=e.converters[n];for(;i=o[++c];)if("*"!==i){if("*"!==s&&s!==i){if(n=l[s+" "+i]||l["* "+i],!n)for(r in l)if(a=r.split(" "),a[1]===i&&(n=l[s+" "+a[0]]||l["* "+a[0]])){n===!0?n=l[r]:l[r]!==!0&&(i=a[0],o.splice(c--,0,i));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(u){return{state:"parsererror",error:n?u:"No conversion from "+s+" to "+i}}}s=i}return{state:"success",data:t}}function A(){try{return new e.XMLHttpRequest}catch(t){}}function M(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function N(){return setTimeout(function(){Kn=t},0),Kn=Z.now()}function j(e,t){Z.each(t,function(t,n){for(var r=(er[t]||[]).concat(er["*"]),i=0,a=r.length;a>i;i++)if(r[i].call(e,t,n))return})}function D(e,t,n){var r,i=0,a=Qn.length,o=Z.Deferred().always(function(){delete s.elem}),s=function(){for(var t=Kn||N(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),i=0,a=l.tweens.length;a>i;i++)l.tweens[i].run(r);return o.notifyWith(e,[l,r,n]),1>r&&a?n:(o.resolveWith(e,[l]),!1)},l=o.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Kn||N(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Z.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){for(var n=0,r=t?l.tweens.length:0;r>n;n++)l.tweens[n].run(1);return t?o.resolveWith(e,[l,t]):o.rejectWith(e,[l,t]),this}}),c=l.props;for(I(c,l.opts.specialEasing);a>i;i++)if(r=Qn[i].call(l,e,c,l.opts))return r;return j(l,c),Z.isFunction(l.opts.start)&&l.opts.start.call(e,l),Z.fx.timer(Z.extend(s,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function I(e,t){var n,r,i,a,o;for(n in e)if(r=Z.camelCase(n),i=t[r],a=e[n],Z.isArray(a)&&(i=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),o=Z.cssHooks[r],o&&"expand"in o){a=o.expand(a),delete e[r];for(n in a)n in e||(e[n]=a[n],t[n]=i)}else t[r]=i}function O(e,t,n){var r,i,a,o,s,l,c,u,h=this,d=e.style,f={},p=[],m=e.nodeType&&v(e);n.queue||(c=Z._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,u=c.empty.fire,c.empty.fire=function(){c.unqueued||u()}),c.unqueued++,h.always(function(){h.always(function(){c.unqueued--,Z.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===Z.css(e,"display")&&"none"===Z.css(e,"float")&&(Z.support.inlineBlockNeedsLayout&&"inline"!==k(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",Z.support.shrinkWrapBlocks||h.done(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in t)if(a=t[r],Xn.exec(a)){if(delete t[r],a===(m?"hide":"show"))continue;p.push(r)}if(o=p.length)for(s=Z._data(e,"fxshow")||Z._data(e,"fxshow",{}),m?Z(e).show():h.done(function(){Z(e).hide()}),h.done(function(){var t;Z.removeData(e,"fxshow",!0);for(t in f)Z.style(e,t,f[t])}),r=0;o>r;r++)i=p[r],l=h.createTween(i,m?s[i]:0),f[i]=s[i]||Z.style(e,i),i in s||(s[i]=l.start,m&&(l.end=l.start,l.start="width"===i||"height"===i?1:0))}function F(e,t,n,r,i){return new F.prototype.init(e,t,n,r,i)}function P(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=vn[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function q(e){return Z.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var H,z,B=e.document,W=e.location,$=e.navigator,R=e.jQuery,U=e.$,V=Array.prototype.push,G=Array.prototype.slice,K=Array.prototype.indexOf,Y=Object.prototype.toString,X=Object.prototype.hasOwnProperty,J=String.prototype.trim,Z=function(e,t){return new Z.fn.init(e,t,H)},Q=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,et=/\S/,tt=/\s+/,nt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rt=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,it=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^[\],:{}\s]*$/,ot=/(?:^|:|,)(?:\s*\[)+/g,st=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,lt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,ct=/^-ms-/,ut=/-([\da-z])/gi,ht=function(e,t){return(t+"").toUpperCase()},dt=function(){B.addEventListener?(B.removeEventListener("DOMContentLoaded",dt,!1),Z.ready()):"complete"===B.readyState&&(B.detachEvent("onreadystatechange",dt),Z.ready())},ft={};Z.fn=Z.prototype={constructor:Z,init:function(e,n,r){var i,a,o;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:rt.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1])return n=n instanceof Z?n[0]:n,o=n&&n.nodeType?n.ownerDocument||n:B,e=Z.parseHTML(i[1],o,!0),it.test(i[1])&&Z.isPlainObject(n)&&this.attr.call(e,n,!0),Z.merge(this,e);if(a=B.getElementById(i[2]),a&&a.parentNode){if(a.id!==i[2])return r.find(e);this.length=1,this[0]=a}return this.context=B,this.selector=e,this}return Z.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))},selector:"",jquery:"1.8.1",length:0,size:function(){return this.length},toArray:function(){return G.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=Z.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,"find"===t?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return Z.each(this,e,t)},ready:function(e){return Z.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(G.apply(this,arguments),"slice",G.call(arguments).join(","))},map:function(e){return this.pushStack(Z.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:[].sort,splice:[].splice},Z.fn.init.prototype=Z.fn,Z.extend=Z.fn.extend=function(){var e,n,r,i,a,o,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},l=2),"object"==typeof s||Z.isFunction(s)||(s={}),c===l&&(s=this,--l);c>l;l++)if(null!=(e=arguments[l]))for(n in e)r=s[n],i=e[n],s!==i&&(u&&i&&(Z.isPlainObject(i)||(a=Z.isArray(i)))?(a?(a=!1,o=r&&Z.isArray(r)?r:[]):o=r&&Z.isPlainObject(r)?r:{},s[n]=Z.extend(u,o,i)):i!==t&&(s[n]=i));return s},Z.extend({noConflict:function(t){return e.$===Z&&(e.$=U),t&&e.jQuery===Z&&(e.jQuery=R),Z},isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){if(e===!0?!--Z.readyWait:!Z.isReady){if(!B.body)return setTimeout(Z.ready,1);Z.isReady=!0,e!==!0&&--Z.readyWait>0||(z.resolveWith(B,[Z]),Z.fn.trigger&&Z(B).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray||function(e){return"array"===Z.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):ft[Y.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==Z.type(e)||e.nodeType||Z.isWindow(e))return!1;try{if(e.constructor&&!X.call(e,"constructor")&&!X.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||X.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t,t=0),t=t||B,(r=it.exec(e))?[t.createElement(r[1])]:(r=Z.buildFragment([e],t,n?null:[]),Z.merge([],(r.cacheable?Z.clone(r.fragment):r.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=Z.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):at.test(t.replace(st,"@").replace(lt,"]").replace(ot,""))?new Function("return "+t)():(Z.error("Invalid JSON: "+t),void 0)):null},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(a){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||Z.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&et.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ct,"ms-").replace(ut,ht)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,r){var i,a=0,o=e.length,s=o===t||Z.isFunction(e);if(r)if(s){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;o>a&&n.apply(e[a++],r)!==!1;);else if(s){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;o>a&&n.call(e[a],a,e[a++])!==!1;);return e},trim:J&&!J.call("﻿ ")?function(e){return null==e?"":J.call(e)}:function(e){return null==e?"":e.toString().replace(nt,"")},makeArray:function(e,t){var n,r=t||[];return null!=e&&(n=Z.type(e),null==e.length||"string"===n||"function"===n||"regexp"===n||Z.isWindow(e)?V.call(r,e):Z.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(K)return K.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,a=0;if("number"==typeof r)for(;r>a;a++)e[i++]=n[a];else for(;n[a]!==t;)e[i++]=n[a++];return e.length=i,e},grep:function(e,t,n){var r,i=[],a=0,o=e.length;for(n=!!n;o>a;a++)r=!!t(e[a],a),n!==r&&i.push(e[a]);return i},map:function(e,n,r){var i,a,o=[],s=0,l=e.length,c=e instanceof Z||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||Z.isArray(e));if(c)for(;l>s;s++)i=n(e[s],s,r),null!=i&&(o[o.length]=i);else for(a in e)i=n(e[a],a,r),null!=i&&(o[o.length]=i);return o.concat.apply([],o)},guid:1,proxy:function(e,n){var r,i,a;return"string"==typeof n&&(r=e[n],n=e,e=r),Z.isFunction(e)?(i=G.call(arguments,2),a=function(){return e.apply(n,i.concat(G.call(arguments)))},a.guid=e.guid=e.guid||a.guid||Z.guid++,a):t},access:function(e,n,r,i,a,o,s){var l,c=null==r,u=0,h=e.length;if(r&&"object"==typeof r){for(u in r)Z.access(e,n,u,r[u],1,o,i);a=1}else if(i!==t){if(l=s===t&&Z.isFunction(i),c&&(l?(l=n,n=function(e,t,n){return l.call(Z(e),n)}):(n.call(e,i),n=null)),n)for(;h>u;u++)n(e[u],r,l?i.call(e[u],u,n(e[u],r)):i,s);a=1}return a?e:c?n.call(e):h?n(e[0],r):o},now:function(){return(new Date).getTime()}}),Z.ready.promise=function(t){if(!z)if(z=Z.Deferred(),"complete"===B.readyState)setTimeout(Z.ready,1);else if(B.addEventListener)B.addEventListener("DOMContentLoaded",dt,!1),e.addEventListener("load",Z.ready,!1);else{B.attachEvent("onreadystatechange",dt),e.attachEvent("onload",Z.ready);var n=!1;try{n=null==e.frameElement&&B.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!Z.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}Z.ready()}}()}return z.promise(t)},Z.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){ft["[object "+t+"]"]=t.toLowerCase()}),H=Z(B);var pt={};Z.Callbacks=function(e){e="string"==typeof e?pt[e]||n(e):Z.extend({},e);var r,i,a,o,s,l,c=[],u=!e.once&&[],h=function(t){for(r=e.memory&&t,i=!0,l=o||0,o=0,s=c.length,a=!0;c&&s>l;l++)if(c[l].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}a=!1,c&&(u?u.length&&h(u.shift()):r?c=[]:d.disable())},d={add:function(){if(c){var t=c.length;!function n(t){Z.each(t,function(t,r){var i=Z.type(r);"function"!==i||e.unique&&d.has(r)?r&&r.length&&"string"!==i&&n(r):c.push(r)})}(arguments),a?s=c.length:r&&(o=t,h(r))}return this},remove:function(){return c&&Z.each(arguments,function(e,t){for(var n;(n=Z.inArray(t,c,n))>-1;)c.splice(n,1),a&&(s>=n&&s--,l>=n&&l--)}),this},has:function(e){return Z.inArray(e,c)>-1},empty:function(){return c=[],this},disable:function(){return c=u=r=t,this},disabled:function(){return!c},lock:function(){return u=t,r||d.disable(),this},locked:function(){return!u},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!c||i&&!u||(a?u.push(t):h(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(n){Z.each(t,function(t,r){var a=r[0],o=e[t];i[r[1]](Z.isFunction(o)?function(){var e=o.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===i?n:this,[e])}:n[a])}),e=null}).promise()},promise:function(e){return"object"==typeof e?Z.extend(e,r):r}},i={};return r.pipe=r.then,Z.each(t,function(e,a){var o=a[2],s=a[3];r[a[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[a[0]]=o.fire,i[a[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,a=G.call(arguments),o=a.length,s=1!==o||e&&Z.isFunction(e.promise)?o:0,l=1===s?e:Z.Deferred(),c=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?G.call(arguments):i,r===t?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(o>1)for(t=new Array(o),n=new Array(o),r=new Array(o);o>i;i++)a[i]&&Z.isFunction(a[i].promise)?a[i].promise().done(c(i,r,a)).fail(l.reject).progress(c(i,n,t)):--s;return s||l.resolveWith(r,a),l.promise()}}),Z.support=function(){var t,n,r,i,a,o,s,l,c,u,h,d=B.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),r=d.getElementsByTagName("a")[0],r.style.cssText="top:1px;float:left;opacity:.5",!n||!n.length||!r)return{};i=B.createElement("select"),a=i.appendChild(B.createElement("option")),o=d.getElementsByTagName("input")[0],t={leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:"on"===o.value,optSelected:a.selected,getSetAttribute:"t"!==d.className,enctype:!!B.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==B.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===B.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,i.disabled=!0,t.optDisabled=!a.disabled;try{delete d.test}catch(f){t.deleteExpando=!1}if(!d.addEventListener&&d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",h=function(){t.noCloneEvent=!1}),d.cloneNode(!0).fireEvent("onclick"),d.detachEvent("onclick",h)),o=B.createElement("input"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","checked"),o.setAttribute("name","t"),d.appendChild(o),s=B.createDocumentFragment(),s.appendChild(d.lastChild),t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=o.checked,s.removeChild(o),s.appendChild(d),d.attachEvent)for(c in{submit:!0,change:!0,focusin:!0})l="on"+c,u=l in d,u||(d.setAttribute(l,"return;"),u="function"==typeof d[l]),t[c+"Bubbles"]=u;return Z(function(){var n,r,i,a,o="padding:0;margin:0;border:0;display:block;overflow:hidden;",s=B.getElementsByTagName("body")[0];s&&(n=B.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",s.insertBefore(n,s.firstChild),r=B.createElement("div"),n.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=r.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=u&&0===i[0].offsetHeight,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===r.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(r,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(r,null)||{width:"4px"}).width,a=B.createElement("div"),a.style.cssText=r.style.cssText=o,a.style.marginRight=a.style.width="0",r.style.width="1px",r.appendChild(a),t.reliableMarginRight=!parseFloat((e.getComputedStyle(a,null)||{}).marginRight)),"undefined"!=typeof r.style.zoom&&(r.innerHTML="",r.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===r.offsetWidth,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==r.offsetWidth,n.style.zoom=1),s.removeChild(n),n=r=i=a=null)}),s.removeChild(d),n=r=i=a=o=s=d=null,t}();var mt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,gt=/([A-Z])/g;Z.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(Z.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?Z.cache[e[Z.expando]]:e[Z.expando],!!e&&!i(e)},data:function(e,n,r,i){if(Z.acceptData(e)){var a,o,s=Z.expando,l="string"==typeof n,c=e.nodeType,u=c?Z.cache:e,h=c?e[s]:e[s]&&s;if(h&&u[h]&&(i||u[h].data)||!l||r!==t)return h||(c?e[s]=h=Z.deletedIds.pop()||++Z.uuid:h=s),u[h]||(u[h]={},c||(u[h].toJSON=Z.noop)),("object"==typeof n||"function"==typeof n)&&(i?u[h]=Z.extend(u[h],n):u[h].data=Z.extend(u[h].data,n)),a=u[h],i||(a.data||(a.data={}),a=a.data),r!==t&&(a[Z.camelCase(n)]=r),l?(o=a[n],null==o&&(o=a[Z.camelCase(n)])):o=a,o}},removeData:function(e,t,n){if(Z.acceptData(e)){var r,a,o,s=e.nodeType,l=s?Z.cache:e,c=s?e[Z.expando]:Z.expando;if(l[c]){if(t&&(r=n?l[c]:l[c].data)){Z.isArray(t)||(t in r?t=[t]:(t=Z.camelCase(t),t=t in r?[t]:t.split(" ")));for(a=0,o=t.length;o>a;a++)delete r[t[a]];if(!(n?i:Z.isEmptyObject)(r))return}(n||(delete l[c].data,i(l[c])))&&(s?Z.cleanData([e],!0):Z.support.deleteExpando||l!=l.window?delete l[c]:l[c]=null)}}},_data:function(e,t,n){return Z.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&Z.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),Z.fn.extend({data:function(e,n){var i,a,o,s,l,c=this[0],u=0,h=null;if(e===t){if(this.length&&(h=Z.data(c),1===c.nodeType&&!Z._data(c,"parsedAttrs"))){for(o=c.attributes,l=o.length;l>u;u++)s=o[u].name,0===s.indexOf("data-")&&(s=Z.camelCase(s.substring(5)),r(c,s,h[s]));Z._data(c,"parsedAttrs",!0)}return h}return"object"==typeof e?this.each(function(){Z.data(this,e)}):(i=e.split(".",2),i[1]=i[1]?"."+i[1]:"",a=i[1]+"!",Z.access(this,function(n){return n===t?(h=this.triggerHandler("getData"+a,[i[0]]),h===t&&c&&(h=Z.data(c,e),h=r(c,e,h)),h===t&&i[1]?this.data(i[0]):h):(i[1]=n,this.each(function(){var t=Z(this);t.triggerHandler("setData"+a,i),Z.data(this,e,n),t.triggerHandler("changeData"+a,i)}),void 0)},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){Z.removeData(this,e)})}}),Z.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=Z._data(e,t),n&&(!r||Z.isArray(n)?r=Z._data(e,t,Z.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Z.queue(e,t),r=n.length,i=n.shift(),a=Z._queueHooks(e,t),o=function(){Z.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete a.stop,i.call(e,o,a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z._data(e,n)||Z._data(e,n,{empty:Z.Callbacks("once memory").add(function(){Z.removeData(e,t+"queue",!0),Z.removeData(e,n,!0)})})}}),Z.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?Z.queue(this[0],e):n===t?this:this.each(function(){var t=Z.queue(this,e,n);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},delay:function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,a=Z.Deferred(),o=this,s=this.length,l=function(){--i||a.resolveWith(o,[o])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)r=Z._data(o[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(l));return l(),a.promise(n)}});var vt,yt,bt,wt=/[\t\r\n]/g,xt=/\r/g,kt=/^(?:button|input)$/i,St=/^(?:button|input|object|select|textarea)$/i,_t=/^a(?:rea|)$/i,Ct=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Tt=Z.support.getSetAttribute;Z.fn.extend({attr:function(e,t){return Z.access(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})},prop:function(e,t){return Z.access(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return e=Z.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,a,o,s;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(tt),n=0,r=this.length;r>n;n++)if(i=this[n],1===i.nodeType)if(i.className||1!==t.length){for(a=" "+i.className+" ",o=0,s=t.length;s>o;o++)~a.indexOf(" "+t[o]+" ")||(a+=t[o]+" ");i.className=Z.trim(a)}else i.className=e;return this},removeClass:function(e){var n,r,i,a,o,s,l;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(tt),s=0,l=this.length;l>s;s++)if(i=this[s],1===i.nodeType&&i.className){for(r=(" "+i.className+" ").replace(wt," "),a=0,o=n.length;o>a;a++)for(;r.indexOf(" "+n[a]+" ")>-1;)r=r.replace(" "+n[a]+" "," ");i.className=e?Z.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return Z.isFunction(e)?this.each(function(n){Z(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var i,a=0,o=Z(this),s=t,l=e.split(tt);i=l[a++];)s=r?s:!o.hasClass(i),o[s?"addClass":"removeClass"](i);else("undefined"===n||"boolean"===n)&&(this.className&&Z._data(this,"__className__",this.className),this.className=this.className||e===!1?"":Z._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(wt," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,r,i,a=this[0];{if(arguments.length)return i=Z.isFunction(e),this.each(function(r){var a,o=Z(this);1===this.nodeType&&(a=i?e.call(this,r,o.val()):e,null==a?a="":"number"==typeof a?a+="":Z.isArray(a)&&(a=Z.map(a,function(e){return null==e?"":e+""})),n=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,a,"value")!==t||(this.value=a))});if(a)return n=Z.valHooks[a.type]||Z.valHooks[a.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(a,"value"))!==t?r:(r=a.value,"string"==typeof r?r.replace(xt,""):null==r?"":r)}}}),Z.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,a=e.selectedIndex,o=[],s=e.options,l="select-one"===e.type;if(0>a)return null;for(n=l?a:0,r=l?a+1:s.length;r>n;n++)if(i=s[n],!(!i.selected||(Z.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&Z.nodeName(i.parentNode,"optgroup"))){if(t=Z(i).val(),l)return t;o.push(t)}return l&&!o.length&&s.length?Z(s[a]).val():o},set:function(e,t){var n=Z.makeArray(t);return Z(e).find("option").each(function(){this.selected=Z.inArray(Z(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n
}}},attrFn:{},attr:function(e,n,r,i){var a,o,s,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return i&&Z.isFunction(Z.fn[n])?Z(e)[n](r):"undefined"==typeof e.getAttribute?Z.prop(e,n,r):(s=1!==l||!Z.isXMLDoc(e),s&&(n=n.toLowerCase(),o=Z.attrHooks[n]||(Ct.test(n)?yt:vt)),r!==t?null===r?(Z.removeAttr(e,n),void 0):o&&"set"in o&&s&&(a=o.set(e,r,n))!==t?a:(e.setAttribute(n,""+r),r):o&&"get"in o&&s&&null!==(a=o.get(e,n))?a:(a=e.getAttribute(n),null===a?t:a))},removeAttr:function(e,t){var n,r,i,a,o=0;if(t&&1===e.nodeType)for(r=t.split(tt);o<r.length;o++)i=r[o],i&&(n=Z.propFix[i]||i,a=Ct.test(i),a||Z.attr(e,i,""),e.removeAttribute(Tt?i:n),a&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(kt.test(e.nodeName)&&e.parentNode)Z.error("type property can't be changed");else if(!Z.support.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return vt&&Z.nodeName(e,"button")?vt.get(e,t):t in e?e.value:null},set:function(e,t,n){return vt&&Z.nodeName(e,"button")?vt.set(e,t,n):(e.value=t,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,a,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!Z.isXMLDoc(e),o&&(n=Z.propFix[n]||n,a=Z.propHooks[n]),r!==t?a&&"set"in a&&(i=a.set(e,r,n))!==t?i:e[n]=r:a&&"get"in a&&null!==(i=a.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):St.test(e.nodeName)||_t.test(e.nodeName)&&e.href?0:t}}}}),yt={get:function(e,n){var r,i=Z.prop(e,n);return i===!0||"boolean"!=typeof i&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?Z.removeAttr(e,n):(r=Z.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},Tt||(bt={name:!0,id:!0,coords:!0},vt=Z.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(bt[n]?""!==r.value:r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=B.createAttribute(n),e.setAttributeNode(r)),r.value=t+""}},Z.each(["width","height"],function(e,t){Z.attrHooks[t]=Z.extend(Z.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),Z.attrHooks.contenteditable={get:vt.get,set:function(e,t,n){""===t&&(t="false"),vt.set(e,t,n)}}),Z.support.hrefNormalized||Z.each(["href","src","width","height"],function(e,n){Z.attrHooks[n]=Z.extend(Z.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null===r?t:r}})}),Z.support.style||(Z.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),Z.support.optSelected||(Z.propHooks.selected=Z.extend(Z.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),Z.support.enctype||(Z.propFix.enctype="encoding"),Z.support.checkOn||Z.each(["radio","checkbox"],function(){Z.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]=Z.extend(Z.valHooks[this],{set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}})});var Et=/^(?:textarea|input|select)$/i,Lt=/^([^\.]*|)(?:\.(.+)|)$/,At=/(?:^|\s)hover(\.\S+|)\b/,Mt=/^key/,Nt=/^(?:mouse|contextmenu)|click/,jt=/^(?:focusinfocus|focusoutblur)$/,Dt=function(e){return Z.event.special.hover?e:e.replace(At,"mouseenter$1 mouseleave$1")};Z.event={add:function(e,n,r,i,a){var o,s,l,c,u,h,d,f,p,m,g;if(3!==e.nodeType&&8!==e.nodeType&&n&&r&&(o=Z._data(e))){for(r.handler&&(p=r,r=p.handler,a=p.selector),r.guid||(r.guid=Z.guid++),l=o.events,l||(o.events=l={}),s=o.handle,s||(o.handle=s=function(e){return"undefined"==typeof Z||e&&Z.event.triggered===e.type?t:Z.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=Z.trim(Dt(n)).split(" "),c=0;c<n.length;c++)u=Lt.exec(n[c])||[],h=u[1],d=(u[2]||"").split(".").sort(),g=Z.event.special[h]||{},h=(a?g.delegateType:g.bindType)||h,g=Z.event.special[h]||{},f=Z.extend({type:h,origType:u[1],data:i,handler:r,guid:r.guid,selector:a,namespace:d.join(".")},p),m=l[h],m||(m=l[h]=[],m.delegateCount=0,g.setup&&g.setup.call(e,i,d,s)!==!1||(e.addEventListener?e.addEventListener(h,s,!1):e.attachEvent&&e.attachEvent("on"+h,s))),g.add&&(g.add.call(e,f),f.handler.guid||(f.handler.guid=r.guid)),a?m.splice(m.delegateCount++,0,f):m.push(f),Z.event.global[h]=!0;e=null}},global:{},remove:function(e,t,n,r,i){var a,o,s,l,c,u,h,d,f,p,m,g=Z.hasData(e)&&Z._data(e);if(g&&(d=g.events)){for(t=Z.trim(Dt(t||"")).split(" "),a=0;a<t.length;a++)if(o=Lt.exec(t[a])||[],s=l=o[1],c=o[2],s){for(f=Z.event.special[s]||{},s=(r?f.delegateType:f.bindType)||s,p=d[s]||[],u=p.length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=0;h<p.length;h++)m=p[h],!i&&l!==m.origType||n&&n.guid!==m.guid||c&&!c.test(m.namespace)||r&&r!==m.selector&&("**"!==r||!m.selector)||(p.splice(h--,1),m.selector&&p.delegateCount--,f.remove&&f.remove.call(e,m));0===p.length&&u!==p.length&&(f.teardown&&f.teardown.call(e,c,g.handle)!==!1||Z.removeEvent(e,s,g.handle),delete d[s])}else for(s in d)Z.event.remove(e,s+t[a],n,r,!0);Z.isEmptyObject(d)&&(delete g.handle,Z.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,i,a){if(!i||3!==i.nodeType&&8!==i.nodeType){var o,s,l,c,u,h,d,f,p,m,g=n.type||n,v=[];if(!jt.test(g+Z.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),s=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),i&&!Z.event.customEvent[g]||Z.event.global[g]))if(n="object"==typeof n?n[Z.expando]?n:new Z.Event(g,n):new Z.Event(g),n.type=g,n.isTrigger=!0,n.exclusive=s,n.namespace=v.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=g.indexOf(":")<0?"on"+g:"",i){if(n.result=t,n.target||(n.target=i),r=null!=r?Z.makeArray(r):[],r.unshift(n),d=Z.event.special[g]||{},!d.trigger||d.trigger.apply(i,r)!==!1){if(p=[[i,d.bindType||g]],!a&&!d.noBubble&&!Z.isWindow(i)){for(m=d.delegateType||g,c=jt.test(m+g)?i:i.parentNode,u=i;c;c=c.parentNode)p.push([c,m]),u=c;u===(i.ownerDocument||B)&&p.push([u.defaultView||u.parentWindow||e,m])}for(l=0;l<p.length&&!n.isPropagationStopped();l++)c=p[l][0],n.type=p[l][1],f=(Z._data(c,"events")||{})[n.type]&&Z._data(c,"handle"),f&&f.apply(c,r),f=h&&c[h],f&&Z.acceptData(c)&&f.apply(c,r)===!1&&n.preventDefault();return n.type=g,a||n.isDefaultPrevented()||d._default&&d._default.apply(i.ownerDocument,r)!==!1||"click"===g&&Z.nodeName(i,"a")||!Z.acceptData(i)||h&&i[g]&&("focus"!==g&&"blur"!==g||0!==n.target.offsetWidth)&&!Z.isWindow(i)&&(u=i[h],u&&(i[h]=null),Z.event.triggered=g,i[g](),Z.event.triggered=t,u&&(i[h]=u)),n.result}}else{o=Z.cache;for(l in o)o[l].events&&o[l].events[g]&&Z.event.trigger(n,r,o[l].handle.elem,!0)}}},dispatch:function(n){n=Z.event.fix(n||e.event);var r,i,a,o,s,l,c,u,h,d=(Z._data(this,"events")||{})[n.type]||[],f=d.delegateCount,p=[].slice.call(arguments),m=!n.exclusive&&!n.namespace,g=Z.event.special[n.type]||{},v=[];if(p[0]=n,n.delegateTarget=this,!g.preDispatch||g.preDispatch.call(this,n)!==!1){if(f&&(!n.button||"click"!==n.type))for(a=n.target;a!=this;a=a.parentNode||this)if(a.disabled!==!0||"click"!==n.type){for(s={},c=[],r=0;f>r;r++)u=d[r],h=u.selector,s[h]===t&&(s[h]=Z(h,this).index(a)>=0),s[h]&&c.push(u);c.length&&v.push({elem:a,matches:c})}for(d.length>f&&v.push({elem:this,matches:d.slice(f)}),r=0;r<v.length&&!n.isPropagationStopped();r++)for(l=v[r],n.currentTarget=l.elem,i=0;i<l.matches.length&&!n.isImmediatePropagationStopped();i++)u=l.matches[i],(m||!n.namespace&&!u.namespace||n.namespace_re&&n.namespace_re.test(u.namespace))&&(n.data=u.data,n.handleObj=u,o=((Z.event.special[u.origType]||{}).handle||u.handler).apply(l.elem,p),o!==t&&(n.result=o,o===!1&&(n.preventDefault(),n.stopPropagation())));return g.postDispatch&&g.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,a,o=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||B,i=r.documentElement,a=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||o===t||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,n,r=e,i=Z.event.fixHooks[e.type]||{},a=i.props?this.props.concat(i.props):this.props;for(e=Z.Event(r),t=a.length;t;)n=a[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||B),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,i.filter?i.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){Z.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=Z.extend(new Z.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?Z.event.trigger(i,null,t):Z.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},Z.event.handle=Z.event.dispatch,Z.removeEvent=B.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&("undefined"==typeof e[r]&&(e[r]=null),e.detachEvent(r,n))},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?o:a):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),this[Z.expando]=!0,void 0):new Z.Event(e,t)},Z.Event.prototype={preventDefault:function(){this.isDefaultPrevented=o;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=o;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()},isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a},Z.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){{var n,r=this,i=e.relatedTarget,a=e.handleObj;a.selector}return(!i||i!==r&&!Z.contains(r,i))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),Z.support.submitBubbles||(Z.event.special.submit={setup:function(){return Z.nodeName(this,"form")?!1:(Z.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=Z.nodeName(n,"input")||Z.nodeName(n,"button")?n.form:t;r&&!Z._data(r,"_submit_attached")&&(Z.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),Z._data(r,"_submit_attached",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&Z.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return Z.nodeName(this,"form")?!1:(Z.event.remove(this,"._submit"),void 0)}}),Z.support.changeBubbles||(Z.event.special.change={setup:function(){return Et.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(Z.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),Z.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),Z.event.simulate("change",this,e,!0)})),!1):(Z.event.add(this,"beforeactivate._change",function(e){var t=e.target;Et.test(t.nodeName)&&!Z._data(t,"_change_attached")&&(Z.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||Z.event.simulate("change",this.parentNode,e,!0)}),Z._data(t,"_change_attached",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return Z.event.remove(this,"._change"),!Et.test(this.nodeName)}}),Z.support.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){0===n++&&B.addEventListener(e,r,!0)},teardown:function(){0===--n&&B.removeEventListener(e,r,!0)}}}),Z.fn.extend({on:function(e,n,r,i,o){var s,l;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(l in e)this.on(l,n,r,e[l],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=a;else if(!i)return this;return 1===o&&(s=i,i=function(e){return Z().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,Z(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=a),this.each(function(){Z.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return Z(this.context).on(e,this.selector,t,n),this},die:function(e,t){return Z(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1==arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?Z.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||Z.guid++,r=0,i=function(n){var i=(Z._data(this,"lastToggle"+e.guid)||0)%r;return Z._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};for(i.guid=n;r<t.length;)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Mt.test(t)&&(Z.event.fixHooks[t]=Z.event.keyHooks),Nt.test(t)&&(Z.event.fixHooks[t]=Z.event.mouseHooks)}),function(e,t){function n(e,t,n,r){n=n||[],t=t||L;var i,a,o,s,l=t.nodeType;if(1!==l&&9!==l)return[];if(!e||"string"!=typeof e)return n;if(o=w(t),!o&&!r&&(i=Y.exec(e)))if(s=i[1]){if(9===l){if(a=t.getElementById(s),!a||!a.parentNode)return n;if(a.id===s)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(s))&&x(t,a)&&a.id===s)return n.push(a),n}else{if(i[2])return j.apply(n,N.call(t.getElementsByTagName(e),0)),n;if((s=i[3])&&st&&t.getElementsByClassName)return j.apply(n,N.call(t.getElementsByClassName(s),0)),n}return p(e,t,n,r,o)}function r(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function i(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function a(e,t,n){if(e===t)return n;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}function o(e,t,r,i){var a,o,s,l,c,u,h,d,f,p,m=!r&&t!==L,g=(m?"<s>":"")+e.replace(U,"$1<s>"),v=F[E][g];if(v)return i?0:N.call(v,0);for(c=e,u=[],d=0,f=y.preFilter,p=y.filter;c;){(!a||(o=V.exec(c)))&&(o&&(c=c.slice(o[0].length),s.selector=h),u.push(s=[]),h="",m&&(c=" "+c)),a=!1,(o=G.exec(c))&&(h+=o[0],c=c.slice(o[0].length),a=s.push({part:o.pop().replace(U," "),string:o[0],captures:o}));for(l in p)!(o=nt[l].exec(c))||f[l]&&!(o=f[l](o,t,r))||(h+=o[0],c=c.slice(o[0].length),a=s.push({part:l,string:o.shift(),captures:o}));if(!a)break}return h&&(s.selector=h),i?c.length:c?n.error(e):N.call(F(g,u),0)}function s(e,t,n,r){var i=t.dir,a=M++;return e||(e=function(e){return e===n}),t.first?function(t){for(;t=t[i];)if(1===t.nodeType)return e(t)&&t}:r?function(t){for(;t=t[i];)if(1===t.nodeType&&e(t))return t}:function(t){for(var n,r=a+"."+m,o=r+"."+g;t=t[i];)if(1===t.nodeType){if((n=t[E])===o)return t.sizset;if("string"==typeof n&&0===n.indexOf(r)){if(t.sizset)return t}else{if(t[E]=o,e(t))return t.sizset=!0,t;t.sizset=!1}}}}function l(e,t){return e?function(n){var r=t(n);return r&&e(r===!0?n:r)}:t}function c(e,t,n){for(var r,i,a=0;r=e[a];a++)i=y.relative[r.part]?s(i,y.relative[r.part],t,n):l(i,y.filter[r.part].apply(null,r.captures.concat(t,n)));return i}function u(e){return function(t){for(var n,r=0;n=e[r];r++)if(n(t))return!0;return!1}}function h(e,t,r,i){for(var a=0,o=t.length;o>a;a++)n(e,t[a],r,i)}function d(e,t,r,i,a,o){var s,l=y.setFilters[t.toLowerCase()];return l||n.error(t),(e||!(s=a))&&h(e||"*",i,s=[],a),s.length>0?l(s,r,o):[]}function f(e,r,i,a){for(var o,s,l,c,u,f,p,m,g,v,y,b,w,x=0,k=e.length,S=nt.POS,_=new RegExp("^"+S.source+"(?!"+q+")","i"),C=function(){for(var e=1,n=arguments.length-2;n>e;e++)arguments[e]===t&&(g[e]=t)};k>x;x++){for(o=e[x],s="",m=a,l=0,c=o.length;c>l;l++){if(u=o[l],f=u.string,"PSEUDO"===u.part)for(S.exec(""),p=0;g=S.exec(f);)v=!0,y=S.lastIndex=g.index+g[0].length,y>p&&(s+=f.slice(p,g.index),p=y,b=[r],G.test(s)&&(m&&(b=m),m=a),(w=J.test(s))&&(s=s.slice(0,-5).replace(G,"$&*"),p++),g.length>1&&g[0].replace(_,C),m=d(s,g[1],g[2],b,m,w)),s="";v||(s+=f),v=!1}s?G.test(s)?h(s,m||[r],i,a):n(s,r,i,a?a.concat(m):m):j.apply(i,m)}return 1===k?i:n.uniqueSort(i)}function p(e,t,n,r,i){e=e.replace(U,"$1");var a,s,l,c,u,h,d,p,v,b=o(e,t,i),w=t.nodeType;if(nt.POS.test(e))return f(b,t,n,r);if(r)a=N.call(r,0);else if(1===b.length){if((u=N.call(b[0],0)).length>2&&"ID"===(h=u[0]).part&&9===w&&!i&&y.relative[u[1].part]){if(t=y.find.ID(h.captures[0].replace(tt,""),t,i)[0],!t)return n;e=e.slice(u.shift().string.length)}for(p=(b=X.exec(u[0].string))&&!b.index&&t.parentNode||t,d="",c=u.length-1;c>=0&&(h=u[c],v=h.part,d=h.string+d,!y.relative[v]);c--)if(y.order.test(v)){if(a=y.find[v](h.captures[0].replace(tt,""),p,i),null==a)continue;e=e.slice(0,e.length-d.length)+d.replace(nt[v],""),e||j.apply(n,N.call(a,0));break}}if(e)for(s=k(e,t,i),m=s.dirruns++,null==a&&(a=y.find.TAG("*",X.test(e)&&t.parentNode||t)),c=0;l=a[c];c++)g=s.runs++,s(l)&&n.push(l);return n}var m,g,v,y,b,w,x,k,S,_,C=!0,T="undefined",E=("sizcache"+Math.random()).replace(".",""),L=e.document,A=L.documentElement,M=0,N=[].slice,j=[].push,D=function(e,t){return e[E]=t||!0,e},I=function(){var e={},t=[];return D(function(n,r){return t.push(n)>y.cacheLength&&delete e[t.shift()],e[n]=r},e)},O=I(),F=I(),P=I(),q="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",z=H.replace("w","w#"),B="([*^$|!~]?=)",W="\\["+q+"*("+H+")"+q+"*(?:"+B+q+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+z+")|)|)"+q+"*\\]",$=":("+H+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+W+")|[^:]|\\\\.)*|.*))\\)|)",R=":(nth|eq|gt|lt|first|last|even|odd)(?:\\(((?:-\\d)?\\d*)\\)|)(?=[^-]|$)",U=new RegExp("^"+q+"+|((?:^|[^\\\\])(?:\\\\.)*)"+q+"+$","g"),V=new RegExp("^"+q+"*,"+q+"*"),G=new RegExp("^"+q+"*([\\x20\\t\\r\\n\\f>+~])"+q+"*"),K=new RegExp($),Y=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,X=/[\x20\t\r\n\f]*[+~]/,J=/:not\($/,Q=/h\d/i,et=/input|select|textarea|button/i,tt=/\\(?!\\)/g,nt={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),NAME:new RegExp("^\\[name=['\"]?("+H+")['\"]?\\]"),TAG:new RegExp("^("+H.replace("w","w*")+")"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+$),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+q+"*(even|odd|(([+-]|)(\\d*)n|)"+q+"*(?:([+-]|)"+q+"*(\\d+)|))"+q+"*\\)|)","i"),POS:new RegExp(R,"ig"),needsContext:new RegExp("^"+q+"*[>+~]|"+R,"i")},rt=function(e){var t=L.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},it=rt(function(e){return e.appendChild(L.createComment("")),!e.getElementsByTagName("*").length}),at=rt(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==T&&"#"===e.firstChild.getAttribute("href")}),ot=rt(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),st=rt(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),lt=rt(function(e){e.id=E+0,e.innerHTML="<a name='"+E+"'></a><div name='"+E+"'></div>",A.insertBefore(e,A.firstChild);var t=L.getElementsByName&&L.getElementsByName(E).length===2+L.getElementsByName(E+0).length;return v=!L.getElementById(E),A.removeChild(e),t});try{N.call(A.childNodes,0)[0].nodeType}catch(ct){N=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},b=n.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=b(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=b(t);return n},w=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},x=n.contains=A.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&1===r.nodeType&&n.contains&&n.contains(r))}:A.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},n.attr=function(e,t){var n,r=w(e);return r||(t=t.toLowerCase()),y.attrHandle[t]?y.attrHandle[t](e):ot||r?e.getAttribute(t):(n=e.getAttributeNode(t),n?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null)},y=n.selectors={cacheLength:50,createPseudo:D,match:nt,order:new RegExp("ID|TAG"+(lt?"|NAME":"")+(st?"|CLASS":"")),attrHandle:at?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:v?function(e,t,n){if(typeof t.getElementById!==T&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==T&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==T&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:it?function(e,t){return typeof t.getElementsByTagName!==T?t.getElementsByTagName(e):void 0}:function(e,t){var n=t.getElementsByTagName(e);if("*"===e){for(var r,i=[],a=0;r=n[a];a++)1===r.nodeType&&i.push(r);return i}return n},NAME:function(e,t){return typeof t.getElementsByName!==T?t.getElementsByName(name):void 0},CLASS:function(e,t,n){return typeof t.getElementsByClassName===T||n?void 0:t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(tt,""),e[3]=(e[4]||e[5]||"").replace(tt,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&n.error(e[0]),e},PSEUDO:function(e,t,n){var r,i;return nt.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(r=e[4])&&(K.test(r)&&(i=o(r,t,n,!0))&&(i=r.indexOf(")",r.length-i)-r.length)&&(r=r.slice(0,i),e[0]=e[0].slice(0,i)),e[2]=r),e.slice(0,3))}},filter:{ID:v?function(e){return e=e.replace(tt,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(tt,""),function(t){var n=typeof t.getAttributeNode!==T&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(tt,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=O[E][e];return t||(t=O(e,new RegExp("(^|"+q+")"+e+"("+q+"|$)"))),function(e){return t.test(e.className||typeof e.getAttribute!==T&&e.getAttribute("class")||"")}},ATTR:function(e,t,r){return t?function(i){var a=n.attr(i,e),o=a+"";if(null==a)return"!="===t;switch(t){case"=":return o===r;case"!=":return o!==r;case"^=":return r&&0===o.indexOf(r);case"*=":return r&&o.indexOf(r)>-1;case"$=":return r&&o.substr(o.length-r.length)===r;case"~=":return(" "+o+" ").indexOf(r)>-1;case"|=":return o===r||o.substr(0,r.length+1)===r+"-"}}:function(t){return null!=n.attr(t,e)}},CHILD:function(e,t,n,r){if("nth"===e){var i=M++;return function(e){var t,a,o=0,s=e;if(1===n&&0===r)return!0;if(t=e.parentNode,t&&(t[E]!==i||!e.sizset)){for(s=t.firstChild;s&&(1!==s.nodeType||(s.sizset=++o,s!==e));s=s.nextSibling);t[E]=i}return a=e.sizset-r,0===n?0===a:a%n===0&&a/n>=0}}return function(t){var n=t;switch(e){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===e)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(e,t,r,i){var a,o=y.pseudos[e]||y.pseudos[e.toLowerCase()];return o||n.error("unsupported pseudo: "+e),o[E]?o(t,r,i):o.length>1?(a=[e,e,"",t],function(e){return o(e,0,a)}):o}},pseudos:{not:D(function(e,t,n){var r=k(e.replace(U,"$1"),t,n);return function(e){return!r(e)}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!y.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},contains:D(function(e){return function(t){return(t.textContent||t.innerText||b(t)).indexOf(e)>-1}}),has:D(function(e){return function(t){return n(e,t).length>0}}),header:function(e){return Q.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:r("radio"),checkbox:r("checkbox"),file:r("file"),password:r("password"),image:r("image"),submit:i("submit"),reset:i("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return et.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return!(e!==t.activeElement||t.hasFocus&&!t.hasFocus()||!e.type&&!e.href)},active:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t,n){return n?e.slice(1):[e[0]]},last:function(e,t,n){var r=e.pop();return n?e:[r]},even:function(e,t,n){for(var r=[],i=n?1:0,a=e.length;a>i;i+=2)r.push(e[i]);return r},odd:function(e,t,n){for(var r=[],i=n?0:1,a=e.length;a>i;i+=2)r.push(e[i]);return r},lt:function(e,t,n){return n?e.slice(+t):e.slice(0,+t)},gt:function(e,t,n){return n?e.slice(0,+t+1):e.slice(+t+1)},eq:function(e,t,n){var r=e.splice(+t,1);return n?e:r}}},S=A.compareDocumentPosition?function(e,t){return e===t?(_=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return _=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],o=[],s=e.parentNode,l=t.parentNode,c=s;if(s===l)return a(e,t);if(!s)return-1;if(!l)return 1;for(;c;)i.unshift(c),c=c.parentNode;for(c=l;c;)o.unshift(c),c=c.parentNode;n=i.length,r=o.length;for(var u=0;n>u&&r>u;u++)if(i[u]!==o[u])return a(i[u],o[u]);return u===n?a(e,o[u],-1):a(i[u],t,1)},[0,0].sort(S),C=!_,n.uniqueSort=function(e){var t,n=1;if(_=C,e.sort(S),_)for(;t=e[n];n++)t===e[n-1]&&e.splice(n--,1);return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},k=n.compile=function(e,t,n){var r,i,a,s=P[E][e];if(s&&s.context===t)return s;for(r=o(e,t,n),i=0,a=r.length;a>i;i++)r[i]=c(r[i],t,n);return s=P(e,u(r)),s.context=t,s.runs=s.dirruns=0,s},L.querySelectorAll&&!function(){var e,t=p,r=/'|\\/g,i=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,a=[],s=[":active"],l=A.matchesSelector||A.mozMatchesSelector||A.webkitMatchesSelector||A.oMatchesSelector||A.msMatchesSelector;rt(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||a.push("\\["+q+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||a.push(":checked")}),rt(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&a.push("[*^$]="+q+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||a.push(":enabled",":disabled")}),a=a.length&&new RegExp(a.join("|")),p=function(e,n,i,s,l){if(!(s||l||a&&a.test(e)))if(9===n.nodeType)try{return j.apply(i,N.call(n.querySelectorAll(e),0)),i}catch(c){}else if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){var u,h,d,f=n.getAttribute("id"),p=f||E,m=X.test(e)&&n.parentNode||n;for(f?p=p.replace(r,"\\$&"):n.setAttribute("id",p),u=o(e,n,l),p="[id='"+p+"']",h=0,d=u.length;d>h;h++)u[h]=p+u[h].selector;try{return j.apply(i,N.call(m.querySelectorAll(u.join(",")),0)),i}catch(c){}finally{f||n.removeAttribute("id")}}return t(e,n,i,s,l)},l&&(rt(function(t){e=l.call(t,"div");try{l.call(t,"[test!='']:sizzle"),s.push(nt.PSEUDO.source,nt.POS.source,"!=")}catch(n){}}),s=new RegExp(s.join("|")),n.matchesSelector=function(t,r){if(r=r.replace(i,"='$1']"),!(w(t)||s.test(r)||a&&a.test(r)))try{var o=l.call(t,r);if(o||e||t.document&&11!==t.document.nodeType)return o}catch(c){}return n(r,null,null,[t]).length>0})}(),y.setFilters.nth=y.setFilters.eq,y.filters=y.pseudos,n.attr=Z.attr,Z.find=n,Z.expr=n.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=n.uniqueSort,Z.text=n.getText,Z.isXMLDoc=n.isXML,Z.contains=n.contains}(e);var It=/Until$/,Ot=/^(?:parents|prev(?:Until|All))/,Ft=/^.[^:#\[\.,]*$/,Pt=Z.expr.match.needsContext,qt={children:!0,contents:!0,next:!0,prev:!0};Z.fn.extend({find:function(e){var t,n,r,i,a,o,s=this;if("string"!=typeof e)return Z(e).filter(function(){for(t=0,n=s.length;n>t;t++)if(Z.contains(s[t],this))return!0});for(o=this.pushStack("","find",e),t=0,n=this.length;n>t;t++)if(r=o.length,Z.find(e,this[t],o),t>0)for(i=r;i<o.length;i++)for(a=0;r>a;a++)if(o[a]===o[i]){o.splice(i--,1);break}return o},has:function(e){var t,n=Z(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(Z.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(c(this,e,!1),"not",e)},filter:function(e){return this.pushStack(c(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?Pt.test(e)?Z(e,this.context).index(this[0])>=0:Z.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,r=0,i=this.length,a=[],o=Pt.test(e)||"string"!=typeof e?Z(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(o?o.index(n)>-1:Z.find.matchesSelector(n,e)){a.push(n);break}n=n.parentNode}return a=a.length>1?Z.unique(a):a,this.pushStack(a,"closest",e)},index:function(e){return e?"string"==typeof e?Z.inArray(this[0],Z(e)):Z.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?Z(e,t):Z.makeArray(e&&e.nodeType?[e]:e),r=Z.merge(this.get(),n);
return this.pushStack(s(n[0])||s(r[0])?r:Z.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.fn.andSelf=Z.fn.addBack,Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Z.dir(e,"parentNode",n)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Z.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Z.dir(e,"previousSibling",n)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return Z.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(n,r){var i=Z.map(this,t,n);return It.test(e)||(r=n),r&&"string"==typeof r&&(i=Z.filter(r,i)),i=this.length>1&&!qt[e]?Z.unique(i):i,this.length>1&&Ot.test(e)&&(i=i.reverse()),this.pushStack(i,e,G.call(arguments).join(","))}}),Z.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?Z.find.matchesSelector(t[0],e)?[t[0]]:[]:Z.find.matches(e,t)},dir:function(e,n,r){for(var i=[],a=e[n];a&&9!==a.nodeType&&(r===t||1!==a.nodeType||!Z(a).is(r));)1===a.nodeType&&i.push(a),a=a[n];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",zt=/ jQuery\d+="(?:null|\d+)"/g,Bt=/^\s+/,Wt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,$t=/<([\w:]+)/,Rt=/<tbody/i,Ut=/<|&#?\w+;/,Vt=/<(?:script|style|link)/i,Gt=/<(?:script|object|embed|option|style)/i,Kt=new RegExp("<(?:"+Ht+")[\\s/>]","i"),Yt=/^(?:checkbox|radio)$/,Xt=/checked\s*(?:[^=]|=\s*.checked.)/i,Jt=/\/(java|ecma)script/i,Zt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Qt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},en=u(B),tn=en.appendChild(B.createElement("div"));Qt.optgroup=Qt.option,Qt.tbody=Qt.tfoot=Qt.colgroup=Qt.caption=Qt.thead,Qt.th=Qt.td,Z.support.htmlSerialize||(Qt._default=[1,"X<div>","</div>"]),Z.fn.extend({text:function(e){return Z.access(this,function(e){return e===t?Z.text(this):this.empty().append((this[0]&&this[0].ownerDocument||B).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(Z.isFunction(e))return this.each(function(t){Z(this).wrapAll(e.call(this,t))});if(this[0]){var t=Z(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return Z.isFunction(e)?this.each(function(t){Z(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Z(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(n){Z(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=Z.clean(arguments);return this.pushStack(Z.merge(e,this),"before",this.selector)}},after:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=Z.clean(arguments);return this.pushStack(Z.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var n,r=0;null!=(n=this[r]);r++)(!e||Z.filter(e,[n]).length)&&(t||1!==n.nodeType||(Z.cleanData(n.getElementsByTagName("*")),Z.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&Z.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return Z.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(zt,""):t;if(!("string"!=typeof e||Vt.test(e)||!Z.support.htmlSerialize&&Kt.test(e)||!Z.support.leadingWhitespace&&Bt.test(e)||Qt[($t.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Wt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(Z.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(a){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return s(this[0])?this.length?this.pushStack(Z(Z.isFunction(e)?e():e),"replaceWith",e):this:Z.isFunction(e)?this.each(function(t){var n=Z(this),r=n.html();n.replaceWith(e.call(this,t,r))}):("string"!=typeof e&&(e=Z(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;Z(this).remove(),t?Z(t).before(e):Z(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,a,o,s,l=0,c=e[0],u=[],d=this.length;if(!Z.support.checkClone&&d>1&&"string"==typeof c&&Xt.test(c))return this.each(function(){Z(this).domManip(e,n,r)});if(Z.isFunction(c))return this.each(function(i){var a=Z(this);e[0]=c.call(this,i,n?a.html():t),a.domManip(e,n,r)});if(this[0]){if(i=Z.buildFragment(e,this,u),o=i.fragment,a=o.firstChild,1===o.childNodes.length&&(o=a),a)for(n=n&&Z.nodeName(a,"tr"),s=i.cacheable||d-1;d>l;l++)r.call(n&&Z.nodeName(this[l],"table")?h(this[l],"tbody"):this[l],l===s?o:Z.clone(o,!0,!0));o=a=null,u.length&&Z.each(u,function(e,t){t.src?Z.ajax?Z.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Z.error("no ajax"):Z.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Zt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),Z.buildFragment=function(e,n,r){var i,a,o,s=e[0];return n=n||B,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,!(1===e.length&&"string"==typeof s&&s.length<512&&n===B&&"<"===s.charAt(0))||Gt.test(s)||!Z.support.checkClone&&Xt.test(s)||!Z.support.html5Clone&&Kt.test(s)||(a=!0,i=Z.fragments[s],o=i!==t),i||(i=n.createDocumentFragment(),Z.clean(e,n,i,r),a&&(Z.fragments[s]=o&&i)),{fragment:i,cacheable:a}},Z.fragments={},Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(n){var r,i=0,a=[],o=Z(n),s=o.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===s)return o[t](this[0]),this;for(;s>i;i++)r=(i>0?this.clone(!0):this).get(),Z(o[i])[t](r),a=a.concat(r);return this.pushStack(a,e,o.selector)}}),Z.extend({clone:function(e,t,n){var r,i,a,o;if(Z.support.html5Clone||Z.isXMLDoc(e)||!Kt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(tn.innerHTML=e.outerHTML,tn.removeChild(o=tn.firstChild)),!(Z.support.noCloneEvent&&Z.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(f(e,o),r=p(e),i=p(o),a=0;r[a];++a)i[a]&&f(r[a],i[a]);if(t&&(d(e,o),n))for(r=p(e),i=p(o),a=0;r[a];++a)d(r[a],i[a]);return r=i=null,o},clean:function(e,t,n,r){var i,a,o,s,l,c,h,d,f,p,g,v=t===B&&en,y=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=B),i=0;null!=(o=e[i]);i++)if("number"==typeof o&&(o+=""),o){if("string"==typeof o)if(Ut.test(o)){for(v=v||u(t),h=t.createElement("div"),v.appendChild(h),o=o.replace(Wt,"<$1></$2>"),s=($t.exec(o)||["",""])[1].toLowerCase(),l=Qt[s]||Qt._default,c=l[0],h.innerHTML=l[1]+o+l[2];c--;)h=h.lastChild;if(!Z.support.tbody)for(d=Rt.test(o),f="table"!==s||d?"<table>"!==l[1]||d?[]:h.childNodes:h.firstChild&&h.firstChild.childNodes,a=f.length-1;a>=0;--a)Z.nodeName(f[a],"tbody")&&!f[a].childNodes.length&&f[a].parentNode.removeChild(f[a]);!Z.support.leadingWhitespace&&Bt.test(o)&&h.insertBefore(t.createTextNode(Bt.exec(o)[0]),h.firstChild),o=h.childNodes,h.parentNode.removeChild(h)}else o=t.createTextNode(o);o.nodeType?y.push(o):Z.merge(y,o)}if(h&&(o=h=v=null),!Z.support.appendChecked)for(i=0;null!=(o=y[i]);i++)Z.nodeName(o,"input")?m(o):"undefined"!=typeof o.getElementsByTagName&&Z.grep(o.getElementsByTagName("input"),m);if(n)for(p=function(e){return!e.type||Jt.test(e.type)?r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e):void 0},i=0;null!=(o=y[i]);i++)Z.nodeName(o,"script")&&p(o)||(n.appendChild(o),"undefined"!=typeof o.getElementsByTagName&&(g=Z.grep(Z.merge([],o.getElementsByTagName("script")),p),y.splice.apply(y,[i+1,0].concat(g)),i+=g.length));return y},cleanData:function(e,t){for(var n,r,i,a,o=0,s=Z.expando,l=Z.cache,c=Z.support.deleteExpando,u=Z.event.special;null!=(i=e[o]);o++)if((t||Z.acceptData(i))&&(r=i[s],n=r&&l[r])){if(n.events)for(a in n.events)u[a]?Z.event.remove(i,a):Z.removeEvent(i,a,n.handle);l[r]&&(delete l[r],c?delete i[s]:i.removeAttribute?i.removeAttribute(s):i[s]=null,Z.deletedIds.push(r))}}}),function(){var e,t;Z.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=Z.uaMatch($.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),Z.browser=t,Z.sub=function(){function e(t,n){return new e.fn.init(t,n)}Z.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,r){return r&&r instanceof Z&&!(r instanceof e)&&(r=e(r)),Z.fn.init.call(this,n,r,t)},e.fn.init.prototype=e.fn;var t=e(B);return e}}();var nn,rn,an,on=/alpha\([^)]*\)/i,sn=/opacity=([^)]*)/,ln=/^(top|right|bottom|left)$/,cn=/^(none|table(?!-c[ea]).+)/,un=/^margin/,hn=new RegExp("^("+Q+")(.*)$","i"),dn=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),fn=new RegExp("^([-+])=("+Q+")","i"),pn={},mn={position:"absolute",visibility:"hidden",display:"block"},gn={letterSpacing:0,fontWeight:400},vn=["Top","Right","Bottom","Left"],yn=["Webkit","O","Moz","ms"],bn=Z.fn.toggle;Z.fn.extend({css:function(e,n){return Z.access(this,function(e,n,r){return r!==t?Z.style(e,n,r):Z.css(e,n)},e,n,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(e,t){var n="boolean"==typeof e;return Z.isFunction(e)&&Z.isFunction(t)?bn.apply(this,arguments):this.each(function(){(n?e:v(this))?Z(this).show():Z(this).hide()})}}),Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Z.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,o,s,l=Z.camelCase(n),c=e.style;if(n=Z.cssProps[l]||(Z.cssProps[l]=g(c,l)),s=Z.cssHooks[n]||Z.cssHooks[l],r===t)return s&&"get"in s&&(a=s.get(e,!1,i))!==t?a:c[n];if(o=typeof r,"string"===o&&(a=fn.exec(r))&&(r=(a[1]+1)*a[2]+parseFloat(Z.css(e,n)),o="number"),!(null==r||"number"===o&&isNaN(r)||("number"!==o||Z.cssNumber[l]||(r+="px"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{c[n]=r}catch(u){}}},css:function(e,n,r,i){var a,o,s,l=Z.camelCase(n);return n=Z.cssProps[l]||(Z.cssProps[l]=g(e.style,l)),s=Z.cssHooks[n]||Z.cssHooks[l],s&&"get"in s&&(a=s.get(e,!0,i)),a===t&&(a=nn(e,n)),"normal"===a&&n in gn&&(a=gn[n]),r||i!==t?(o=parseFloat(a),r||Z.isNumeric(o)?o||0:a):a},swap:function(e,t,n){var r,i,a={};for(i in t)a[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=a[i];return r}}),e.getComputedStyle?nn=function(t,n){var r,i,a,o,s=e.getComputedStyle(t,null),l=t.style;return s&&(r=s[n],""!==r||Z.contains(t.ownerDocument,t)||(r=Z.style(t,n)),dn.test(r)&&un.test(n)&&(i=l.width,a=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=r,r=s.width,l.width=i,l.minWidth=a,l.maxWidth=o)),r}:B.documentElement.currentStyle&&(nn=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],a=e.style;return null==i&&a&&a[t]&&(i=a[t]),dn.test(i)&&!ln.test(t)&&(n=a.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),a.left="fontSize"===t?"1em":i,i=a.pixelLeft+"px",a.left=n,r&&(e.runtimeStyle.left=r)),""===i?"auto":i}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&cn.test(nn(e,"display"))?Z.swap(e,mn,function(){return x(e,t,r)}):x(e,t,r):void 0},set:function(e,n,r){return b(e,n,r?w(e,t,r,Z.support.boxSizing&&"border-box"===Z.css(e,"boxSizing")):0)}}}),Z.support.opacity||(Z.cssHooks.opacity={get:function(e,t){return sn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=Z.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=r&&r.filter||n.filter||"";n.zoom=1,t>=1&&""===Z.trim(a.replace(on,""))&&n.removeAttribute&&(n.removeAttribute("filter"),r&&!r.filter)||(n.filter=on.test(a)?a.replace(on,i):a+" "+i)}}),Z(function(){Z.support.reliableMarginRight||(Z.cssHooks.marginRight={get:function(e,t){return Z.swap(e,{display:"inline-block"},function(){return t?nn(e,"marginRight"):void 0})}}),!Z.support.pixelPosition&&Z.fn.position&&Z.each(["top","left"],function(e,t){Z.cssHooks[t]={get:function(e,n){if(n){var r=nn(e,t);return dn.test(r)?Z(e).position()[t]+"px":r}}}})}),Z.expr&&Z.expr.filters&&(Z.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!Z.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||nn(e,"display"))},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(n){var r,i="string"==typeof n?n.split(" "):[n],a={};for(r=0;4>r;r++)a[e+vn[r]+t]=i[r]||i[r-2]||i[0];return a}},un.test(e)||(Z.cssHooks[e+t].set=b)});var wn=/%20/g,xn=/\[\]$/,kn=/\r?\n/g,Sn=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,_n=/^(?:select|textarea)/i;Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Z.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||_n.test(this.nodeName)||Sn.test(this.type))}).map(function(e,t){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(e){return{name:t.name,value:e.replace(kn,"\r\n")}}):{name:t.name,value:n.replace(kn,"\r\n")}}).get()}}),Z.param=function(e,n){var r,i=[],a=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){a(this.name,this.value)});else for(r in e)S(r,e[r],n,a);return i.join("&").replace(wn,"+")};var Cn,Tn,En=/#.*$/,Ln=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,An=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Mn=/^(?:GET|HEAD)$/,Nn=/^\/\//,jn=/\?/,Dn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,In=/([?&])_=[^&]*/,On=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Fn=Z.fn.load,Pn={},qn={},Hn=["*/"]+["*"];try{Cn=W.href}catch(zn){Cn=B.createElement("a"),Cn.href="",Cn=Cn.href}Tn=On.exec(Cn.toLowerCase())||[],Z.fn.load=function(e,n,r){if("string"!=typeof e&&Fn)return Fn.apply(this,arguments);if(!this.length)return this;var i,a,o,s=this,l=e.indexOf(" ");return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),Z.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),Z.ajax({url:e,type:a,dataType:"html",data:n,complete:function(e,t){r&&s.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments,s.html(i?Z("<div>").append(e.replace(Dn,"")).find(i):e)}),this},Z.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z.each(["get","post"],function(e,n){Z[n]=function(e,r,i,a){return Z.isFunction(r)&&(a=a||i,i=r,r=t),Z.ajax({type:n,url:e,data:r,success:i,dataType:a})}}),Z.extend({getScript:function(e,n){return Z.get(e,t,n,"script")},getJSON:function(e,t,n){return Z.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?T(e,Z.ajaxSettings):(t=e,e=Z.ajaxSettings),T(e,t),e},ajaxSettings:{url:Cn,isLocal:An.test(Tn[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Hn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:_(Pn),ajaxTransport:_(qn),ajax:function(e,n){function r(e,n,r,o){var c,h,y,b,x,S=n;2!==w&&(w=2,l&&clearTimeout(l),s=t,a=o||"",k.readyState=e>0?4:0,r&&(b=E(d,k,r)),e>=200&&300>e||304===e?(d.ifModified&&(x=k.getResponseHeader("Last-Modified"),x&&(Z.lastModified[i]=x),x=k.getResponseHeader("Etag"),x&&(Z.etag[i]=x)),304===e?(S="notmodified",c=!0):(c=L(d,b),S=c.state,h=c.data,y=c.error,c=!y)):(y=S,(!S||e)&&(S="error",0>e&&(e=0))),k.status=e,k.statusText=""+(n||S),c?m.resolveWith(f,[h,S,k]):m.rejectWith(f,[k,S,y]),k.statusCode(v),v=t,u&&p.trigger("ajax"+(c?"Success":"Error"),[k,d,c?h:y]),g.fireWith(f,[k,S]),u&&(p.trigger("ajaxComplete",[k,d]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var i,a,o,s,l,c,u,h,d=Z.ajaxSetup({},n),f=d.context||d,p=f!==d&&(f.nodeType||f instanceof Z)?Z(f):Z.event,m=Z.Deferred(),g=Z.Callbacks("once memory"),v=d.statusCode||{},y={},b={},w=0,x="canceled",k={readyState:0,setRequestHeader:function(e,t){if(!w){var n=e.toLowerCase();e=b[n]=b[n]||e,y[e]=t}return this},getAllResponseHeaders:function(){return 2===w?a:null},getResponseHeader:function(e){var n;if(2===w){if(!o)for(o={};n=Ln.exec(a);)o[n[1].toLowerCase()]=n[2];n=o[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return w||(d.mimeType=e),this},abort:function(e){return e=e||x,s&&s.abort(e),r(0,e),this}};if(m.promise(k),k.success=k.done,k.error=k.fail,k.complete=g.add,k.statusCode=function(e){if(e){var t;if(2>w)for(t in e)v[t]=[v[t],e[t]];else t=e[k.status],k.always(t)}return this},d.url=((e||d.url)+"").replace(En,"").replace(Nn,Tn[1]+"//"),d.dataTypes=Z.trim(d.dataType||"*").toLowerCase().split(tt),null==d.crossDomain&&(c=On.exec(d.url.toLowerCase()),d.crossDomain=!(!c||c[1]==Tn[1]&&c[2]==Tn[2]&&(c[3]||("http:"===c[1]?80:443))==(Tn[3]||("http:"===Tn[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Z.param(d.data,d.traditional)),C(Pn,d,n,k),2===w)return k;if(u=d.global,d.type=d.type.toUpperCase(),d.hasContent=!Mn.test(d.type),u&&0===Z.active++&&Z.event.trigger("ajaxStart"),!d.hasContent&&(d.data&&(d.url+=(jn.test(d.url)?"&":"?")+d.data,delete d.data),i=d.url,d.cache===!1)){var S=Z.now(),_=d.url.replace(In,"$1_="+S);d.url=_+(_===d.url?(jn.test(d.url)?"&":"?")+"_="+S:"")}(d.data&&d.hasContent&&d.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(i=i||d.url,Z.lastModified[i]&&k.setRequestHeader("If-Modified-Since",Z.lastModified[i]),Z.etag[i]&&k.setRequestHeader("If-None-Match",Z.etag[i])),k.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Hn+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)k.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(f,k,d)===!1||2===w))return k.abort();x="abort";for(h in{success:1,error:1,complete:1})k[h](d[h]);if(s=C(qn,d,n,k)){k.readyState=1,u&&p.trigger("ajaxSend",[k,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){k.abort("timeout")},d.timeout));try{w=1,s.send(y,r)}catch(T){if(!(2>w))throw T;r(-1,T)}}else r(-1,"No Transport");return k},active:0,lastModified:{},etag:{}});var Bn=[],Wn=/\?/,$n=/(=)\?(?=&|$)|\?\?/,Rn=Z.now();Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Bn.pop()||Z.expando+"_"+Rn++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(n,r,i){var a,o,s,l=n.data,c=n.url,u=n.jsonp!==!1,h=u&&$n.test(c),d=u&&!h&&"string"==typeof l&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&$n.test(l);return"jsonp"===n.dataTypes[0]||h||d?(a=n.jsonpCallback=Z.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=e[a],h?n.url=c.replace($n,"$1"+a):d?n.data=l.replace($n,"$1"+a):u&&(n.url+=(Wn.test(c)?"&":"?")+n.jsonp+"="+a),n.converters["script json"]=function(){return s||Z.error(a+" was not called"),s[0]},n.dataTypes[0]="json",e[a]=function(){s=arguments},i.always(function(){e[a]=o,n[a]&&(n.jsonpCallback=r.jsonpCallback,Bn.push(a)),s&&Z.isFunction(o)&&o(s[0]),s=o=t}),"script"):void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=B.head||B.getElementsByTagName("head")[0]||B.documentElement;return{send:function(i,a){n=B.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){(i||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||a(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Un,Vn=e.ActiveXObject?function(){for(var e in Un)Un[e](0,1)}:!1,Gn=0;Z.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&A()||M()}:A,function(e){Z.extend(Z.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(Z.ajaxSettings.xhr()),Z.support.ajax&&Z.ajaxTransport(function(n){if(!n.crossDomain||Z.support.cors){var r;return{send:function(i,a){var o,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)l.setRequestHeader(s,i[s])}catch(c){}l.send(n.hasContent&&n.data||null),r=function(e,i){var s,c,u,h,d;try{if(r&&(i||4===l.readyState))if(r=t,o&&(l.onreadystatechange=Z.noop,Vn&&delete Un[o]),i)4!==l.readyState&&l.abort();else{s=l.status,u=l.getAllResponseHeaders(),h={},d=l.responseXML,d&&d.documentElement&&(h.xml=d);try{h.text=l.responseText}catch(e){}try{c=l.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=h.text?200:404}}catch(p){i||a(-1,p)}h&&a(s,c,h,u)},n.async?4===l.readyState?setTimeout(r,0):(o=++Gn,Vn&&(Un||(Un={},Z(e).unload(Vn)),Un[o]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var Kn,Yn,Xn=/^(?:toggle|show|hide)$/,Jn=new RegExp("^(?:([-+])=|)("+Q+")([a-z%]*)$","i"),Zn=/queueHooks$/,Qn=[O],er={"*":[function(e,t){var n,r,i,a=this.createTween(e,t),o=Jn.exec(t),s=a.cur(),l=+s||0,c=1;if(o){if(n=+o[2],r=o[3]||(Z.cssNumber[e]?"":"px"),"px"!==r&&l){l=Z.css(a.elem,e,!0)||n||1;do i=c=c||".5",l/=c,Z.style(a.elem,e,l+r),c=a.cur()/s;while(1!==c&&c!==i)}a.unit=r,a.start=l,a.end=o[1]?l+(o[1]+1)*n:n}return a}]};Z.Animation=Z.extend(D,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],er[n]=er[n]||[],er[n].unshift(t)},prefilter:function(e,t){t?Qn.unshift(e):Qn.push(e)}}),Z.Tween=F,F.prototype={constructor:F,init:function(e,t,n,r,i,a){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(Z.cssNumber[n]?"":"px")},cur:function(){var e=F.propHooks[this.prop];return e&&e.get?e.get(this):F.propHooks._default.get(this)},run:function(e){var t,n=F.propHooks[this.prop];return this.pos=t=this.options.duration?Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.each(["toggle","show","hide"],function(e,t){var n=Z.fn[t];Z.fn[t]=function(r,i,a){return null==r||"boolean"==typeof r||!e&&Z.isFunction(r)&&Z.isFunction(i)?n.apply(this,arguments):this.animate(P(t,!0),r,i,a)}}),Z.fn.extend({fadeTo:function(e,t,n,r){return this.filter(v).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Z.isEmptyObject(e),a=Z.speed(t,n,r),o=function(){var t=D(this,Z.extend({},e),a);i&&t.stop(!0)};return i||a.queue===!1?this.each(o):this.queue(a.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",a=Z.timers,o=Z._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Zn.test(n)&&i(o[n]);for(n=a.length;n--;)a[n].elem!==this||null!=e&&a[n].queue!==e||(a[n].anim.stop(r),t=!1,a.splice(n,1));(t||!r)&&Z.dequeue(this,e)})}}),Z.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Z.speed=function(e,t,n){var r=e&&"object"==typeof e?Z.extend({},e):{complete:n||!n&&t||Z.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Z.isFunction(t)&&t};return r.duration=Z.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Z.fx.speeds?Z.fx.speeds[r.duration]:Z.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Z.isFunction(r.old)&&r.old.call(this),r.queue&&Z.dequeue(this,r.queue)},r},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.timers=[],Z.fx=F.prototype.init,Z.fx.tick=function(){for(var e,t=Z.timers,n=0;n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||Z.fx.stop()},Z.fx.timer=function(e){e()&&Z.timers.push(e)&&!Yn&&(Yn=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.interval=13,Z.fx.stop=function(){clearInterval(Yn),Yn=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fx.step={},Z.expr&&Z.expr.filters&&(Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length});var tr=/^(?:body|html)$/i;return Z.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var n,r,i,a,o,s,l,c,u,h,d=this[0],f=d&&d.ownerDocument;if(f)return(i=f.body)===d?Z.offset.bodyOffset(d):(r=f.documentElement,Z.contains(r,d)?(n=d.getBoundingClientRect(),a=q(f),o=r.clientTop||i.clientTop||0,s=r.clientLeft||i.clientLeft||0,l=a.pageYOffset||r.scrollTop,c=a.pageXOffset||r.scrollLeft,u=n.top+l-o,h=n.left+c-s,{top:u,left:h}):{top:0,left:0})},Z.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return Z.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(Z.css(e,"marginTop"))||0,n+=parseFloat(Z.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=Z.css(e,"position");"static"===r&&(e.style.position="relative");var i,a,o=Z(e),s=o.offset(),l=Z.css(e,"top"),c=Z.css(e,"left"),u=("absolute"===r||"fixed"===r)&&Z.inArray("auto",[l,c])>-1,h={},d={};u?(d=o.position(),i=d.top,a=d.left):(i=parseFloat(l)||0,a=parseFloat(c)||0),Z.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(h.top=t.top-s.top+i),null!=t.left&&(h.left=t.left-s.left+a),"using"in t?t.using.call(e,h):o.css(h)}},Z.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),n=this.offset(),r=tr.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(Z.css(e,"marginTop"))||0,n.left-=parseFloat(Z.css(e,"marginLeft"))||0,r.top+=parseFloat(Z.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(Z.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||B.body;e&&!tr.test(e.nodeName)&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||B.body})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);Z.fn[e]=function(i){return Z.access(this,function(e,i,a){var o=q(e);return a===t?o?n in o?o[n]:o.document.documentElement[i]:e[i]:(o?o.scrollTo(r?Z(o).scrollLeft():a,r?a:Z(o).scrollTop()):e[i]=a,void 0)},e,i,arguments.length,null)}}),Z.each({Height:"height",Width:"width"},function(e,n){Z.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){Z.fn[i]=function(i,a){var o=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||a===!0?"margin":"border");return Z.access(this,function(n,r,i){var a;return Z.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(a=n.documentElement,Math.max(n.body["scroll"+e],a["scroll"+e],n.body["offset"+e],a["offset"+e],a["client"+e])):i===t?Z.css(n,r,i,s):Z.style(n,r,i,s)},n,o?i:t,o,null)}})}),e.jQuery=e.$=Z,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return Z}),Z}(window)})}()},{}],14:[function(e,t){t.exports={app:"<% if (locale.current() === 'he-IL') { %>\n  <link rel='stylesheet' href='./style-rtl.css'>\n<% } %>\n\n<div id='loader' class='loader'></div>\n<div id='drawer' class='sidebar' <% if (locale.current() === 'he-IL') { %>dir='rtl'<% } %>></div>\n<nav id='navigation'></nav>\n<div id='main' <% if (locale.current() === 'he-IL') { %>dir='rtl'<% } %>></div>\n\n<div class='prose-menu dropdown-menu' <% if (locale.current() === 'he-IL') { %>dir='rtl'<% } %>>\n  <div class='inner clearfix'>\n    <a href='#' class='icon branding dropdown-hover' data-link=true>Prose</a>\n    <ul class='dropdown clearfix'>\n      <li><a href='#'>Prose</a></li>\n      <li><a class='about' href='./#about'><%= t('navigation.about') %></a></li>\n      <li><a class='help' href='https://github.com/prose/prose'><%= t('navigation.develop') %></a></li>\n      <li><a href='./#chooselanguage'><%= t('navigation.language') %></a></li>\n      <li class='divider authenticated'></li>\n      <li class='authenticated'>\n        <a href='#' class='logout'><%= t('navigation.logout') %></a>\n      </li>\n    </ul>\n  </div>\n</div>\n",breadcrumb:"<span class='slash'>/</span>\n<a class='path' href='#<%= trail %>/<%= url %>'><%= name %></a>\n",chooselanguage:"<h1><%= t('chooselanguage.title') %></h1>\n<ul class='fat-list round'>\n  <% _(chooseLanguage.languages).each(function(l) { %>\n    <li>\n    <a href='#' data-code='<%= l.code %>' class='language<% if (l.code === chooseLanguage.active) { %> active<% } %>'>\n        <% if (l.code === chooseLanguage.active) { %><span class='ico checkmark fr'></span><% } %>\n        <%= l.name %>\n        <small>(<%= l.code %>)</small>\n      </a>\n    </li>\n  <% }); %>\n</ul>\n<p><%= t('chooselanguage.description') %></p>\n",dialogs:{help:"<%\n  function formattedClass(str) {\n    return str.toLowerCase().replace(/\\s/g, '-').replace('&amp;', '');\n  };\n%>\n\n<div class='col col25'>\n  <ul class='main-menu'>\n    <% _(help).each(function(mainMenu, i) { %>\n      <li><a href='#' class='<% if (i === 0) { %>active <% } %>' data-id='<%= formattedClass(mainMenu.menuName) %>'><%= mainMenu.menuName %></a></li>\n    <% }); %>\n  </ul>\n</div>\n\n<div class='col col25'>\n  <% _(help).each(function(mainMenu, index) { %>\n  <ul class='sub-menu <%= formattedClass(mainMenu.menuName) %> <% if (index === 0) { %>active<% } %>' data-id='<%= formattedClass(mainMenu.menuName) %>'>\n      <% _(mainMenu.content).each(function(subMenu, i) { %>\n        <li><a href='#' data-id='<%= formattedClass(subMenu.menuName) %>' class='<% if (index === 0 && i === 0) { %> active<% } %>'><%= subMenu.menuName %></a></li>\n      <% }); %>\n    </ul>\n  <% }); %>\n</div>\n\n<div class='col col-last prose small'>\n  <% _(help).each(function(mainMenu, index) { %>\n    <% _(mainMenu.content).each(function(d, i) { %>\n    <div class='help-content inner help-<%= formattedClass(d.menuName) %><% if (index === 0 && i === 0) { %> active<% } %>'>\n      <%= d.data %>\n    </div>\n    <% }); %>\n  <% }); %>\n</div>\n",link:"<div class='inner'>\n  <label><%= t('dialogs.link.title') %></label>\n  <input type='text' name='href' placeholder=\"<%= t('dialogs.link.hrefPlaceholder') %>\" />\n  <input type='text' name='text' placeholder=\"<%= t('dialogs.link.textPlaceholder') %>\" />\n  <input type='text' name='title' placeholder=\"<%= t('dialogs.link.titlePlaceholder') %>\" />\n\n  <% if (relativeLinks) { %>\n    <div class='collapsible'>\n      <select data-placeholder=\"<%= t('dialogs.link.insertPlaceholder') %>\" class='chzn-select'>\n        <option value></option>\n        <% _(relativeLinks).each(function(link) { %>\n        <option value='<%= link.href %>,<%= link.text %>'><%= link.text %></option>\n        <% }); %>\n      </select>\n    </div>\n  <% } %>\n\n  <a href='#' class='button round insert' data-type='link'><%= t('dialogs.link.insert') %></a>\n</div>\n",media:"<div class='inner clearfix'>\n\n  <div <% if (assetsDirectory) { %>class='col fl'<% } %>>\n    <label><%= t('dialogs.media.title') %></label>\n\n    <% if (writable) { %>\n      <div class='contain clearfix'>\n        <span class='ico picture-add fl'></span>\n        <%= description %>\n      </div>\n    <% } %>\n\n    <input type='text' name='url' placeholder=\"<%= t('dialogs.media.hrefPlaceholder')%>\" />\n    <input type='text' name='alt' placeholder=\"<%= t('dialogs.media.altPlaceholder')%>\" />\n    <a href='#' class='button round insert' data-type='media'><%= t('dialogs.link.insert') %></a>\n      <% if (!assetsDirectory) { %>\n        <small class='caption deemphasize'><%= t('dialogs.media.help') %></small>\n      <% } %>\n  </div>\n\n  <% if (assetsDirectory) { %>\n    <div class='col col-last fl media-listing'>\n      <label><%= t('dialogs.media.choose') %></label>\n      <ul id='media'></ul>\n      <small class='caption deemphasize'><%= t('dialogs.media.helpMedia') %></small>\n    </div>\n  <% } %>\n</div>\n",mediadirectory:"<% if (type === 'tree') { %>\n  <li class='directory'>\n    <span class='mask'></span>\n    <a class='clearfix item' href='<%= path %>'>\n      <span class='ico fl small inline folder'></span>\n      <%= name %>\n    </a>\n  </li>\n<% } else { %>\n  <li class='asset'>\n    <span class='mask'></span>\n    <a class='clearfix item' href='<%= path %>' title='<%= path %>'>\n      <% if (isMedia) { %>\n        <span class='ico fl small inline media'></span>\n      <% } else { %>\n        <span class='ico fl small inline document'></span>\n      <% } %>\n      <%= name %>\n    </a>\n  </li>\n<% } %>\n"},drawer:"<div id='orgs'></div>\n<div id='branches'></div>\n<div id='history'></div>\n<div id='drafts'></div>\n<div id='save'></div>\n<div id='settings'></div>\n",file:"<header id='heading' class='heading limiter clearfix'></header>\n<div id='modal'></div>\n\n<div id='post' class='post limiter'>\n\n  <!-- parkmath-specific! -->\n  <div id='live-preview' class='live-preview'></div> \n\n  <div class='editor views<% if (file.markdown) { %> markdown<% } %>'>\n    <div id='diff' class='view prose diff'>\n      <h2><%= t('main.file.metaTitle') %><br />\n        <span class='deemphasize small'><%= t('main.file.metaDescription') %></span>\n      </h2>\n      <div class='diff-content inner'></div>\n    </div>\n    <div id='meta' class='view round meta'></div>\n    <div id='edit' class='view active edit'>\n      <div class='topbar-wrapper'>\n        <div class='topbar'>\n          <div id='toolbar' class='containment toolbar round'></div>\n        </div>\n      </div>\n      <div id='drop' class='drop-mask'></div>\n      <div id='code' class='code round inner'></div>\n    </div>\n    <div id='preview' class='view preview prose'></div>\n  </div>\n</div>\n",files:"<% if (data.path && data.path !== data.rooturl) { %>\n  <div class='breadcrumb'>\n    <a class='branch' href='#<%= data.url %>'>..</a>\n    <% _.each(data.parts, function(part) { %>\n      <% if (part.name !== data.rooturl) { %>\n        <span class='slash'>/</span>\n        <a class='path' href='#<%= [data.url, part.url].join(\"/\") %>'><%= part.name %></a>\n      <% } %>\n    <% }); %>\n  </div>\n<% } %>\n\n<ul class='listing'></ul>\n",header:"<% if (data.alterable) { %>\n  <div class='round avatar'>\n    <%= data.avatar %>\n  </div>\n  <div class='fl details'>\n    <h4 class='parent-trail'><a href='#<%= data.user %>'><%= data.user %></a> / <a href='#<%= data.user %>/<%= data.repo.name %>'><%= data.repo.name %></a><% if (data.isPrivate) { %><span class='ico small inline private' title='Private Project'></span><% } %></h4>\n    <!-- if (isNew() && !translate) placeholder, not value -->\n    <input type='text' class='headerinput' data-mode='<%= data.mode %>' <% print((data.placeholder ? 'placeholder=' : 'value=') + '\"' + data.input + '\"') %>>\n    <div class='mask'></div>\n  </div>\n<% } else { %>\n  <div class='avatar round'><%= data.avatar %></div>\n  <div class='fl details'>\n    <h4><a class='user' href='#<%= data.user %>'><%= data.user %></a></h4>\n    <h2><a class='repo' href='#<%= data.path %>'><%= data.title %></a></h2>\n  </div>\n<% } %>\n",li:{file:"<% if (file.binary) { %>\n  <div class='listing-icon icon round <%= file.extension %> <% if (file.media) { %>media<% } %>'></div>\n<% } else { %>\n  <a href='#<%= file.repo.owner.login %>/<%= file.repo.name %>/edit/<%= file.branch %>/<%= file.path %>' class='listing-icon'>\n    <span class='icon round <%= file.extension %> <% if (file.markdown) { %> md<% } %> <% if (file.media) { %> media<% } %>'></span>\n  </a>\n<% } %>\n\n<div class='details'>\n  <div class='actions fr clearfix'>\n    <% if (!file.binary) { %>\n      <a class='clearfix'\n        title=\"<%= t('main.repo.edit') %>\"\n        href='#<%= file.repo.owner.login %>/<%= file.repo.name %>/edit/<%= file.branch %>/<%= file.path %>'>\n        <%= t('main.repo.edit') %>\n      </a>\n    <% } %>\n    <% if (file.writable) { %>\n      <a\n        class='delete'\n        title=\"<%= t('main.repo.delete') %>\"\n        href='#'>\n        <span class='ico rubbish small'></span>\n      </a>\n    <% } %>\n  </div>\n  <% if (file.binary) { %>\n    <h3 class='title' title='<%= file.name %>'><%= file.name %></h3>\n  <% } else { %>\n    <h3 class='title' title='<%= file.name %>'><a class='clearfix'href='#<%= file.repo.owner.login %>/<%= file.repo.name %>/edit/<%= file.branch %>/<%= file.path %>'><%= file.name %></a></h3>\n  <% } %>\n  <span class='deemphasize'><%= file.jailpath %></span>\n</div>\n",folder:"<a href='#<%= folder.repo.owner.login %>/<%= folder.repo.name %>/tree/<%= folder.branch %>/<%= folder.path %>' class='listing-icon'>\n  <span class='icon round folder'></span>\n</a>\n\n<span class='details'>\n  <h3 class='title' title='<%= folder.name %>'>\n    <a href='#<%= folder.repo.owner.login %>/<%= folder.repo.name %>/tree/<%= folder.branch %>/<%= folder.path %>'>\n      <%= folder.name %>\n    </a>\n  </h3>\n  <span class='deemphasize'><%= folder.jailpath %></span>\n</span>\n",repo:"<a\n  class='listing-icon'\n  data-user='<%- repo.owner.login %>'\n  data-repo='<%- repo.name %>'\n  href='#<%- repo.owner.login %>/<%- repo.name %>'>\n  <% if ((repo.owner.login !== repo.login) && repo.private) { %>\n    <span class='icon round repo owner private' title=\"<%- t('main.repos.sharedFrom') %> (<%- repo.owner.login %>)\"></span>\n  <% } else if (repo.owner.login !== repo.login) { %>\n    <span class='icon round repo owner' title=\"<%- t('main.repos.sharedFrom') %> (<%- repo.owner.login %>)\"></span>\n  <% } else if (repo.fork && repo.private) { %>\n    <span class='icon round repo private fork' title=\"<%- t('main.repos.forkedFrom') %>\"></span>\n  <% } else if (repo.fork) { %>\n    <span class='icon round repo fork' title=\"<%- t('main.repos.forkedFrom') %>\"></span>\n  <% } else if (repo.private) { %>\n    <span class='icon round repo private'></span>\n  <% } else { %>\n    <span class='icon round repo'></span>\n  <% } %>\n</a>\n\n<div class='details'>\n  <div class='actions fr clearfix'>\n    <a\n      data-user='<%- repo.owner.login %>'\n      data-repo='<%- repo.name %>'\n      href='#<%- repo.owner.login %>/<%- repo.name %>'>\n      <%= t('main.repos.repo') %>\n    </a>\n    <% if (repo.homepage) { %>\n      <a href='<%- repo.homepage %>'><%= t('main.repos.site') %></a>\n    <% } %>\n  </div>\n  <a\n    data-user='<%- repo.owner.login %>'\n    data-repo='<%- repo.name %>'\n    href='#<%- repo.owner.login %>/<%- repo.name %>'>\n    <h3<% if (!repo.description) { %> class='title'<% } %>><%- repo.name %></h3>\n    <span class='deemphasize'><%- repo.description %></span>\n  </a>\n</div>\n"},loading:"<div class='loading round clearfix'>\n  <div class='loading-icon'></div>\n  <span class=\"message\"></span>\n</div>\n",meta:{button:"<div class='form-item'>\n  <label for='<%= meta.name %>'><%= meta.label %></label>\n  <% if (meta.help) { %><small class='deemphasize'><%= meta.help %></small><% } %>\n  <fieldset>\n    <button class='metafield round <%= meta.name %>' type='button' name='<%= meta.name %>' value='<%= meta.value %>' data-on='<%= meta.on %>' data-off='<%= meta.off %>'>\n      <% print(value ? meta.on : meta.off); %>\n    </button>\n  </fieldset>\n</div>\n",checkbox:"<div class='form-item'>\n  <fieldset>\n    <input class='metafield' type='checkbox' name='<%= meta.name %>' value='<%= meta.value %>'<% print(meta.checked ? 'checked' : '') %> />\n    <label class='aside' for='<%= meta.name %>'><%= meta.label %></label>\n  </fieldset>\n  <% if (meta.help) { %><small class='deemphasize'><%= meta.help %></small><% } %>\n</div>\n",multiselect:"<div class='form-item'>\n  <label for='<%= meta.name %>'><%= meta.label %></label>\n  <% if (meta.help) { %><small class='deemphasize'><%= meta.help %></small><% } %>\n\n  <fieldset>\n    <select id='<%= meta.name %>' name='<%= meta.name %>' data-placeholder='<%= meta.placeholder %>' multiple class='metafield chzn-select'>\n      <% _(meta.options).each(function(o) { %>\n        <% if (!o.lang || o.lang === meta.lang) { %>\n          <% if (o.name) { %>\n           <option value='<%= o.value %>'><%= o.name %></option>\n          <% } else if (o.value) { %>\n           <option value='<%= o.value %>'><%= o.value %></option>\n          <% } else { %>\n           <option value='<%= o %>'><%= o %></option>\n          <% } %>\n        <% } %>\n      <% }); %>\n    </select>\n  </fieldset>\n\n  <% if (meta.alterable) { %>\n    <div class='create'>\n      <input type='text' class='inline' data-select='<%= meta.name %>' />\n      <a href='#' class='round create-select inline button' data-select='<%= meta.name %>' title=\"<%= t('main.file.createMeta') %>\"><%= t('main.file.createMeta') %></a>\n    </div>\n  <% } %>\n</div>\n",raw:"<div class='form-item'>\n  <label for='raw'><%= t('main.file.rawMeta') %></label>\n  <% if (meta.help) { %><small><%= meta.help %></small><% } %>\n  <fieldset>\n    <div name='raw' id='raw' class='metafield inner'></div>\n  </fieldset>\n</div>\n",select:"<div class='form-item'>\n  <label for='<%= meta.name %>'><%= meta.label %></label>\n  <% if (meta.help) { %><small class='deemphasize'><%= meta.help %></small><% } %>\n\n  <fieldset>\n    <select name='<%= meta.name %>' data-placeholder='<%= meta.placeholder %>' class='metafield chzn-select'>\n      <% _(meta.options).each(function(o) { %>\n        <% if (!o.lang || o.lang === meta.lang) { %>\n          <% if (o.name) { %>\n           <option value='<%= o.value %>'><%= o.name %></option>\n          <% } else if (o.value) { %>\n           <option value='<%= o.value %>'><%= o.value %></option>\n          <% } else { %>\n           <option value='<%= o %>'><%= o %></option>\n          <% } %>\n        <% } %>\n      <% }); %>\n    </select>\n  </fieldset>\n</div>\n",text:"<div class='form-item'>\n  <label for='<%= meta.name %>'><%= meta.label %></label>\n  <% if (meta.help) { %><small class='deemphasize'><%= meta.help %></small><% } %>\n  <fieldset>\n    <input class='metafield' type='text' name='<%= meta.name %>' value='<%= meta.value %>' data-type='<%= meta.type %>' placeholder='<%= meta.placeholder %>' />\n  </fieldset>\n</div>\n",textarea:"<div class='form-item yaml-block'>\n  <label for='<%= meta.name %>'><%= meta.label %></label>\n  <% if (meta.help) { %><small class='deemphasize'><%= meta.help %></small><% } %>\n  <fieldset>\n    <textarea class='metafield' id='<%= meta.id %>' type='text' name='<%= meta.name %>' data-type='<%= meta.type %>' placeholder='<%= meta.placeholder %>'><%= meta.value %></textarea>\n  </fieldset>\n</div>\n"},metadata:"<div class='form'></div>\n<a href='#' class='button round finish'><%= t('main.file.back') %></a>\n",modal:"<div class='modal-content round'>\n  <div class='modal-heading inner'>\n    <%= t('modal.errorHeading') %>\n  </div>\n  <div class='prose inner'>\n    <p><%= modal.message %></p>\n  </div>\n  <div class='modal-footer inner'>\n    <a href='#' class='button round got-it'><%= t('modal.confirm') %></a>\n  </div>\n</div>\n",nav:"<ul class='mobile nav clearfix'>\n  <li>\n    <a href='#' class='toggle ico menu round'></a>\n  </li>\n</ul>\n\n<ul class='file nav clearfix'>\n  <li>\n    <a href='#' title=\"<%= t('navigation.edit') %>\" class='ico round pencil edit' data-state='edit'>\n      <span class='popup round arrow-right'><%= t('navigation.edit') %></span>\n    </a>\n  </li>\n\n  <li>\n    <a href='#' title=\"<%= t('navigation.preview') %>\" class='ico round eye blob preview' data-state='blob'>\n      <span class='popup round arrow-right'><%= t('navigation.preview') %></span>\n    </a>\n  </li>\n\n  <li>\n    <a href='#' title=\"<%= t('navigation.meta') %>\" class='ico round metadata meta' data-state='meta'>\n      <span class='popup round arrow-right'><%= t('navigation.meta') %></span>\n    </a>\n  </li>\n\n  <li>\n    <a href='#' title=\"<%= t('navigation.settings') %>\" class='ico round sprocket settings' data-state='settings' data-drawer=true>\n      <span class='popup round arrow-right'><%= t('navigation.settings') %></span>\n    </a>\n  </li>\n\n  <li>\n    <a href='#' title=\"<%= t('navigation.save') %>\" class='ico round save' data-state='save'>\n      <div class='status'></div>\n      <span class='popup round arrow-right'>\n        <%= t('navigation.save') %>\n      </span>\n    </a>\n  </li>\n</ul>\n\n<ul class='auth nav clearfix'>\n  <li>\n    <a class='ico round switch login' href='<%= data.login %>' title=\"<%= t('login') %>\">\n      <span class='popup round arrow-right'><%= t('login') %></span>\n    </a>\n  </li>\n</ul>\n",notification:"<div class='notify'>\n  <h2 class='icon landing error'>Prose</h2>\n  <div class='inner'>\n    <p><%= data.message %></p>\n    <p class='error'><%= data.error %></p>\n\n    <% _(data.options).each(function(options) { %>\n    <div>\n      <a class='button round <% if(options.className) { %><%= options.className %><% } %>' href='<%= options.link %>'><%= options.title %></a>\n    </div>\n    <% }); %>\n  </div>\n</div>\n",profile:"<header id='heading' class='heading limiter clearfix'></header>\n\n<div id='content' class='application content limiter'>\n  <div class='topbar'>\n    <div id='search' class='content-search round'></div>\n  </div>\n  <ul id='repos' class='projects listing'></ul>\n</div>\n",repo:"<header id='heading' class='heading limiter clearfix'></header>\n\n<div id='content' class='application content limiter'>\n  <div class='topbar clearfix'>\n    <!-- if repo and authenticated -->\n    <!-- #user/repo/new/branch/path -->\n    <div id='search' class='fl content-search round'></div>\n    <a href='#' class='fl button round new new-file' data-state='new'>\n      <%= t('navigation.newFile') %>\n    </a>\n  </div>\n\n  <div id='files'></div>\n</div>\n",search:"<span class='ico search'></span>\n<input type='text' id='filter' placeholder=\"<%= search.placeholder %>\" />\n",sidebar:{branches:"<div class='inner'>\n  <h2 class='label'><%= t('sidebar.repo.branch') %></h2>\n  <select class='chzn-select'></select>\n</div>\n",drafts:"<a class='button round' href='#<%= link %>'><%= t('sidebar.repo.drafts') %></a>\n",label:"<div class='inner'>\n  <h2 class='label inner'><%= label %></h2>\n</div>\n",li:{commit:"<a class='<%= data.status %>' href='#<%= [data.repo.owner.login, data.repo.name, data.mode, data.branch, data.path].join(\"/\") %>'>\n  <span class='ico small inline <%= data.status %>'></span>\n  <span class='message'><%= data.file.filename %></span>\n</a>\n"},orgs:"<div class='inner'>\n  <h2 class='label'><%= t('sidebar.repos.groups') %></h2>\n</div>\n<ul class='listing'>\n  <li>\n    <a href='#<%= orgs.login.user %>' title='<%= orgs.login.user %>' data-id='<%= orgs.login.id %>'>\n      <%= orgs.login.user %>\n    </a>\n  </li>\n  <% orgs.orgs.each(function(org) {  %>\n  <li>\n    <a href='#<%= org.login %>' title='<%= org.login %>' data-id='<%= org.id %>'>\n      <%= org.login %>\n    </a>\n  </li>\n  <% }); %>\n</ul>\n",save:"<div class='inner'>\n  <h2 class='label'><%= t('sidebar.save.label') %></h2>\n</div>\n<div class='inner authoring'>\n  <div class='commit'>\n    <textarea class='commit-message' placeholder></textarea>\n    <a class='ico small cancel round' title=\"<%= t('sidebar.save.cancel') %>\" href='#' data-action='cancel'>\n      <span class='popup round arrow-bottom'><%= t('sidebar.save.cancel') %></span>\n    </a>\n  </div>\n  <a class='confirm button round' href='#' data-action='confirm'><%= writable %></a>\n</div>\n",settings:"<div class='inner'>\n  <h2 class='label'><%= t('sidebar.settings.title') %></h2>\n</div>\n<div class='inner authoring'>\n  <% if (/^_posts/.test(settings.path)) { %>\n    <a class='draft button round' href='#' data-action='draft'><%= t('sidebar.settings.draft') %></a>\n  <% } %>\n  \n  <% if (settings.languages && settings.lang !== 'yaml') { %>\n    <% _.each(settings.languages, function(l) { %>\n      <% if (l.value && (settings.metadata && (settings.metadata.lang !== l.value))) { %>\n        <a class='translate round button' href='#<%= l.value %>' data-action='translate'><%= t('sidebar.settings.translate') + ' ' + l.name %></a>\n      <% } %>\n    <% }); %>\n  <% } %>\n\n  <!-- if !isNew() and is writable -->\n  <a class='delete button round' href='#' data-action='destroy'><%= t('sidebar.settings.delete') %></a>\n</div>\n\n<% if (settings.fileInput) { %>\n  <div class='inner'>\n    <h2 class='label'><%= t('sidebar.settings.fileInputLabel') %></h2>\n    <input type='text' class='filepath' placeholder='<%= settings.path %>' value='<%= settings.path %>'>\n  </div>\n<% } %>\n"},start:"<div class='round splash'>\n  <h2 class='icon landing'>Prose</h2>\n  <div class='inner'>\n    <p><%= t('main.start.content') %></p>\n    <p><a href='#about'><%= t('main.start.learn') %></a></p>\n    <a class='round button' href='<%= auth.site %>/login/oauth/authorize?client_id=<%= auth.id %>&scope=repo'><%= t('login') %></a>\n  </div>\n</div>\n",toolbar:"<% if (toolbar.draft) { %>\n  <a href='#' class='draft-to-post round contain'>\n    <%= t('actions.draft.toPost') %><span class='ico small checkmark'></span>\n    <span class='popup round arrow-top'><%= t('actions.draft.toPostInfo') %></span>\n  </a>\n<% } else { %>\n  <% if (toolbar.metadata && toolbar.metadata.published) { %>\n    <a href='#' class='publish-flag published round contain' data-state='true'>\n      <%= t('actions.publishing.published') %><span class='ico small checkmark'></span>\n    </a>\n  <% } else if (toolbar.metadata && !toolbar.metadata.published) { %>\n    <a href='#' class='publish-flag round contain' data-state='false'>\n      <%= t('actions.publishing.unpublished') %><span class='ico small checkmark'></span>\n    </a>\n  <% } %>\n<% } %>\n\n<% if (toolbar.markdown) { %>\n<div class='options clearfix'>\n  <ul class='group round clearfix'>\n    <li><a href='#' title=\"<%= t('toolbar.heading') %>\" data-key='heading' data-snippet='<% print(\"##\\n\\n\") %>'>h2</a></li>\n    <li><a href='#' title=\"<%= t('toolbar.subHeading') %>\" data-key='sub-heading' data-snippet='<% print(\"###\\n\\n\") %>'>h3</a></li>\n  </ul>\n  <ul class='group round clearfix'>\n    <li>\n      <a title=\"<%= t('toolbar.link') %>\" href='#' data-key='link' data-snippet=false data-dialog=true>\n        <span class='ico small link'></span>\n      </a>\n    </li>\n    <li>\n      <a title=\"<%= t('toolbar.image') %>\" href='#' data-key='media' data-snippet=false data-dialog=true>\n        <span class='ico small picture'></span>\n      </a>\n    </li>\n  </ul>\n  <ul class='group round clearfix'>\n    <li><a href='#' title=\"<%= t('toolbar.bold') %>\" data-key='bold' data-snippet='****'>B</a></li>\n    <li>\n      <a data-key='italic' href='#' title=\"<%= t('toolbar.italic') %>\" data-snippet='__'>\n        <span class='ico small italic'></span>\n      </a>\n    </li>\n  </ul>\n  <ul class='group round clearfix'>\n    <li>\n      <a title=\"<%= t('toolbar.blockquote') %>\"  href='#' data-key='quote' data-snippet='<% print(\"> We loved with a love that was more than love\\n\\n\"); %>'>\n        <span class='ico small quote'></span>\n      </a>\n    </li>\n    <li>\n      <a href='#' title=\"<%= t('toolbar.list') %>\" data-key='list' data-snippet='<% print(\"- item\\n- item\\n- item\\n\\n\"); %>'>\n        <span class='ico small list'></span>\n      </a>\n    </li>\n    <li>\n      <a href='#' title=\"<%= t('toolbar.numberedlist') %>\" data-key='numbered-list' data-snippet='<% print(\"1. item\\n2. item\\n3. item\\n\\n\"); %>'>\n        <span class='ico small numbered-list'></span>\n      </a>\n    </li>\n  </ul>\n  <ul class='group round clearfix'>\n    <li>\n    <a class='round' title=\"<%= t('toolbar.help') %>\" href='#' data-key='help' data-snippet=false data-dialog=true>\n        <span class='ico small question'></span>\n      </a>\n    </li>\n  </ul>\n</div>\n<% } %>\n<div id='dialog'></div>\n"}
},{}],5:[function(e,n){var r=(e("jquery-browserify"),e("underscore")),i=e("backbone"),a=e("./models/user"),o=e("./collections/users"),s=(e("./collections/orgs"),e("./models/repo")),l=(e("./models/file"),e("./views/app")),c=e("./views/notification"),u=e("./views/start"),h=e("./views/profile"),d=e("./views/search"),f=e("./views/repos"),p=e("./views/repo"),m=e("./views/file"),g=e("./views/documentation"),v=e("./views/chooselanguage"),y=(e("../dist/templates"),e("./util"));n.exports=i.Router.extend({routes:{"about(/)":"about","chooselanguage(/)":"chooseLanguage",":user(/)":"profile",":user/:repo(/)":"repo",":user/:repo/*path(/)":"path","*default":"start"},initialize:function(e){e=r.clone(e)||{},this.users=new o,e.user&&(this.user=e.user,this.users.add(this.user)),this.app=new l({el:"#prose",model:{},user:this.user}),this.app.render(),this.app.loader.done()},chooseLanguage:function(){this.view&&this.view.remove(),this.app.loader.start(t("loading.file")),this.app.nav.mode(""),this.view=new v,this.app.$el.find("#main").html(this.view.render().el),this.app.loader.done()},about:function(){this.view&&this.view.remove(),this.app.loader.start(t("loading.file")),this.app.nav.mode(""),this.view=new g,this.app.$el.find("#main").html(this.view.render().el),this.app.loader.done()},profile:function(e){this.view&&this.view.remove(),this.app.loader.start(t("loading.repos")),this.app.nav.mode("repos"),y.documentTitle(e);var n=this.users.findWhere({login:e});r.isUndefined(n)&&(n=new a({login:e}),this.users.add(n));var i=new d({model:n.repos,mode:"repos"}),o=new f({model:n.repos,search:i}),s=new h({auth:this.user,search:i,sidebar:this.app.sidebar,repos:o,router:this,user:n});n.fetch({success:function(e){this.view=s,this.app.$el.find("#main").html(this.view.render().el),e.repos.fetch({success:o.render,error:function(e,t){this.error(t)}.bind(this),complete:this.app.loader.done})}.bind(this),error:function(e,t){this.error(t)}.bind(this)})},repo:function(e,n,i,o){if(this.view instanceof p&&this.view.model.get("owner").login===e&&this.view.model.get("name")===n&&(this.view.branch===i||r.isUndefined(i)&&this.view.branch===this.view.model.get("default_branch")))return this.view.files.path=o||"",this.view.files.render();this.view&&this.view.remove(),this.app.loader.start(t("loading.repo")),this.app.nav.mode("repo");var l=n;i&&(l=n+": /"+o+" at "+i),y.documentTitle(l);var c=this.users.findWhere({login:e});r.isUndefined(c)&&(c=new a({login:e}),this.users.add(c));var u=c.repos.findWhere({name:n});r.isUndefined(u)&&(u=new s({name:n,owner:{login:e}}),c.repos.add(u)),u.fetch({success:function(){var e=new p({app:this.app,branch:i,model:u,nav:this.app.nav,path:o,router:this,sidebar:this.app.sidebar});this.view=e,this.app.$el.find("#main").html(this.view.render().el)}.bind(this),error:function(e,t){this.error(t)}.bind(this),complete:this.app.loader.done})},path:function(e,t,n){var r=y.extractURL(n);switch(r.mode){case"tree":this.repo(e,t,r.branch,r.path);break;case"new":case"blob":case"edit":case"preview":this.post(e,t,r.mode,r.branch,r.path);break;default:throw r.mode}},post:function(e,n,i,o,l){switch(this.view&&this.view.remove(),this.app.nav.mode("file"),i){case"new":this.app.loader.start(t("loading.creating"));break;case"edit":this.app.loader.start(t("loading.file"));break;case"preview":this.app.loader.start(t("loading.preview"))}var c=this.users.findWhere({login:e});r.isUndefined(c)&&(c=new a({login:e}),this.users.add(c));var u=c.repos.findWhere({name:n});r.isUndefined(u)&&(u=new s({name:n,owner:{login:e}}),c.repos.add(u));var h={app:this.app,branch:o,branches:u.branches,mode:i,nav:this.app.nav,name:y.extractFilename(l)[1],path:l,repo:u,router:this,sidebar:this.app.sidebar};c.fetch({success:function(){u.fetch({success:function(){this.view=new m(h),this.app.$el.find("#main").html(this.view.el)}.bind(this),error:function(e,t){this.error(t)}.bind(this),complete:this.app.loader.done})}.bind(this),error:function(e,t){this.error(t)}.bind(this)})},preview:function(e,n,i,o,l){this.view&&this.view.remove(),this.app.loader.start(t("loading.preview"));var c=this.users.findWhere({login:e});r.isUndefined(c)&&(c=new a({login:e}),this.users.add(c));var u=c.repos.findWhere({name:n});r.isUndefined(u)&&(u=new s({name:n,owner:{login:e}}),c.repos.add(u));var h={branch:o,branches:u.branches,mode:i,nav:this.app.nav,name:y.extractFilename(l)[1],path:l,repo:u,router:this,sidebar:this.app.sidebar};u.fetch({success:function(){this.view=new Preview(h),this.app.$el.find("#main").html(this.view.el)}.bind(this),error:function(e,t){this.error(t)}.bind(this),complete:this.app.loader.done})},start:function(){this.view&&this.view.remove(),this.user?router.navigate(this.user.get("login"),{trigger:!0,replace:!0}):(this.app.nav.mode("start"),this.view=new u,this.app.$el.find("#main").html(this.view.render().el))},notify:function(e,t,n){this.view&&this.view.remove(),this.view=new c({message:e,error:t,options:n}),this.app.$el.find("#main").html(this.view.render().el),this.app.loader.stop()},error:function(e){var n=[e.status,e.statusText].join(" "),r=y.xhrErrorMessage(e),i=[{title:t("notification.home"),link:"/"}];this.notify(n,r,i)}})},{"./models/user":6,"./collections/users":15,"./collections/orgs":16,"./models/repo":17,"./models/file":18,"./views/app":19,"./views/notification":7,"./views/start":20,"./views/profile":21,"./views/search":22,"./views/repos":23,"./views/repo":24,"./views/file":25,"./views/documentation":26,"./views/chooselanguage":27,"../dist/templates":14,"./util":28,"jquery-browserify":10,underscore:11,backbone:12}],9:[function(e,t){var n=e("./config"),r=e("jquery-browserify");t.exports={githubApi:function(e){r.ajax({type:"GET",url:n.apiStatus+"?callback=?",dataType:"jsonp",success:function(t){return e(t)}})}}},{"./config":8,"jquery-browserify":10}],29:[function(e,t){t.exports=function(){Liquid.readTemplateFile=function(e){var t=this.collection.findWhere({path:"_includes/"+e});if(t)return t.getContentSync().responseText;throw"File Not Found:"+e}.bind(this),Liquid.Template.registerTag("include",Liquid.Tag.extend({paramSyntax:/([\w-]+)\s*=\s*(?:"([^"\\]*(?:\\.[^"\\]*)*)"|'([^'\\]*(?:\\.[^'\\]*)*)'|([\w\.-]+))/,init:function(e,t,n){var r=(t||"").strip().split(/\s+(.+)?/);if(!r)throw"Error in tag 'include "+t+"' - Valid syntax: {% include file.ext param='value' param2='value' %}";this.templateName=r[0],this.rawParams=r[1],this._super(e,t,n)},render:function(e){var t=this.retrieve_variable(this.templateName,e)||this.templateName,n=Liquid.readTemplateFile(t),r=Liquid.parse(n),i=this.parseParams(this.rawParams,e);e.set("include",i);var a=r.render(e);return a=[a].flatten().join("")},retrieve_variable:function(e,t){var n=e.match(/\{\{([\w\-\.]+)\}\}/);if(n){var r=t.get(n[1]);if(r)return r;throw"No variable "+n[1]+"was found in include tag"}},parseParams:function(e,t){for(var n,r={},i=e||"";n=i.match(this.paramSyntax);){i=i.substr(n[0].length);var a;n[2]?a=n[2].replace(/\\"/g,'"'):n[3]?a=n[3].replace(/\\'/g,"'"):n[4]&&(a=t.get(n[4])),r[n[1]]=a}return r}})),Liquid.Block.prototype.renderAll=function(e,t){return(e||[]).map(function(e){var n="";try{n=e.render?e.render(t):e}catch(r){console.log(t.handleError(r))}return n})},Liquid.Template.registerTag("highlight",Liquid.Block.extend({tagSyntax:/(\w+)/,init:function(e,t,n){var r=t.match(this.tagSyntax);if(!r)throw"Syntax error in 'highlight' - Valid syntax: hightlight [language]";this.to=r[1],this._super(e,t,n)},render:function(e){var t=this._super(e);return"<pre>"+t[0]+"</pre>"}})),Liquid.Template.registerTag("unless",Liquid.Template.tags["if"].extend({render:function(e){var t=this,n="";return e.stack(function(){var r=t.blocks[0];if(!r.evaluate(e))return n=t.renderAll(r.attachment,e),void 0;for(var i=1;i<t.blocks.length;i++){var r=t.blocks[i];if(r.evaluate(e))return n=t.renderAll(r.attachment,e),void 0}}),[n].flatten().join("")}})),Liquid.Block.prototype.unknownTag=function(e){switch(e){case"else":console.log(this.blockName+" tag does not expect else tag");break;case"end":console.log("'end' is not a valid delimiter for "+this.blockName+" tags. use "+this.blockDelimiter);break;default:console.log("Unknown tag: "+e)}},Liquid.Condition.operators.contains=function(e,t){return"object"==typeof e?e.include(t):-1!==e.indexOf(t)},Liquid.Template.registerFilter({replace:function(e,t,n){return n=n||"",e.toString().split(t).join(n)},replace_first:function(e,t,n){return n=n||"",e.toString().replace(t,n)}})}},{}],30:[function(e,t){t.exports={dragEnter:function(e){return $(e.currentTarget).addClass("drag-over"),e.stopPropagation(),e.preventDefault(),!1},dragOver:function(e){return e.originalEvent.dataTransfer.dropEffect="copy",e.stopPropagation(),e.preventDefault(),!1},dragLeave:function(e,t){return e.removeClass("drag-over"),t.stopPropagation(),t.preventDefault(),!1},dragDrop:function(e,t){e.on("dragenter",function(e){this.dragEnter(e)}.bind(this)).on("dragover",this.dragOver),e.find("#drop").on("dragleave",function(t){this.dragLeave(e,t)}.bind(this)).on("drop",function(e){this.drop(e,t)}.bind(this))},fileSelect:function(e,t){var n=e.target.files;this.compileResult(n,t)},drop:function(e,t){e.preventDefault(),$(e.currentTarget).removeClass("drag-over"),e=e.originalEvent;var n=e.dataTransfer.files;this.compileResult(n,t)},compileResult:function(e,t){for(var n,r=0;n=e[r];r++)if(/image/.test(n.type)){var i=new FileReader;i.onload=function(e){return function(n){t(n,e,n.target.result)}}(n),i.readAsBinaryString(n)}}}},{}],6:[function(e,t){{var n=e("jquery-browserify"),r=e("underscore"),i=e("backbone"),a=e("../collections/repos"),o=e("../collections/orgs"),s=(e("../views/notification"),e("../config")),l=e("../cookie");e("../../dist/templates")}t.exports=i.Model.extend({initialize:function(){this.repos=new a([],{user:this}),this.orgs=new o([],{user:this})},authenticate:function(e){var t;if(l.get("oauth-token"))r.isFunction(e.success)&&e.success();else if(t=window.location.href.match(/\?code=([a-z0-9]*)/)){n.ajax(s.url+"/authenticate/"+t[1],{success:function(n){l.set("oauth-token",n.token);var i=new RegExp("(?:\\/)?\\?code="+t[1]);window.location.href=window.location.href.replace(i,""),r.isFunction(e.success)&&e.success()}})}else r.isFunction(e.error)&&e.error()},url:function(){var e=l.get("id"),t=l.get("oauth-token");return s.api+(t&&r.isUndefined(e)||e&&this.get("id")===e?"/user":"/users/"+this.get("login"))}})},{"../collections/repos":31,"../collections/orgs":16,"../views/notification":7,"../config":8,"../cookie":3,"../../dist/templates":14,"jquery-browserify":10,underscore:11,backbone:12}],7:[function(e,n){var r=(e("jquery-browserify"),e("underscore")),i=e("backbone"),a=e("../../dist/templates"),o=e("../util");n.exports=i.View.extend({id:"notification",className:"notification round",template:a.notification,events:{"click .create":"createPost"},initialize:function(e){e=r.clone(e)||{},r.bindAll(this),this.message=e.message,this.error=e.error,this.options=e.options},render:function(){o.documentTitle(t("docheader.error"));var e={message:this.message,error:this.error,options:this.options};return this.$el.html(r.template(this.template,e,{variable:"data"})),this},createPost:function(){var e=window.location.hash.split("/");e[2]="new";var t=e[e.length-1].split("?");return e[e.length-1]=t[0]+"?file="+t[0],t.length>1&&(e[e.length-1]+="&"+t[1]),router.navigate(r(e).compact().join("/"),{trigger:!0}),!1}})},{"../../dist/templates":14,"../util":28,"jquery-browserify":10,underscore:11,backbone:12}],12:[function(e,t,n){!function(){(function(){var t,r=this,i=r.Backbone,a=[],o=a.push,s=a.slice,l=a.splice;t="undefined"!=typeof n?n:r.Backbone={},t.VERSION="1.0.0";var c=r._;c||"undefined"==typeof e||(c=e("underscore")),t.$=r.jQuery||r.Zepto||r.ender||r.$,t.noConflict=function(){return r.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var u=t.Events={on:function(e,t,n){if(!d(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!d(this,"once",e,[t,n])||!t)return this;var r=this,i=c.once(function(){r.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n)},off:function(e,t,n){var r,i,a,o,s,l,u,h;if(!this._events||!d(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(o=e?[e]:c.keys(this._events),s=0,l=o.length;l>s;s++)if(e=o[s],a=this._events[e]){if(this._events[e]=r=[],t||n)for(u=0,h=a.length;h>u;u++)i=a[u],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&r.push(i);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=s.call(arguments,1);if(!d(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&f(n,t),r&&f(r,arguments),this},stopListening:function(e,t,n){var r=this._listeners;if(!r)return this;var i=!t&&!n;"object"==typeof t&&(n=this),e&&((r={})[e._listenerId]=e);for(var a in r)r[a].off(t,n,this),i&&delete this._listeners[a];return this}},h=/\s+/,d=function(e,t,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(h.test(n)){for(var a=n.split(h),o=0,s=a.length;s>o;o++)e[t].apply(e,[a[o]].concat(r));return!1}return!0},f=function(e,t){var n,r=-1,i=e.length,a=t[0],o=t[1],s=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a,o);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a,o,s);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t)}},p={listenTo:"on",listenToOnce:"once"};c.each(p,function(e,t){u[t]=function(t,n,r){var i=this._listeners||(this._listeners={}),a=t._listenerId||(t._listenerId=c.uniqueId("l"));return i[a]=t,"object"==typeof n&&(r=this),t[e](n,r,this),this}}),u.bind=u.on,u.unbind=u.off,c.extend(t,u);var m=t.Model=function(e,t){var n,r=e||{};t||(t={}),this.cid=c.uniqueId("c"),this.attributes={},c.extend(this,c.pick(t,g)),t.parse&&(r=this.parse(r,t)||{}),(n=c.result(this,"defaults"))&&(r=c.defaults({},r,n)),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)},g=["url","urlRoot","collection"];c.extend(m.prototype,u,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return c.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return c.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var r,i,a,o,s,l,u,h;if(null==e)return this;if("object"==typeof e?(i=e,n=t):(i={})[e]=t,n||(n={}),!this._validate(i,n))return!1;a=n.unset,s=n.silent,o=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=c.clone(this.attributes),this.changed={}),h=this.attributes,u=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]);for(r in i)t=i[r],c.isEqual(h[r],t)||o.push(r),c.isEqual(u[r],t)?delete this.changed[r]:this.changed[r]=t,a?delete h[r]:h[r]=t;if(!s){o.length&&(this._pending=!0);for(var d=0,f=o.length;f>d;d++)this.trigger("change:"+o[d],this,h[o[d]],n)}if(l)return this;if(!s)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,c.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,c.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!c.isEmpty(this.changed):c.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?c.clone(this.changed):!1;var t,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var i in e)c.isEqual(r[i],t=e[i])||((n||(n={}))[i]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(e){e=e?c.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r){return t.set(t.parse(r,e),e)?(n&&n(t,r,e),t.trigger("sync",t,r,e),void 0):!1},H(this,e),this.sync("read",this,e)},save:function(e,t,n){var r,i,a,o=this.attributes;if(null==e||"object"==typeof e?(r=e,n=t):(r={})[e]=t,!(!r||n&&n.wait||this.set(r,n)))return!1;if(n=c.extend({validate:!0},n),!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=c.extend({},o,r)),void 0===n.parse&&(n.parse=!0);var s=this,l=n.success;return n.success=function(e){s.attributes=o;var t=s.parse(e,n);return n.wait&&(t=c.extend(r||{},t)),c.isObject(t)&&!s.set(t,n)?!1:(l&&l(s,e,n),s.trigger("sync",s,e,n),void 0)},H(this,n),i=this.isNew()?"create":n.patch?"patch":"update","patch"===i&&(n.attrs=r),a=this.sync(i,this,n),r&&n.wait&&(this.attributes=o),a},destroy:function(e){e=e?c.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(i){(e.wait||t.isNew())&&r(),n&&n(t,i,e),t.isNew()||t.trigger("sync",t,i,e)},this.isNew())return e.success(),!1;H(this,e);var i=this.sync("delete",this,e);return e.wait||r(),i},url:function(){var e=c.result(this,"urlRoot")||c.result(this.collection,"url")||q();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},c.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=c.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,c.extend(t||{},{validationError:n})),!1):!0}});var v=["keys","values","pairs","invert","pick","omit"];c.each(v,function(e){m.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.attributes),c[e].apply(c,t)}});var y=t.Collection=function(e,t){t||(t={}),t.url&&(this.url=t.url),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,c.extend({silent:!0},t))},b={add:!0,remove:!0,merge:!0},w={add:!0,merge:!1,remove:!1};c.extend(y.prototype,u,{model:m,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,c.defaults(t||{},w))},remove:function(e,t){e=c.isArray(e)?e.slice():[e],t||(t={});var n,r,i,a;for(n=0,r=e.length;r>n;n++)a=this.get(e[n]),a&&(delete this._byId[a.id],delete this._byId[a.cid],i=this.indexOf(a),this.models.splice(i,1),this.length--,t.silent||(t.index=i,a.trigger("remove",a,this,t)),this._removeReference(a));return this},set:function(e,t){t=c.defaults(t||{},b),t.parse&&(e=this.parse(e,t)),c.isArray(e)||(e=e?[e]:[]);var n,r,i,a,s,u=t.at,h=this.comparator&&null==u&&t.sort!==!1,d=c.isString(this.comparator)?this.comparator:null,f=[],p=[],m={};for(n=0,r=e.length;r>n;n++)(i=this._prepareModel(e[n],t))&&((a=this.get(i))?(t.remove&&(m[a.cid]=!0),t.merge&&(a.set(i.attributes,t),h&&!s&&a.hasChanged(d)&&(s=!0))):t.add&&(f.push(i),i.on("all",this._onModelEvent,this),this._byId[i.cid]=i,null!=i.id&&(this._byId[i.id]=i)));if(t.remove){for(n=0,r=this.length;r>n;++n)m[(i=this.models[n]).cid]||p.push(i);p.length&&this.remove(p,t)}if(f.length&&(h&&(s=!0),this.length+=f.length,null!=u?l.apply(this.models,[u,0].concat(f)):o.apply(this.models,f)),s&&this.sort({silent:!0}),t.silent)return this;for(n=0,r=f.length;r>n;n++)(i=f[n]).trigger("add",i,this,t);return s&&this.trigger("sort",this,t),this},reset:function(e,t){t||(t={});for(var n=0,r=this.models.length;r>n;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),this.add(e,c.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,c.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,c.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e.cid||e]},at:function(e){return this.models[e]},where:function(e,t){return c.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),c.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(c.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},sortedIndex:function(e,t,n){t||(t=this.comparator);var r=c.isFunction(t)?t:function(e){return e.get(t)};return c.sortedIndex(this.models,e,r,n)},pluck:function(e){return c.invoke(this.models,"get",e)},fetch:function(e){e=e?c.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(r){var i=e.reset?"reset":"set";n[i](r,e),t&&t(n,r,e),n.trigger("sync",n,r,e)},H(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?c.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,r=t.success;return t.success=function(i){t.wait&&n.add(e,t),r&&r(e,i,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof m)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:(this.trigger("invalid",this,e,t),!1)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var x=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];c.each(x,function(e){y.prototype[e]=function(){var t=s.call(arguments);return t.unshift(this.models),c[e].apply(c,t)}});var k=["groupBy","countBy","sortBy"];c.each(k,function(e){y.prototype[e]=function(t,n){var r=c.isFunction(t)?t:function(e){return e.get(t)};return c[e](this.models,r,n)}});var S=t.View=function(e){this.cid=c.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},_=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];c.extend(S.prototype,u,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=c.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(c.isFunction(n)||(n=this[e[t]]),n){var r=t.match(_),i=r[1],a=r[2];n=c.bind(n,this),i+=".delegateEvents"+this.cid,""===a?this.$el.on(i,n):this.$el.on(i,a,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(e){this.options&&(e=c.extend({},c.result(this,"options"),e)),c.extend(this,c.pick(e,C)),this.options=e},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"),!1);else{var e=c.extend({},c.result(this,"attributes"));this.id&&(e.id=c.result(this,"id")),this.className&&(e["class"]=c.result(this,"className"));var n=t.$("<"+c.result(this,"tagName")+">").attr(e);this.setElement(n,!1)}}}),t.sync=function(e,n,r){var i=T[e];c.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var a={type:i,dataType:"json"};if(r.url||(a.url=c.result(n,"url")||q()),null!=r.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(a.contentType="application/json",a.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),r.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){a.type="POST",r.emulateJSON&&(a.data._method=i);var o=r.beforeSend;r.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",i),o?o.apply(this,arguments):void 0}}"GET"===a.type||r.emulateJSON||(a.processData=!1),"PATCH"!==a.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var s=r.xhr=t.ajax(c.extend(a,r));return n.trigger("request",n,s,r),s};var T={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var E=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},L=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,M=/\*\w+/g,N=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(E.prototype,u,{initialize:function(){},route:function(e,n,r){c.isRegExp(e)||(e=this._routeToRegExp(e)),c.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var i=this;return t.history.route(e,function(a){var o=i._extractParameters(e,a);r&&r.apply(i,o),i.trigger.apply(i,["route:"+n].concat(o)),i.trigger("route",n,o),t.history.trigger("route",i,n,o)}),this},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var e,t=c.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(N,"\\$&").replace(L,"(?:$1)?").replace(A,function(e,t){return t?e:"([^/]+)"}).replace(M,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return c.map(n,function(e){return e?decodeURIComponent(e):null})}});var j=t.History=function(){this.handlers=[],c.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},D=/^[#\/]|\s+$/g,I=/^\/+|\/+$/g,O=/msie [\w.]+/,F=/\/$/;j.started=!1,c.extend(j.prototype,u,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(F,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(D,"")},start:function(e){if(j.started)throw new Error("Backbone.history has already been started");j.started=!0,this.options=c.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),r=document.documentMode,i=O.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);this.root=("/"+this.root+"/").replace(I,"/"),i&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var a=this.location,o=a.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!o?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&o&&a.hash&&(this.fragment=this.getHash().replace(D,""),this.history.replaceState({},document.title,this.root+this.fragment+a.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),j.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=c.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return n},navigate:function(e,t){if(!j.started)return!1;if(t&&t!==!0||(t={trigger:t}),e=this.getFragment(e||""),this.fragment!==e){this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new j;var P=function(e,t){var n,r=this;n=e&&c.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},c.extend(n,r,t);var i=function(){this.constructor=n};return i.prototype=r.prototype,n.prototype=new i,e&&c.extend(n.prototype,e),n.__super__=r.prototype,n};m.extend=y.extend=E.extend=S.extend=j.extend=P;var q=function(){throw new Error('A "url" property or function must be specified')},H=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}}}).call(this)}()},{underscore:11}],28:[function(e,n){{var r=e("jquery-browserify"),i=e("underscore");e("../dist/templates"),e("chrono")}n.exports={stringToUrl:function(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/-*$/,"")},extractDate:function(e){var t=e.match(/^\d{4}-\d{2}-\d{2}/);return t?t[0]:""},extractFilename:function(e){var t=/\//;if(!t.test(e))return["",e];var n=e.match(/(.*)\/(.*)$/);return[n[1],n[2]]},validPathname:function(e){var t=/^([a-zA-Z0-9_\-]|\.)+$/;return i.all(e.split("/"),function(e){return!!t.test(e)})},parentPath:function(e){return e.replace(/\/?[a-zA-Z0-9_\-]*$/,"")},extractURL:function(e){return e=e.split("/"),{mode:e[0],branch:e[1],path:(e.slice(2)||[]).join("/")}},mode:function(e){return this.isMarkdown(e)?"gfm":i.include(["js","json"],e)?"javascript":"html"===e?"htmlmixed":"rb"===e?"ruby":/(yml|yaml)/.test(e)?"yaml":i.include(["java","c","cpp","cs","php"],e)?"clike":e},hasMetadata:function(e){var t=/^(---\n)((.|\n)*?)\n---\n?/;return e=e.replace(/\r\n/g,"\n"),t.test(e)},extension:function(e){var t=e.match(/\.(\w+)$/);return t?t[1]:null},draft:function(e){return"_drafts"===e.split("/")[0]?!0:!1},markdown:function(e){var t=new RegExp(/.(md|mkdn?|mdown|markdown)$/);return!!t.test(e)},chunkedPath:function(e){var t=e.split("/");return i.map(t,function(e,n){for(var r=[],i=0;n>=i;i++)r.push(t[i]);return{url:r.join("/"),name:e}})},isBinary:function(e){var t=new RegExp(".(jpeg|jpg|gif|png|ico|eot|ttf|woff|otf|zip|swf|mov|dbf|index|prj|shp|shx|DS_Store|crx|glyphs)$","i");return!!t.test(e)},isMarkdown:function(e){var t=new RegExp("^(md|mkdn?|mdown|markdown)$","i");return!!t.test(e)},isMedia:function(e){var t=new RegExp("^(jpeg|jpg|gif|png|swf|mov)$","i");return!!t.test(e)},isImage:function(e){var t=new RegExp("^(jpeg|jpg|gif|png|svg*)$","i");return!!t.test(e)},absolutePath:function(e){return/^https?:\/\//i.test(e)
},filepath:function(e,t){return(e?e+"/":"")+t},filename:function(e){return e.replace(/\.[^\/.]+$/,"")},trim:function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},lTrim:function(e){return e.replace(/^\s\s*/,"")},documentTitle:function(e){document.title=e+" · Prose"},fixedScroll:function(e,t){r(window).scroll(function(){var n=r(this).scrollTop();n>=t?e.addClass("fixed"):e.removeClass("fixed")})},pageListing:function(e){function t(e){var t=e.offset().top,n=r(window).height();return t>n?!1:!0}if(r(".item").hasClass("active")){var n,i=parseInt(r(".item.active").data("index"),10);if(r(".item.active").removeClass("active"),"k"===e){0!==i&&--i;{var a=r(".item[data-index="+i+"]");a.offset().top+a.height()}t(a)?r("html, body").animate({scrollTop:0},0):(n=a.height(),r("html, body").animate({scrollTop:a.offset().top+(a.height()-n)},0)),a.addClass("active")}else{i<r("#content li").length-1&&++i;{var o=r(".item[data-index="+i+"]");o.offset().top+o.height()}n=o.height(),t(o)||r("html, body").animate({scrollTop:o.offset().top+(o.height()-n)},0),o.addClass("active")}}else r(".item[data-index=0]").addClass("active")},goToFile:function(){var e=r(".item.active").data("navigate");return e&&router.navigate(e,!0),!1},parseLinkHeader:function(e,t){t=i.clone(t)||{};var n=e.getResponseHeader("link");if(n){var a=n.split(","),o={};i.each(a,function(e){var t=e.split(";"),n=t[0].replace(/<(.*)>/,"$1").trim(),r=t[1].replace(/rel="(.*)"/,"$1").trim();o[r]=n}),o.next?r.ajax({type:"GET",url:o.next,success:t.success,error:t.error}):i.isFunction(t.complete)&&t.complete()}else i.isFunction(t.error)&&t.error()},xhrErrorMessage:function(e){try{return JSON.parse(e.responseText).message}catch(n){return t("notification.error.github")}}}},{"../dist/templates":14,underscore:11,"jquery-browserify":10,chrono:32}],33:[function(e,n){n.exports=function(){return{help:[{menuName:t("dialogs.help.blockElements.title"),content:[{menuName:t("dialogs.help.blockElements.content.paragraphs.title"),data:t("dialogs.help.blockElements.content.paragraphs.content")},{menuName:t("dialogs.help.blockElements.content.headers.title"),data:t("dialogs.help.blockElements.content.headers.content")},{menuName:t("dialogs.help.blockElements.content.blockquotes.title"),data:t("dialogs.help.blockElements.content.blockquotes.content")},{menuName:t("dialogs.help.blockElements.content.lists.title"),data:t("dialogs.help.blockElements.content.lists.content")},{menuName:t("dialogs.help.blockElements.content.codeBlocks.title"),data:t("dialogs.help.blockElements.content.codeBlocks.content")},{menuName:t("dialogs.help.blockElements.content.horizontalRules.title"),data:t("dialogs.help.blockElements.content.horizontalRules.content")}]},{menuName:t("dialogs.help.spanElements.title"),content:[{menuName:t("dialogs.help.spanElements.content.links.title"),data:t("dialogs.help.spanElements.content.links.content")},{menuName:t("dialogs.help.spanElements.content.emphasis.title"),data:t("dialogs.help.spanElements.content.emphasis.content")},{menuName:t("dialogs.help.spanElements.content.code.title"),data:t("dialogs.help.spanElements.content.code.content")},{menuName:t("dialogs.help.spanElements.content.images.title"),data:t("dialogs.help.spanElements.content.images.content")}]},{menuName:t("dialogs.help.miscellaneous.title"),content:[{menuName:t("dialogs.help.miscellaneous.content.automaticLinks.title"),data:t("dialogs.help.miscellaneous.content.automaticLinks.content")},{menuName:t("dialogs.help.miscellaneous.content.escaping.title"),data:t("dialogs.help.miscellaneous.content.escaping.content")}]}]}}},{}],15:[function(e,t){{var n=e("backbone"),r=e("../models/user");e("../config")}t.exports=n.Collection.extend({model:r})},{"../models/user":6,"../config":8,backbone:12}],16:[function(e,t){var n=e("underscore"),r=e("backbone"),i=e("../models/org"),a=e("../config");t.exports=r.Collection.extend({model:i,initialize:function(e,t){t=n.clone(t)||{},n.bindAll(this),this.user=t.user},url:function(){return this.user?a.api+"/users/"+this.user.get("login")+"/orgs":"/user/orgs"}})},{"../models/org":34,"../config":8,underscore:11,backbone:12}],17:[function(e,t){var n=e("underscore"),r=e("backbone"),i=e("../collections/branches"),a=e("../collections/commits"),o=e("../config");t.exports=r.Model.extend({constructor:function(e){r.Model.call(this,{id:e.id,description:e.description,fork:e.fork,homepage:e.homepage,default_branch:e.default_branch,name:e.name,owner:{id:e.owner.id,login:e.owner.login},permissions:e.permissions,"private":e.private,updated_at:e.updated_at})},initialize:function(){this.branches=new i([],{repo:this}),this.commits=new a([],{repo:this,branch:this.branch})},ref:function(e){e=n.clone(e)||{},$.ajax({type:"POST",url:this.url()+"/git/refs",data:JSON.stringify({ref:e.ref,sha:e.sha}),success:e.success,error:e.error})},fork:function(e){e=n.clone(e)||{};var r=e.success;$.ajax({type:"POST",url:this.url()+"/forks",success:function(i){var a=new t.exports(i);a.branches.fetch({success:function(e){var t="prose-patch-",i=e.filter(function(e){return 0===e.get("name").indexOf(t)}).map(function(e){return parseInt(e.get("name").split(t)[1])}),o=t+(i.length?n.max(i)+1:1);n.isFunction(r)&&r(a,o)}.bind(this),error:e.error})}.bind(this),error:e.error})},url:function(){return o.api+"/repos/"+this.get("owner").login+"/"+this.get("name")}})},{"../collections/branches":35,"../collections/commits":36,"../config":8,underscore:11,backbone:12}],18:[function(e,n){var r=e("underscore"),i=e("marked"),a=e("backbone"),o=e("js-yaml"),s=e(".././util");n.exports=a.Model.extend({idAttribute:"path",initialize:function(e,n){n=r.clone(n)||{},r.bindAll(this),this.isClone=function(){return!!n.clone},this.placeholder=(new Date).format("Y-m-d")+"-your-filename.md";var i=e.path.split("?")[0],a=e.collection.get(i);this.isNew()&&(!i||"_drafts"===i||a&&"tree"===a.get("type"))&&(i=i?i+"/"+this.placeholder:this.placeholder);var o,l=s.extension(i),c=e.repo?e.repo.get("permissions"):void 0;this.collection=e.collection,o=this.isNew()||"blob"===e.type?"file":e.type,this.set({binary:s.isBinary(i),content:this.isNew()&&r.isUndefined(e.content)?t("main.new.body"):e.content,content_url:e.url,draft:function(){var e=this.get("path");return s.draft(e)},extension:l,lang:s.mode(l),media:s.isMedia(l),markdown:s.isMarkdown(l),name:s.extractFilename(i)[1],oldpath:i,path:i,type:o,writable:c?c.push:!1})},get:function(e){var t=a.Model.prototype.get.call(this,e);return r.isFunction(t)?t.call(this):t},isNew:function(){return null==this.get("sha")},parse:function(e){return"string"==typeof e?this.parseContent(e):"object"==typeof e?r.omit(e,"content"):void 0},parseContent:function(e){e=e.replace(/\r\n/g,"\n");var t=!!s.hasMetadata(e);if(!t)return{content:e,metadata:!1,previous:e};var n={previous:e},i=this.get("defaults");return n.content=e.replace(/^(---\n)((.|\n)*?)---\n?/,function(e,t,a){try{n.metadata=o.safeLoad(a);var s=r(i).find(function(e){return"published"===e.name});s&&s.field.value?n.metadata.published="true"===s.field.value:n.metadata&&!n.metadata.hasOwnProperty("published")&&(n.metadata.published=!0)}catch(l){console.log("ERROR encoding YAML"),console.log(l)}return""}).trim(),n},getContent:function(e){e=e?r.clone(e):{},a.Model.prototype.fetch.call(this,r.extend(e,{dataType:"text",headers:{Accept:"application/vnd.github.v3.raw"},url:this.get("content_url")}))},getContentSync:function(e){return e=e?r.clone(e):{},a.Model.prototype.fetch.call(this,r.extend(e,{async:!1,dataType:"text",headers:{Accept:"application/vnd.github.v3.raw"},url:this.get("content_url")}))},serialize:function(){var e,t=this.get("metadata"),n=this.get("content")||"";if(t){try{e=o.safeDump(t).trim()}catch(r){throw r}return["---",e,"---"].join("\n")+"\n\n"+n}return n},encode:function(e){return window.btoa(window.unescape(window.encodeURIComponent(e)))},decode:function(e){return window.decodeURIComponent(window.escape(window.atob(e)))},getAttributes:function(){var e={};return r.each(this.attributes,function(t,n){e[n]=this.get(n)},this),e},toJSON:function(){var e=this.get("oldpath")||this.get("path"),t=this.serialize(),n={path:e,message:this.get("message")||this.get("placeholder"),content:this.get("binary")?window.btoa(t):this.encode(t),branch:this.collection.branch.get("name")};return this.isNew()||(n.sha=this.get("sha")),n},clone:function(e,t){return t=r.clone(t)||{},new this.constructor(r.extend(r.pick(this.attributes,["branch","collection","content","metadata","repo"]),e),r.extend(t,{clone:!0}))},fetch:function(e){e=e?r.clone(e):{},this.isNew()?(r.isFunction(e.success)&&e.success(),r.isFunction(e.complete)&&e.complete()):(a.Model.prototype.fetch.call(this,r.omit(e,"success","error","complete")),this.getContent.apply(this,arguments))},save:function(e){e=e?r.clone(e):{};var t=e.success;this.isNew()&&(e=r.extend(e,{type:"PUT"})),e.success=function(e,n){this.set(r.extend(n.content,{previous:this.serialize()})),r.isFunction(t)&&t.apply(this,arguments)}.bind(this),a.Model.prototype.save.call(this,void 0,e)},patch:function(e){e=r.clone(e)||{};var t=e.success,i=e.error;this.collection.repo.fork({success:function(r,a){r.ref({ref:"refs/heads/"+a,sha:this.collection.branch.get("sha"),success:function(){r.branches.fetch({cache:!1,success:function(e){a=e.findWhere({name:a});var o=new n.exports({branch:a,collection:e,content:this.get("content"),path:this.get("path"),repo:r,sha:this.get("sha"),message:this.get("message")||this.get("placeholder"),metadata:this.get("metadata"),defaults:this.get("defaults")});o.branch=a,o.collection=e,o.collection.branch=a,o.save({success:function(e,n){e.set(n.content),a.files.add(e),$.ajax({type:"POST",url:this.collection.repo.url()+"/pulls",data:JSON.stringify({title:n.commit.message,body:"This pull request has been automatically generated by prose.io.",base:this.collection.branch.get("name"),head:r.get("owner").login+":"+a.get("name")}),success:t,error:i})}.bind(this),error:i})}.bind(this),error:i})}.bind(this),error:e.error})}.bind(this),error:e.error})},destroy:function(e){e=r.clone(e)||{};var n=this.get("path"),i={path:n,message:t("actions.commits.deleted",{filename:n}),sha:this.get("sha"),branch:this.collection.branch.get("name")},o=this.url().split("?")[0],s=r.map(r.pairs(i),function(e){return e.join("=")}).join("&");a.Model.prototype.destroy.call(this,r.extend(e,{url:o+"?"+s,error:function(e,t,n){console.log(e,t,n)},wait:!0}))},url:function(){return branch=this.collection.branch||this.branch||this.get("branch"),this.collection.repo.url()+"/contents/"+this.get("path")+"?ref="+branch.get("name")},validate:function(e){if(this.collection.where({path:e.path}).length>1)return t("actions.save.fileNameExists");var n=s.extractFilename(this.get("path"));return n===this.placeholder?"File name is default":(i(e.content,{},function(e){return e?e:void 0}),void 0)}})},{".././util":28,backbone:12,underscore:11,marked:37,"js-yaml":38}],19:[function(e,t){var n=(e("jquery-browserify"),e("underscore")),r=e("backbone"),i=e("./loader"),a=e("./sidebar"),o=e("./nav"),s=e("../cookie"),l=e("../../dist/templates"),c=e("../util");t.exports=r.View.extend({className:"application",template:l.app,subviews:{},events:{"click a.logout":"logout"},initialize:function(e){n.bindAll(this),key("j, k, enter, o",function(e,t){this.$el.find(".listing")[0]&&("j"===t.key||"k"===t.key?c.pageListing(t.key):c.goToFile())}.bind(this)),this.user=e.user,this.loader=new i,this.subviews.loader=this.loader,this.sidebar=new a({app:this,user:this.user}),this.subviews.sidebar=this.sidebar,this.nav=new o({app:this,sidebar:this.sidebar,user:this.user}),this.subviews.nav=this.nav},render:function(){return this.$el.html(n.template(this.template,{},{variable:"data"})),this.loader.setElement(this.$el.find("#loader")).render(),this.sidebar.setElement(this.$el.find("#drawer")).render(),this.nav.setElement(this.$el.find("nav")).render(),this},logout:function(){return s.unset("oauth-token"),s.unset("id"),window.location.reload(),!1},remove:function(){n.invoke(this.subviews,"remove"),this.subviews={},r.View.prototype.remove.apply(this,arguments)}})},{"./loader":39,"./sidebar":40,"./nav":41,"../cookie":3,"../../dist/templates":14,"../util":28,"jquery-browserify":10,underscore:11,backbone:12}],20:[function(e,t){var n=(e("jquery-browserify"),e("underscore")),r=e("backbone"),i=e("../../dist/templates"),a=e("../config");t.exports=r.View.extend({id:"start",template:i.start,render:function(){return this.$el.html(n.template(this.template,a,{variable:"auth"})),this}})},{"../../dist/templates":14,"../config":8,"jquery-browserify":10,underscore:11,backbone:12}],21:[function(e,t){var n=(e("jquery-browserify"),e("underscore")),r=e("backbone"),i=e("./header"),a=(e("./sidebar/orgs"),e(".././util"),e("../../dist/templates"));t.exports=r.View.extend({template:a.profile,subviews:{},initialize:function(e){this.auth=e.auth,this.repos=e.repos,this.router=e.router,this.search=e.search,this.sidebar=e.sidebar,this.user=e.user},render:function(){this.$el.empty().append(n.template(this.template)),this.search.setElement(this.$el.find("#search")).render(),this.repos.setElement(this.$el.find("#repos"));var e=new i({user:this.user,alterable:!1});if(e.setElement(this.$el.find("#heading")).render(),this.subviews.header=e,this.auth){var t=this.sidebar.initSubview("orgs",{model:this.auth.orgs,router:this.router,sidebar:this.sidebar,user:this.user});this.subviews.orgs=t}return this},remove:function(){this.sidebar.close(),n.invoke(this.subviews,"remove"),this.subviews={},r.View.prototype.remove.apply(this,arguments)}})},{"./header":42,"./sidebar/orgs":43,".././util":28,"../../dist/templates":14,"jquery-browserify":10,underscore:11,backbone:12}],22:[function(e,n){var r=(e("jquery-browserify"),e("underscore")),i=e("backbone"),a=e("../../dist/templates"),o=e("../util");n.exports=i.View.extend({template:a.search,events:{"keyup input":"keyup"},initialize:function(e){this.mode=e.mode,this.model=e.model},render:function(){var e=t("main.repos.filter");"repo"===this.mode&&(e=t("main.repo.filter"));var n={placeholder:e};return this.$el.empty().append(r.template(this.template,n,{variable:"search"})),this.input=this.$el.find("input"),this.input.focus(),this},keyup:function(e){e&&27===e.which?(this.input.val(""),this.trigger("search")):e&&40===e.which?(o.pageListing("down"),e.preventDefault(),e.stopPropagation(),this.input.blur()):this.trigger("search")},search:function(){var e=this.input?this.input.val():"";return this.model.filter(function(t){return t.get("name").indexOf(e)>-1})}})},{"../../dist/templates":14,"../util":28,"jquery-browserify":10,underscore:11,backbone:12}],23:[function(e,t){var n=e("jquery-browserify"),r=e("underscore"),i=e("backbone"),a=e("./li/repo");t.exports=i.View.extend({subviews:{},events:{"mouseover .item":"activeListing","mouseover .item a":"activeListing"},initialize:function(e){r.bindAll(this),this.model=e.model,this.search=e.search,this.listenTo(this.search,"search",this.render)},render:function(){var e=this.search?this.search.search():this.model,t=document.createDocumentFragment();return e.each(function(e,n){var r=new a({index:n,model:e});t.appendChild(r.render().el),this.subviews[e.id]=r}.bind(this)),this.$el.html(t),this.$listings=this.$el.find(".item"),this.$search=this.$el.find("#filter"),this},activeListing:function(e){var t=n(e.target);t.hasClass("item")||(t=n(e.target).closest("li")),this.$listings.removeClass("active"),t.addClass("active"),this.$search.blur()},remove:function(){r.invoke(this.subviews,"remove"),this.subviews={},i.View.prototype.remove.apply(this,arguments)}})},{"./li/repo":44,"jquery-browserify":10,underscore:11,backbone:12}],24:[function(e,t){var n=(e("jquery-browserify"),e("underscore")),r=e("queue-async"),i=e("backbone"),a=e("./files"),o=e("./header"),s=e("./search"),l=(e(".././util"),e("../../dist/templates"));t.exports=i.View.extend({template:l.repo,events:{"click a.new":"create"},subviews:{},initialize:function(e){n.bindAll(this);var t=e.app;t.loader.start(),this.app=t,this.branch=e.branch||this.model.get("default_branch"),this.model=e.model,this.nav=e.nav,this.path=e.path||"",this.router=e.router,this.sidebar=e.sidebar,this.initBranches(),this.initHeader();var i=r();i.defer(this.initSearch),i.defer(this.initHistory),i.awaitAll(this.initFiles),this.listenTo(this.sidebar,"destroy",this.destroy),this.listenTo(this.sidebar,"cancel",this.cancel),this.listenTo(this.sidebar,"confirm",this.updateFile),t.loader.done()},render:function(){return this.$el.html(n.template(this.template,{},{variable:"data"})),this.header.setElement(this.$el.find("#heading")).render(),this.search.setElement(this.$el.find("#search")).render(),this.files.setElement(this.$el.find("#files")),this},initHeader:function(){this.header=new o({repo:this.model,alterable:!1}),this.subviews.header=this.header},initSearch:function(e){this.search=new s({mode:"repo"}),this.subviews.search=this.search,n.isFunction(e)&&e.apply(this)},initFiles:function(){this.files=new a({app:this.app,branch:this.branch,branches:this.model.branches,history:this.history,nav:this.nav,path:this.path,repo:this.model,router:this.router,search:this.search,sidebar:this.sidebar}),this.subviews.files=this.files},initBranches:function(){this.branches=this.sidebar.initSubview("branches",{app:this.app,model:this.model.branches,repo:this.model,branch:this.branch,router:this.router,sidebar:this.sidebar}),this.subviews.branches=this.branches},initHistory:function(e){this.history=this.sidebar.initSubview("history",{app:this.app,branch:this.branch,commits:this.model.commits,repo:this.model,router:this.router,sidebar:this.sidebar,view:this}),this.subviews.history=this.history,n.isFunction(e)&&e.apply(this)},create:function(){return this.files.newFile(),!1},remove:function(){this.sidebar.close(),n.invoke(this.subviews,"remove"),this.subviews={},i.View.prototype.remove.apply(this,arguments)}})},{"./files":45,"./header":42,"./search":22,".././util":28,"../../dist/templates":14,"jquery-browserify":10,underscore:11,backbone:12,"queue-async":46}],26:[function(e,n){var r=(e("jquery-browserify"),e("marked")),i=e("backbone");n.exports=i.View.extend({className:"inner deep prose limiter",render:function(){return this.$el.empty().append(r(t("about.content"))),this}})},{"jquery-browserify":10,marked:37,backbone:12}],27:[function(e,t){var n=e("jquery-browserify"),r=e("backbone"),i=e("underscore"),a=e("../cookie"),o=e("../../dist/templates"),s=e("../../translations/locales");t.exports=r.View.extend({className:"inner deep prose limiter",template:o.chooselanguage,events:{"click .language":"setLanguage"},render:function(){var e={languages:s,active:app.locale?app.locale:window.locale._current};return this.$el.empty().append(i.template(this.template,e,{variable:"chooseLanguage"})),this},setLanguage:function(e){if(!n(e.target).hasClass("active")){var t=n(e.target).data("code");a.set("lang",t),app.locale=t,app.locale&&"en"!==app.locale&&n.getJSON("./translations/locales/"+app.locale+".json",function(e){window.locale[app.locale]=e,window.locale.current(app.locale)}),window.location.reload()}return!1}})},{"../cookie":3,"../../dist/templates":14,"../../translations/locales":2,"jquery-browserify":10,backbone:12,underscore:11}],31:[function(e,t){var n=e("underscore"),r=e("backbone"),i=e("../models/repo"),a=e("../config"),o=e("../cookie"),s=e("../util");t.exports=r.Collection.extend({model:i,initialize:function(e,t){n.bindAll(this),this.user=t.user,this.comparator=function(e){return-new Date(e.get("updated_at")).getTime()}},fetch:function(e){e=n.clone(e)||{};var t=e.success,i=function(e,n,r){this.add(e),s.parseLinkHeader(r,{success:i,complete:t})}.bind(this);r.Collection.prototype.fetch.call(this,n.extend(e,{success:function(e,n,r){s.parseLinkHeader(r.xhr,{success:i,error:t})}.bind(this)}))},url:function(){var e,t=o.get("id"),n=this.user.get("type");switch(n){case"User":e=t&&this.user.get("id")===t?"/user":"/users/"+this.user.get("login");break;case"Organization":e="/orgs/"+this.user.get("login")}return a.api+e+"/repos?per_page=100"}})},{"../models/repo":17,"../config":8,"../cookie":3,"../util":28,underscore:11,backbone:12}],25:[function(e,n){var r=e("jquery-browserify"),i=e("underscore"),a=e("queue-async"),o=e("js-yaml"),s=e("../../vendor/liquid.patch"),l=e("./modal"),c=(e("keymaster"),e("marked")),u=e("diff"),h=e("backbone"),d=e("../models/file"),f=e("./header"),p=e("./toolbar"),m=e("./metadata"),g=e("../config"),v=e("../util"),y=e("../upload"),b=(e("../cookie"),e("../../dist/templates"));n.exports=h.View.extend({id:"post",template:b.file,subviews:{},initialize:function(e){i.bindAll(this);var n=e.app;n.loader.start(),s.apply(this),this.app=n,this.branch=e.branch||e.repo.get("default_branch"),this.branches=e.branches,this.mode=e.mode,this.nav=e.nav,this.path=e.path||"",this.repo=e.repo,this.router=e.router,this.sidebar=e.sidebar,this.nav.setFileState(this.mode),this.listenTo(this.nav,"edit",this.edit),this.listenTo(this.nav,"blob",this.blob),this.listenTo(this.nav,"meta",this.meta),this.listenTo(this.nav,"settings",this.settings),this.listenTo(this.nav,"save",this.showDiff),this.listenTo(this.sidebar,"destroy",this.destroy),this.listenTo(this.sidebar,"draft",this.draft),this.listenTo(this.sidebar,"cancel",this.cancel),this.listenTo(this.sidebar,"confirm",this.updateFile),this.listenTo(this.sidebar,"translate",this.translate),this.listenTo(r(window),"pagehide",this.stashFile),window.onbeforeunload=function(e){if(this.dirty){var n=t("actions.unsaved");return(e||window.event).returnValue=n,n}}.bind(this),this.branches.fetch({success:this.setCollection,error:function(e,t){this.router.error(t)}.bind(this),complete:n.loader.done})},setCollection:function(){this.app.loader.start(),this.collection=this.branches.findWhere({name:this.branch}).files,this.collection.fetch({success:this.setModel,error:function(e,t){this.router.error(t)}.bind(this),complete:this.app.loader.done,args:arguments})},setModel:function(){switch(this.app.loader.start(),this.mode){case"edit":case"blob":this.model=this.collection.findWhere({path:this.path});break;case"preview":if(this.model=this.collection.findWhere({path:this.path}),!this.model){var e=this.absolutePathFromComponents(this.repo.get("owner").login,this.repo.get("name"),this.branch,this.path);this.getStashForPath(e)&&(this.model=this.newEmptyFile())}break;case"new":this.model=this.newEmptyFile()}var n,r=this.collection.defaults;this.model?(r&&(n=this.nearestPath(this.model.get("path"),r),this.model.set("defaults",r[n])),this.model.fetch({complete:function(){this.app.loader.done(),this.render()}.bind(this)})):(this.router.notify(t("notification.error.exists"),void 0,[{title:t("notification.create"),className:"create",link:"#"},{title:t("notification.back"),link:"#"+i.compact([this.repo.get("owner").login,this.repo.get("name"),"tree",this.branch,v.extractFilename(this.path)[0]]).join("/")}]),this.app.loader.done())},newEmptyFile:function(){return new d({branch:this.branches.findWhere({name:this.branch}),collection:this.collection,path:this.path,repo:this.repo})},nearestPath:function(e,t){e=e.replace(/^(_drafts)/,"_posts");for(var n=/\/?(?!.*\/).*$/;!i.has(t,e)&&n.test(e)&&e;)e=e.replace(n,"");return e},cursor:function(){var e=v.trim(this.editor.getSelection()),t={lineBreak:/\n/,h1:/^#{1}/,h2:/^#{2}/,h3:/^#{3}/,h4:/^#{4}/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,italic:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,isNumber:parseInt(e.charAt(0),10)};if(t.isNumber)"."===e.charAt(1)&&" "===e.charAt(2)&&this.toolbar.highlight("numbered-list");else switch(e.charAt(0)){case"#":t.lineBreak.test(e)||(t.h3.test(e)&&!t.h4.test(e)?this.toolbar.highlight("sub-heading"):t.h2.test(e)&&!t.h3.test(e)&&this.toolbar.highlight("heading"));break;case">":this.toolbar.highlight("quote");break;case"*":case"_":t.lineBreak.test(e)||(t.strong.test(e)?this.toolbar.highlight("bold"):t.italic.test(e)&&this.toolbar.highlight("italic"));break;case"!":t.lineBreak.test(e)||"["!==e.charAt(1)||")"!==e.charAt(e.length-1)||this.toolbar.highlight("media");break;case"[":t.lineBreak.test(e)||")"!==e.charAt(e.length-1)||this.toolbar.highlight("link");break;case"-":" "===e.charAt(1)&&this.toolbar.highlight("list");break;default:this.toolbar&&this.toolbar.highlight()}},livePreview:function(){if(this.livePreviewElement=this.livePreviewElement||r(".live-preview"),0===this.livePreviewElement.length)return console.warn("No live-preview element found."),void 0;var e=this.livePreviewRange?this.livePreviewRange.find():null,t=this.editor.getCursor();if(e&&t.line>=e.from.line&&t.line<=e.to.line);else{e&&this.livePreviewRange.clear();for(var n=null,a=null;null===n||!i.isEqual(t,n.open.start);){var a=CodeMirror.findEnclosingTag(this.editor,t);if(console.log(a),!a)break;if(a.open){if("section"===a.open.tag||"article"===a.open.tag)break;t=a.open.from,n=a}else console.log(a)}if(!n)return this.livePreviewElement.hide(),void 0;e={from:n.open.from,to:n.close.to},this.livePreviewRange=this.editor.markText(e.from,e.to,{className:"live-preview-source"})}var o=this.editor.getRange(e.from,e.to);""===v.trim(o)&&this.livePreviewElement.hide(),this.livePreviewElement.show(),this.livePreviewElement.html(o),window.MathJax.Hub.Queue(["Typeset",MathJax.Hub,this.livePreviewElement[0]])},compilePreview:function(e){var t=/\!\[([^\[]*)\]\(([^\)]+)\)/g,n=/\!\[([^\[]*)\]\(([^\)]+)\)/,r=/".*?"/,a=e.match(t);return i.each(a,function(t){var i,a=n.exec(t);if(null!==a&&(i=a[2],!v.absolutePath(i))){r.test(i)&&(i=i.split(r)[0]),i=i.replace("{{site.baseurl}}/","/"),i=/^\//.test(i)?i.slice(1):v.extractFilename(this.model.get("path"))[0]+"/"+i;var o=g.site+"/"+this.repo.get("owner").login+"/"+this.repo.get("name")+"/blob/"+this.branch+"/"+window.escape(i)+"?raw=true";e=e.replace(t,"!["+a[1]+"]("+o+")")}}.bind(this)),e},initEditor:function(){var e=this.model.get("lang");this.editor=CodeMirror(this.$el.find("#code")[0],{mode:e,value:this.model.get("content")||"",lineWrapping:!0,lineNumbers:!1,matchBrackets:!0,matchTags:!0,extraKeys:this.keyMap(),dragDrop:!1,theme:"prose-bright",styleActiveLine:!0}),this.model.get("markdown")&&this.model.get("writable")&&y.dragDrop(this.$el,function(e,t,n){this.$el.find("#dialog").hasClass("dialog")?this.updateImageInsert(e,t,n):(this.editor.focus(),this.editor.replaceSelection(""),this.upload(e,t,n))}.bind(this)),"gfm"===e?this.listenTo(this.editor,"cursorActivity",this.cursor):"htmlmixed"===e&&this.listenTo(this.editor,"cursorActivity",this.livePreview),this.listenTo(this.editor,"change",this.makeDirty,this),this.listenTo(this.editor,"focus",this.focus,this),this.refreshCodeMirror(),this.stashApply()},keyMap:function(){var e=this;return this.model.get("markdown")?{"Ctrl-S":function(){e.updateFile()},"Cmd-B":function(){""!==e.editor.getSelection()&&e.toolbar.bold(e.editor.getSelection())},"Ctrl-B":function(){""!==e.editor.getSelection()&&e.toolbar.bold(e.editor.getSelection())},"Cmd-I":function(){""!==e.editor.getSelection()&&e.toolbar.italic(e.editor.getSelection())},"Ctrl-I":function(){""!==e.editor.getSelection()&&e.toolbar.italic(e.editor.getSelection())}}:{"Ctrl-S":function(){e.updateFile()}}},focus:function(){this.queue=void 0,this.$el.find(".toolbar .group a").removeClass("on"),this.$el.find("#dialog").empty().removeClass()},initToolbar:function(){this.toolbar=new p({view:this,file:this.model,collection:this.collection,config:this.config}),this.subviews.toolbar=this.toolbar,this.toolbar.setElement(this.$el.find("#toolbar")).render(),this.listenTo(this.toolbar,"updateImageInsert",this.updateImageInsert),this.listenTo(this.toolbar,"post",this.post)},titleAsHeading:function(){var e=this.model.get("metadata");if(this.model.get("markdown")){if(e&&e.title)return e.title;if(this.model.get("defaults")){var n=i(this.model.get("defaults")).find(function(e){return"title"==e.name});return n?n.field&&n.field.value?n.field.value:t("main.file.noTitle"):!1}return!1}},initSidebar:function(){this.settings=this.sidebar.initSubview("settings",{sidebar:this.sidebar,config:this.collection.config,file:this.model,fileInput:this.titleAsHeading()}).render(),this.subviews.settings=this.settings,this.listenTo(this.sidebar,"makeDirty",this.makeDirty),this.save=this.sidebar.initSubview("save",{sidebar:this.sidebar,file:this.model}).render(),this.subviews.save=this.save},initHeader:function(){var e=this.titleAsHeading(),t=e?e:this.model.get("path");this.header=new f({input:t,title:e?!0:!1,file:this.model,repo:this.repo,alterable:!0,placeholder:this.model.isNew()&&!this.model.translate}),this.subviews.header=this.header,this.header.setElement(this.$el.find("#heading")).render(),this.listenTo(this.header,"makeDirty",this.makeDirty)},renderMetadata:function(){this.metadataEditor=new m({model:this.model,titleAsHeading:this.titleAsHeading(),view:this}),this.metadataEditor.setElement(this.$el.find("#meta")).render(),this.subviews.metadata=this.metadataEditor},render:function(){if(this.app.loader.start(),"preview"===this.mode)this.preview();else{var e=(this.model.get("content"),{markdown:this.model.get("markdown")});this.$el.empty().append(i.template(this.template,e,{variable:"file"})),this.config=this.model.get("collection").config,this.initEditor(),this.initHeader(),this.initToolbar(),this.initSidebar();var t=["file"],n=this.model.get("markdown"),r=/^(_posts|_drafts)/.test(this.model.get("path"));(this.model.get("metadata")||this.model.get("defaults")||n&&r)&&(this.renderMetadata(),t.push("meta")),(n||"html"===this.model.get("extension"))&&t.push("preview"),this.model.isNew()||t.push("settings"),this.nav.mode(t.join(" ")),this.updateDocumentTitle(),Liquid.Template.registerFilter({markdownify:function(e){return c(e||"")}}),this.model.get("markdown")&&"blob"===this.mode?this.blob():(this.$el.find("#edit").toggleClass("active",!0),this.$el.find(".file .edit").addClass("active"),this.model.get("markdown")&&v.fixedScroll(this.$el.find(".topbar"),90)),"blob"===this.mode&&this.blob()}return this.app.loader.done(),this},updateDocumentTitle:function(){var e="blob"===this.mode?t("docheader.preview"):t("docheader.editing"),n=this.model.get("path"),r=n?n:"";v.documentTitle(e+" "+r+"/"+this.model.get("name")+" at "+this.branch)},edit:function(){var e=this;this.sidebar.close(),this.editor||(this.initEditor(),this.model.get("markdown")&&i.delay(function(){v.fixedScroll(r(".topbar",e.el),90)},1)),r("#prose").toggleClass("open",!1),this.contentMode("edit"),this.mode=this.model.isNew()?"new":"edit",this.nav.setFileState(this.mode),this.updateURL()},blob:function(e){this.sidebar.close();var t=this.model.get("metadata"),n=this.config&&this.config.siteurl&&t&&t.layout;if(n&&e){this.nav.setFileState("edit"),this.stashFile();var i=this.absoluteFilepath().split("/");i.splice(2,0,"preview"),r(e.currentTarget).attr({target:"_blank",href:"#"+i.join("/")})}else e&&e.preventDefault(),this.$el.find("#preview").html(c(this.compilePreview(this.model.get("content")))),this.mode="blob",this.contentMode("preview"),this.nav.setFileState("blob"),this.updateURL()},preview:function(){function e(n){var r=h.page.layout,a=this.collection.findWhere({path:"_layouts/"+r+".html"});a.fetch({success:function(r){r.getContent({success:function(r){var a=r.get("metadata"),o=r.get("content"),l=Liquid.parse(o);h.page=i.extend(s,a),h.content=l.render({site:h.site,post:h.post,page:h.page,content:h.content}),a&&a.layout&&t.defer(e.bind(this)),n()}.bind(this),error:function(e,t){this.router.error(t)}.bind(this)})}.bind(this),error:function(e,t){this.router.error(t)}.bind(this)})}var t=a(1),n=this.getStashForPath(this.absolutePathFromFile(this.model)),s={},l="";n&&n.content?(s=n.metadata,l=n.content):(s=this.model.get("metadata")||{},l=this.model.get("content")||"");var u=Liquid.parse(this.compilePreview(l)).render({site:this.collection.config,post:s,page:s});this.model.get("markdown")&&(u=c(u));var h={site:this.collection.config,post:s,page:s,content:u||""},d=v.extractFilename(this.path)[1].split("-"),f=d[0],p=d[1],m=d[2],g=[f,p,m].join("-")+" 05:00:00";try{h.post.date=o.safeLoad(g).toDateString()
}catch(y){console.log("Error parsing date"),console.log(y)}h.site&&h.site.site&&i(h.site.site).each(function(e,n){t.defer(function(t){var i=!1;r.ajax({cache:!0,dataType:"jsonp",jsonp:!1,jsonpCallback:"callback",url:e,timeout:5e3,success:function(e){h.site[n]=e,i=!0,t()},error:function(){i||t()}})})}),h.page.layout&&t.defer(e.bind(this)),t.await(function(){var e=this.collection.config,t=h.content;e&&e.siteurl&&(t=t.replace(/(<head(?:.*)>)/,function(){return arguments[1]+'<base href="'+e.siteurl+'">'}.bind(this))),document.write(t),document.close()}.bind(this))},contentMode:function(e){this.$el.find(".views .view").removeClass("active"),e?this.$el.find("#"+e).addClass("active"):"blob"===this.mode?this.$el.find("#preview").addClass("active"):this.$el.find("#edit").addClass("active")},meta:function(){this.sidebar.close(),this.contentMode("meta"),this.metadataEditor.refresh()},destroy:function(){confirm(t("actions.delete.warn"))&&this.model.destroy({success:function(){this.router.navigate([this.repo.get("owner").login,this.repo.get("name"),"tree",this.branch].join("/"),!0)}.bind(this),error:function(e,t){this.router.error(t)}.bind(this)})},updateURL:function(){var e=i.compact([this.repo.get("owner").login,this.repo.get("name"),this.mode,this.branch,this.path]);this.router.navigate(e.join("/"),{trigger:!1,replace:!0}),this.updateDocumentTitle(),this.$el.find(".chzn-select").trigger("liszt:updated")},makeDirty:function(){this.dirty=!0,this.editor&&this.editor.getValue&&this.model.set("content",this.editor.getValue()),this.metadataEditor&&this.model.set("metadata",this.metadataEditor.getValue());var e=this.model.get("writable")?t("actions.change.save"):t("actions.change.submit");this.updateSaveState(e,"save")},settings:function(){this.contentMode(),this.sidebar.mode("settings"),this.sidebar.open()},showDiff:function(){this.contentMode("diff"),this.sidebar.mode("save"),this.sidebar.open();for(var e=this.$el.find("#diff"),t=this.model.isNew()?"":i.escape(this.model.get("previous")),n=i.escape(this.model.serialize()),r=u.diffWords(t,n),a=r.length,o="",s=0;a>s;s++)o+=r[s].removed?"<del>"+r[s].value+"</del>":r[s].added?"<ins>"+r[s].value+"</ins>":r[s].value;e.find(".diff-content").html("<pre>"+o+"</pre>")},cancel:function(){this.sidebar.close(),this.nav.active(this.mode),this.contentMode()},refreshCodeMirror:function(){"function"==typeof this.editor.refresh&&this.editor.refresh()},updateMetaData:function(){return this.model.jekyll?(this.model.metadata=this.metadataEditor.getValue(),!0):!0},patch:function(){this.updateSaveState(t("actions.save.patch"),"saving"),this.model.patch({success:function(){this.updateURL(),this.sidebar.close(),this.updateSaveState(t("actions.save.submission"),"saved")}.bind(this),error:function(e,t){var n=v.xhrErrorMessage(t);this.updateSaveState(n,"error")}.bind(this)})},filepath:function(){return this.titleAsHeading()?this.sidebar.filepathGet():this.header.inputGet()},absoluteFilepath:function(){return this.absolutePathFromComponents(this.repo.get("owner").login,this.repo.get("name"),this.branch,this.filepath())},absolutePathFromFile:function(e){return this.absolutePathFromComponents(e.collection.repo.get("owner").login,e.collection.repo.get("name"),e.collection.branch.get("name"),e.get("path"))},absolutePathFromComponents:function(e,t,n,r){var a=i.compact([e,t,n,r]);return a.join("/")},draft:function(){var e,t=this.collection.defaults||{},n=this.model.get("path").replace(/^(_posts)/,"_drafts");this.model=this.collection.get(n)||this.model.clone({path:n}),this.model&&t&&this.model.set("defaults",t[this.nearestPath(n,t)]),this.path=n,e=i.compact([this.repo.get("owner").login,this.repo.get("name"),this.mode,this.branch,this.path]),this.router.navigate(e.join("/"),{trigger:!1}),this.sidebar.close(),this.nav.active("edit"),this.model.fetch({complete:this.render})},post:function(){var e,t=this.collection.defaults||{},n=this.model.get("metadata")||{},r=this.model.get("content")||"",a=this.model.get("path").replace(/^(_drafts)/,"_posts");this.model=this.collection.get(a)||this.model.clone({path:a}),this.model&&t&&this.model.set("defaults",t[this.nearestPath(a,t)]),this.path=a,e=i.compact([this.repo.get("owner").login,this.repo.get("name"),this.mode,this.branch,this.path]),this.router.navigate(e.join("/"),{trigger:!1}),this.model.fetch({complete:function(){this.model.set("metadata",n),this.model.set("content",r),this.render(),this.nav.active("save"),this.showDiff()}.bind(this)})},translate:function(e){var t,n=this.collection.defaults||{},a=this.model.get("metadata")||{},o=r(e.currentTarget).attr("href").substr(1),s=this.model.get("path").split("/");"en"===o?s.splice(-2,2,s[s.length-1]):"en"===a.lang?s.splice(-1,1,o,s[s.length-1]):s.splice(-2,2,o,s[s.length-1]),s=i.compact(s).join("/");var l=a.categories||[];l.unshift(o),this.model=this.collection.get(s)||this.model.clone({metadata:{categories:l,lang:o},path:s}),this.model&&n&&this.model.set("defaults",n[this.nearestPath(s,n)]),this.path=s,t=i.compact([this.repo.get("owner").login,this.repo.get("name"),this.mode,this.branch,this.path]),this.router.navigate(t.join("/"),{trigger:!1}),this.sidebar.close(),this.model.fetch({complete:this.render})},stashFile:function(e){if(e&&e.preventDefault(),!window.sessionStorage)return!1;var t=window.sessionStorage,n=this.absoluteFilepath();if(n)try{t.setItem(n,JSON.stringify({sha:this.model.get("sha"),content:this.editor?this.editor.getValue():null,metadata:this.metadataEditor?this.metadataEditor.getValue():null}))}catch(r){console.log(r)}},stashApply:function(){var e=this.absolutePathFromFile(this.model),t=this.getStashForPath(e);return t?(t.sha===this.model.get("sha")?(this.editor&&this.editor.setValue&&this.editor.setValue(t.content),this.metadataEditor&&this.metadataEditor.setValue(t.metadata)):this.clearStashForPath(e),void 0):!1},getStashForPath:function(e){if(!window.sessionStorage)return!1;var t=window.sessionStorage,n=t.getItem(e);return JSON.parse(n)},clearStashForPath:function(e){if(window.sessionStorage){var t=window.sessionStorage;t.removeItem(e)}},updateFile:function(){var e=this;this.updateSaveState(t("actions.save.saving"),"saving");var n=this.model.get("writable")?this.model.save:this.patch;return this.model.on("invalid",function(t,n){this.updateSaveState(n,"error"),e.modal=new l({message:n}),e.$el.find("#modal").html(e.modal.el),e.modal.render()}.bind(this)),this.model.content=this.editor?this.editor.getValue():"",n.call(this,{success:function(e){var n,a,o;this.sidebar.close(),this.updateSaveState(t("actions.save.saved"),"saved"),this.nav.$el.addClass("settings");var s=e.get("path");this.path=s,this.dirty=!1,this.edit();var l=e.get("oldpath"),c=v.extractFilename(l)[1],u=s!==l;e.previous("sha")&&u?(n=e.url().replace(s,l).split("?")[0],a={path:l,message:t("actions.commits.deleted",{filename:c}),sha:e.previous("sha"),branch:this.collection.branch.get("name")},o=i.map(i.pairs(a),function(e){return e.join("=")}).join("&"),r.ajax({type:"DELETE",url:n+"?"+o,error:function(e){var t=v.xhrErrorMessage(e);this.updateSaveState(t,"error")}.bind(this),success:function(){e.set("oldpath",s)}})):u&&e.set("oldpath",s)}.bind(this),error:function(e,t){var n=v.xhrErrorMessage(t);this.updateSaveState(n,"error")}.bind(this)}),!1},updateSaveState:function(e,t,n){"save"===t&&r(this.el).hasClass("saving")||(this.sidebar&&this.sidebar.updateState(e),this.nav&&this.nav.updateState(e,t,n))},updateImageInsert:function(e,t,n){var r=this.toolbar.mediaDirectoryPath?this.toolbar.mediaDirectoryPath:v.extractFilename(this.toolbar.file.attributes.path)[0],i=r+"/"+encodeURIComponent(t.name);this.$el.find('input[name="url"]').val(i),this.$el.find('input[name="alt"]').val(""),this.toolbar.queue={e:e,file:t,content:n}},upload:function(e,n,a,o){this.updateSaveState(t("actions.upload.uploading",{file:n.name}),"saving");var s=this.config.media?this.config.media:v.extractFilename(this.model.get("path"))[0];o=o||i.compact([s,n.name]).join("/"),this.collection.upload(n,a,o,{success:function(e,t){var n=t.content.name,i="{{site.baseurl}}/"+t.content.path,a=r('input[name="alt"]'),o=a.val(),s=o?"!["+o+"]("+i+")":"!["+n+"]("+i+")";this.editor.focus(),this.editor.replaceSelection(s+"\n","end"),this.updateSaveState("Saved","saved",!0)}.bind(this),error:function(e,t){var n=v.xhrErrorMessage(t);this.updateSaveState(n,"error")}.bind(this)})},remove:function(){window.onbeforeunload=null,this.dirty&&(this.stashFile(),this.model.fetch()),i.invoke(this.subviews,"remove"),this.subviews={},this.updateSaveState("",""),h.View.prototype.remove.apply(this,arguments)}})},{"../../vendor/liquid.patch":29,"./modal":47,"../models/file":18,"./header":42,"./toolbar":48,"./metadata":49,"../config":8,"../util":28,"../upload":30,"../cookie":3,"../../dist/templates":14,"jquery-browserify":10,underscore:11,"queue-async":46,"js-yaml":38,keymaster:50,marked:37,backbone:12,diff:51}],37:[function(e,t,n){!function(e){(function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||c.defaults,this.rules=u.normal,this.options.gfm&&(this.rules=this.options.tables?u.tables:u.gfm)}function r(e,t){if(this.options=t||c.defaults,this.links=e,this.rules=h.normal,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?h.breaks:h.gfm:this.options.pedantic&&(this.rules=h.pedantic)}function i(e){this.tokens=[],this.token=null,this.options=e||c.defaults}function a(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function o(e,t){return e=e.source,t=t||"",function n(r,i){return r?(i=i.source||i,i=i.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(r,i),n):new RegExp(e,t)}}function s(){}function l(e){for(var t,n,r=1;r<arguments.length;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function c(t,n,r){if(r||"function"==typeof n){r||(r=n,n=null),n=l({},c.defaults,n||{});var o,s,u=n.highlight,h=0;try{o=e.lex(t,n)}catch(d){return r(d)}s=o.length;var f=function(){var e,t;try{e=i.parse(o,n)}catch(a){t=a}return n.highlight=u,t?r(t):r(null,e)};if(!u||u.length<3)return f();if(delete n.highlight,!s)return f();for(;h<o.length;h++)!function(e){return"code"!==e.type?--s||f():u(e.text,e.lang,function(t,n){return null==n||n===e.text?--s||f():(e.text=n,e.escaped=!0,--s||f(),void 0)})}(o[h])}else try{return n&&(n=l({},c.defaults,n)),i.parse(e.lex(t,n),n)}catch(d){if(d.message+="\nPlease report this to https://github.com/chjj/marked.",(n||c.defaults).silent)return"<p>An error occured:</p><pre>"+a(d.message+"",!0)+"</pre>";throw d}}var u={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:s,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:s,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:s,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};u.bullet=/(?:[*+-]|\d+\.)/,u.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,u.item=o(u.item,"gm")(/bull/g,u.bullet)(),u.list=o(u.list)(/bull/g,u.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)(),u._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|@)\\b",u.html=o(u.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,u._tag)(),u.paragraph=o(u.paragraph)("hr",u.hr)("heading",u.heading)("lheading",u.lheading)("blockquote",u.blockquote)("tag","<"+u._tag)("def",u.def)(),u.normal=l({},u),u.gfm=l({},u.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),u.gfm.paragraph=o(u.paragraph)("(?!","(?!"+u.gfm.fences.source.replace("\\1","\\2")+"|"+u.list.source.replace("\\1","\\3")+"|")(),u.tables=l({},u.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=u,e.lex=function(t,n){var r=new e(n);return r.lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t){for(var n,r,i,a,o,s,l,c,h,e=e.replace(/^ +$/gm,"");e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e))e=e.substring(i[0].length),i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?i:i.replace(/\n+$/,"")});else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2],text:i[3]});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if(t&&(i=this.rules.nptable.exec(e))){for(e=e.substring(i[0].length),s={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/\n$/,"").split("\n")},c=0;c<s.align.length;c++)s.align[c]=/^ *-+: *$/.test(s.align[c])?"right":/^ *:-+: *$/.test(s.align[c])?"center":/^ *:-+ *$/.test(s.align[c])?"left":null;for(c=0;c<s.cells.length;c++)s.cells[c]=s.cells[c].split(/ *\| */);this.tokens.push(s)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2]?1:2,text:i[1]});else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),a=i[2],this.tokens.push({type:"list_start",ordered:a.length>1}),i=i[0].match(this.rules.item),n=!1,h=i.length,c=0;h>c;c++)s=i[c],l=s.length,s=s.replace(/^ *([*+-]|\d+\.) +/,""),~s.indexOf("\n ")&&(l-=s.length,s=this.options.pedantic?s.replace(/^ {1,4}/gm,""):s.replace(new RegExp("^ {1,"+l+"}","gm"),"")),this.options.smartLists&&c!==h-1&&(o=u.bullet.exec(i[c+1])[0],a===o||a.length>1&&o.length>1||(e=i.slice(c+1).join("\n")+e,c=h-1)),r=n||/\n\n(?!\s*$)/.test(s),c!==h-1&&(n="\n"===s.charAt(s.length-1),r||(r=n)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(s,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===i[1]||"script"===i[1]||"style"===i[1],text:i[0]});else if(t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),this.tokens.links[i[1].toLowerCase()]={href:i[2],title:i[3]};else if(t&&(i=this.rules.table.exec(e))){for(e=e.substring(i[0].length),s={type:"table",header:i[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<s.align.length;c++)s.align[c]=/^ *-+: *$/.test(s.align[c])?"right":/^ *:-+: *$/.test(s.align[c])?"center":/^ *:-+ *$/.test(s.align[c])?"left":null;for(c=0;c<s.cells.length;c++)s.cells[c]=s.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(s)}else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var h={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:s,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:s,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};h._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,h._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,h.link=o(h.link)("inside",h._inside)("href",h._href)(),h.reflink=o(h.reflink)("inside",h._inside)(),h.normal=l({},h),h.pedantic=l({},h.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),h.gfm=l({},h.normal,{escape:o(h.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:o(h.text)("]|","~]|")("|","|https?://|")()}),h.breaks=l({},h.gfm,{br:o(h.br)("{2,}","*")(),text:o(h.gfm.text)("{2,}","*")()}),r.rules=h,r.output=function(e,t,n){var i=new r(t,n);return i.output(e)},r.prototype.output=function(e){for(var t,n,r,i,o="";e;)if(i=this.rules.escape.exec(e))e=e.substring(i[0].length),o+=i[1];else if(i=this.rules.autolink.exec(e))e=e.substring(i[0].length),"@"===i[2]?(n=":"===i[1].charAt(6)?this.mangle(i[1].substring(7)):this.mangle(i[1]),r=this.mangle("mailto:")+n):(n=a(i[1]),r=n),o+='<a href="'+r+'">'+n+"</a>";else if(i=this.rules.url.exec(e))e=e.substring(i[0].length),n=a(i[1]),r=n,o+='<a href="'+r+'">'+n+"</a>";else if(i=this.rules.tag.exec(e))e=e.substring(i[0].length),o+=this.options.sanitize?a(i[0]):i[0];else if(i=this.rules.link.exec(e))e=e.substring(i[0].length),o+=this.outputLink(i,{href:i[2],title:i[3]});else if((i=this.rules.reflink.exec(e))||(i=this.rules.nolink.exec(e))){if(e=e.substring(i[0].length),t=(i[2]||i[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){o+=i[0].charAt(0),e=i[0].substring(1)+e;continue}o+=this.outputLink(i,t)}else if(i=this.rules.strong.exec(e))e=e.substring(i[0].length),o+="<strong>"+this.output(i[2]||i[1])+"</strong>";else if(i=this.rules.em.exec(e))e=e.substring(i[0].length),o+="<em>"+this.output(i[2]||i[1])+"</em>";else if(i=this.rules.code.exec(e))e=e.substring(i[0].length),o+="<code>"+a(i[2],!0)+"</code>";else if(i=this.rules.br.exec(e))e=e.substring(i[0].length),o+="<br>";else if(i=this.rules.del.exec(e))e=e.substring(i[0].length),o+="<del>"+this.output(i[1])+"</del>";else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),o+=a(this.smartypants(i[0]));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return o},r.prototype.outputLink=function(e,t){return"!"!==e[0].charAt(0)?'<a href="'+a(t.href)+'"'+(t.title?' title="'+a(t.title)+'"':"")+">"+this.output(e[1])+"</a>":'<img src="'+a(t.href)+'" alt="'+a(e[1])+'"'+(t.title?' title="'+a(t.title)+'"':"")+">"},r.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/--/g,"—").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},r.prototype.mangle=function(e){for(var t,n="",r=e.length,i=0;r>i;i++)t=e.charCodeAt(i),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},i.parse=function(e,t){var n=new i(t);return n.parse(e)},i.prototype.parse=function(e){this.inline=new r(e.links,this.options),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},i.prototype.next=function(){return this.token=this.tokens.pop()},i.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},i.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},i.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return"<hr>\n";case"heading":return"<h"+this.token.depth+' id="'+this.token.text.toLowerCase().replace(/[^\w]+/g,"-")+'">'+this.inline.output(this.token.text)+"</h"+this.token.depth+">\n";case"code":if(this.options.highlight){var e=this.options.highlight(this.token.text,this.token.lang);null!=e&&e!==this.token.text&&(this.token.escaped=!0,this.token.text=e)}return this.token.escaped||(this.token.text=a(this.token.text,!0)),"<pre><code"+(this.token.lang?' class="'+this.options.langPrefix+this.token.lang+'"':"")+">"+this.token.text+"</code></pre>\n";case"table":var t,n,r,i,o,s="";for(s+="<thead>\n<tr>\n",n=0;n<this.token.header.length;n++)t=this.inline.output(this.token.header[n]),s+="<th",this.token.align[n]&&(s+=' style="text-align:'+this.token.align[n]+'"'),s+=">"+t+"</th>\n";for(s+="</tr>\n</thead>\n",s+="<tbody>\n",n=0;n<this.token.cells.length;n++){for(r=this.token.cells[n],s+="<tr>\n",o=0;o<r.length;o++)i=this.inline.output(r[o]),s+="<td",this.token.align[o]&&(s+=' style="text-align:'+this.token.align[o]+'"'),s+=">"+i+"</td>\n";s+="</tr>\n"}return s+="</tbody>\n","<table>\n"+s+"</table>\n";case"blockquote_start":for(var s="";"blockquote_end"!==this.next().type;)s+=this.tok();return"<blockquote>\n"+s+"</blockquote>\n";case"list_start":for(var l=this.token.ordered?"ol":"ul",s="";"list_end"!==this.next().type;)s+=this.tok();return"<"+l+">\n"+s+"</"+l+">\n";case"list_item_start":for(var s="";"list_item_end"!==this.next().type;)s+="text"===this.token.type?this.parseText():this.tok();return"<li>"+s+"</li>\n";case"loose_item_start":for(var s="";"list_item_end"!==this.next().type;)s+=this.tok();return"<li>"+s+"</li>\n";case"html":return this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);case"paragraph":return"<p>"+this.inline.output(this.token.text)+"</p>\n";case"text":return"<p>"+this.parseText()+"</p>\n"}},s.exec=s,c.options=c.setOptions=function(e){return l(c.defaults,e),c},c.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1},c.Parser=i,c.parser=i.parse,c.Lexer=e,c.lexer=e.lex,c.InlineLexer=r,c.inlineLexer=r.output,c.parse=c,"object"==typeof n?t.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):this.marked=c}).call(function(){return this||("undefined"!=typeof window?window:e)}())}(window)},{}],46:[function(e,t){!function(){function e(e){function t(){for(;s=u<c.length&&e>h;){var t=u++,n=c[t],a=r.call(n,1);a.push(i(t)),++h,n[0].apply(null,a)}}function i(e){return function(n,r){--h,null==f&&(null!=n?(f=n,u=d=0/0,a()):(c[e]=r,--d?s||t():a()))}}function a(){null!=f?p(f):l?p(f,c):p.apply(null,[f].concat(c))}var o,s,l,c=[],u=0,h=0,d=0,f=null,p=n;return e||(e=1/0),o={defer:function(){return f||(c.push(arguments),++d,t()),o},await:function(e){return p=e,l=!1,d||a(),o},awaitAll:function(e){return p=e,l=!0,d||a(),o}}}function n(){}var r=[].slice;e.version="1.0.7","function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof t&&t.exports?t.exports=e:this.queue=e}()},{}],50:[function(e,t){!function(){!function(e){function n(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function r(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function i(e){for(w in k)k[w]=e[L[w]]}function a(e,t){var r,a,o,s,c;if(r=e.keyCode,-1==n(E,r)&&E.push(r),(93==r||224==r)&&(r=91),r in k){k[r]=!0;for(o in _)_[o]==r&&(l[o]=!0)}else if(i(e),l.filter.call(this,e)&&r in x)for(s=0;s<x[r].length;s++)if(a=x[r][s],a.scope==t||"all"==a.scope){c=a.mods.length>0;for(o in k)(!k[o]&&n(a.mods,+o)>-1||k[o]&&-1==n(a.mods,+o))&&(c=!1);(0!=a.mods.length||k[16]||k[18]||k[17]||k[91])&&!c||a.method(e,a)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function o(e){var t,r=e.keyCode,i=n(E,r);if(i>=0&&E.splice(i,1),(93==r||224==r)&&(r=91),r in k){k[r]=!1;for(t in _)_[t]==r&&(l[t]=!1)}}function s(){for(w in k)k[w]=!1;for(w in _)l[w]=!1}function l(e,t,n){var r,i;r=g(e),void 0===n&&(n=t,t="all");for(var a=0;a<r.length;a++)i=[],e=r[a].split("+"),e.length>1&&(i=v(e),e=[e[e.length-1]]),e=e[0],e=T(e),e in x||(x[e]=[]),x[e].push({shortcut:r[a],scope:t,method:n,key:r[a],mods:i})}function c(e,t){var n,i,a=e.split("+"),o=[];if(a.length>1&&(o=v(a),e=a[a.length-1]),e=T(e),void 0===t&&(t=p()),x[e])for(n in x[e])i=x[e][n],i.scope===t&&r(i.mods,o)&&(x[e][n]={})}function u(e){return"string"==typeof e&&(e=T(e)),-1!=n(E,e)}function h(){return E.slice(0)}function d(e){var t=(e.target||e.srcElement).tagName;return!("INPUT"==t||"SELECT"==t||"TEXTAREA"==t)}function f(e){S=e||"all"}function p(){return S||"all"}function m(e){var t,n,r;for(t in x)for(n=x[t],r=0;r<n.length;)n[r].scope===e?n.splice(r,1):r++}function g(e){var t;return e=e.replace(/\s/g,""),t=e.split(","),""==t[t.length-1]&&(t[t.length-2]+=","),t}function v(e){for(var t=e.slice(0,e.length-1),n=0;n<t.length;n++)t[n]=_[t[n]];return t}function y(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,function(){n(window.event)})}function b(){var t=e.key;return e.key=A,t}var w,x={},k={16:!1,18:!1,17:!1,91:!1},S="all",_={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},C={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},T=function(e){return C[e]||e.toUpperCase().charCodeAt(0)},E=[];for(w=1;20>w;w++)C["f"+w]=111+w;var L={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(w in _)l[w]=!1;y(document,"keydown",function(e){a(e,S)}),y(document,"keyup",o),y(window,"focus",s);var A=e.key;e.key=l,e.key.setScope=f,e.key.getScope=p,e.key.deleteScope=m,e.key.filter=d,e.key.isPressed=u,e.key.getPressedKeyCodes=h,e.key.noConflict=b,e.key.unbind=c,"undefined"!=typeof t&&(t.exports=key)}(this)}()},{}],51:[function(e,t){var n=function(){function e(e){return{newPos:e.newPos,components:e.components.slice(0)}}function t(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}function n(e){var t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;")}var r=function(e){this.ignoreWhitespace=e};r.prototype={diff:function(t,n){if(n===t)return[{value:n}];if(!n)return[{value:t,removed:!0}];if(!t)return[{value:n,added:!0}];n=this.tokenize(n),t=this.tokenize(t);var r=n.length,i=t.length,a=r+i,o=[{newPos:-1,components:[]}],s=this.extractCommon(o[0],n,t,0);if(o[0].newPos+1>=r&&s+1>=i)return o[0].components;for(var l=1;a>=l;l++)for(var c=-1*l;l>=c;c+=2){var u,h=o[c-1],d=o[c+1];s=(d?d.newPos:0)-c,h&&(o[c-1]=void 0);var f=h&&h.newPos+1<r,p=d&&s>=0&&i>s;if(f||p){!f||p&&h.newPos<d.newPos?(u=e(d),this.pushComponent(u.components,t[s],void 0,!0)):(u=e(h),u.newPos++,this.pushComponent(u.components,n[u.newPos],!0,void 0));var s=this.extractCommon(u,n,t,c);if(u.newPos+1>=r&&s+1>=i)return u.components;o[c]=u}else o[c]=void 0}},pushComponent:function(e,t,n,r){var i=e[e.length-1];i&&i.added===n&&i.removed===r?e[e.length-1]={value:this.join(i.value,t),added:n,removed:r}:e.push({value:t,added:n,removed:r})},extractCommon:function(e,t,n,r){for(var i=t.length,a=n.length,o=e.newPos,s=o-r;i>o+1&&a>s+1&&this.equals(t[o+1],n[s+1]);)o++,s++,this.pushComponent(e.components,t[o],void 0,void 0);return e.newPos=o,s},equals:function(e,t){var n=/\S/;return!this.ignoreWhitespace||n.test(e)||n.test(t)?e===t:!0},join:function(e,t){return e+t},tokenize:function(e){return e}};var i=new r,a=new r(!0),o=new r;a.tokenize=o.tokenize=function(e){return t(e.split(/(\s+|\b)/))};var s=new r(!0);s.tokenize=function(e){return t(e.split(/([{}:;,]|\s+)/))};var l=new r;return l.tokenize=function(e){for(var t=[],n=e.split(/^/m),r=0;r<n.length;r++){var i=n[r],a=n[r-1];"\n"==i&&a&&"\r"===a[a.length-1]?t[t.length-1]+="\n":i&&t.push(i)}return t},{Diff:r,diffChars:function(e,t){return i.diff(e,t)},diffWords:function(e,t){return a.diff(e,t)},diffWordsWithSpace:function(e,t){return o.diff(e,t)},diffLines:function(e,t){return l.diff(e,t)},diffCss:function(e,t){return s.diff(e,t)},createPatch:function(e,t,n,r,i){function a(e){return e.map(function(e){return" "+e})}function o(e,t,n){var r=c[c.length-2],i=t===c.length-2,a=t===c.length-3&&(n.added!==r.added||n.removed!==r.removed);/\n$/.test(n.value)||!i&&!a||e.push("\\ No newline at end of file")}var s=[];s.push("Index: "+e),s.push("==================================================================="),s.push("--- "+e+("undefined"==typeof r?"":"	"+r)),s.push("+++ "+e+("undefined"==typeof i?"":"	"+i));var c=l.diff(t,n);c[c.length-1].value||c.pop(),c.push({value:"",lines:[]});for(var u=0,h=0,d=[],f=1,p=1,m=0;m<c.length;m++){var g=c[m],v=g.lines||g.value.replace(/\n$/,"").split("\n");if(g.lines=v,g.added||g.removed){if(!u){var y=c[m-1];u=f,h=p,y&&(d=a(y.lines.slice(-4)),u-=d.length,h-=d.length)}d.push.apply(d,v.map(function(e){return(g.added?"+":"-")+e})),o(d,m,g),g.added?p+=v.length:f+=v.length}else{if(u)if(v.length<=8&&m<c.length-2)d.push.apply(d,a(v));else{var b=Math.min(v.length,4);s.push("@@ -"+u+","+(f-u+b)+" +"+h+","+(p-h+b)+" @@"),s.push.apply(s,d),s.push.apply(s,a(v.slice(0,b))),v.length<=4&&o(s,m,g),u=0,h=0,d=[]}f+=v.length,p+=v.length}}return s.join("\n")+"\n"},applyPatch:function(e,t){for(var n=t.split("\n"),r=[],i=!1,a=!1,o="I"===n[0][0]?4:0;o<n.length;o++)if("@"===n[o][0]){var s=n[o].split(/@@ -(\d+),(\d+) \+(\d+),(\d+) @@/);r.unshift({start:s[3],oldlength:s[2],oldlines:[],newlength:s[4],newlines:[]})}else"+"===n[o][0]?r[0].newlines.push(n[o].substr(1)):"-"===n[o][0]?r[0].oldlines.push(n[o].substr(1)):" "===n[o][0]?(r[0].newlines.push(n[o].substr(1)),r[0].oldlines.push(n[o].substr(1))):"\\"===n[o][0]&&("+"===n[o-1][0]?i=!0:"-"===n[o-1][0]&&(a=!0));for(var l=e.split("\n"),o=r.length-1;o>=0;o--){for(var c=r[o],u=0;u<c.oldlength;u++)if(l[c.start-1+u]!==c.oldlines[u])return!1;Array.prototype.splice.apply(l,[c.start-1,+c.oldlength].concat(c.newlines))}if(i)for(;!l[l.length-1];)l.pop();else a&&l.push("");return l.join("\n")},convertChangesToXML:function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];i.added?t.push("<ins>"):i.removed&&t.push("<del>"),t.push(n(i.value)),i.added?t.push("</ins>"):i.removed&&t.push("</del>")}return t.join("")},convertChangesToDMP:function(e){for(var t,n=[],r=0;r<e.length;r++)t=e[r],n.push([t.added?1:t.removed?-1:0,t.value]);return n}}}();"undefined"!=typeof t&&(t.exports=n)},{}],32:[function(e,t){t.exports=e("./lib/chrono")},{"./lib/chrono":52}],38:[function(e,t){t.exports=e("./lib/js-yaml.js")},{"./lib/js-yaml.js":53}],52:[function(e,t,n){!function(){function e(e){return 10>e?"0"+e:e}function t(e){var t=0>e?"-":"+";return e=Math.abs(e),t+(10>e?"0"+e:e)}function r(e){return 10>e?"00"+e:100>e?"0"+e:e}function i(e){var t=0>e?"-":"+";return e=Math.abs(e),t+(10>e?"000"+e:100>e?"00"+e:1e3>e?"0"+e:e)}function a(e){if("number"==typeof e)return[e,e in o.offsetToTz?o.offsetToTz[e][0]:""];var t=parseInt(e,10);return isNaN(t)?[o.tzToOffset[e],e]:(e=(0>t?1:-1)*(60*Math.floor(Math.abs(t)/100)+Math.abs(t)%100),[e,e in o.offsetToTz?o.offsetToTz[e][0]:""])}var o="undefined"!=typeof n?n:{};o.tzToOffset={ACDT:-630,ACST:-570,ACT:-480,ADT:180,AEDT:-660,AEST:-600,AFT:-270,AKDT:480,AKST:540,AMST:-300,AMT:-240,ART:180,AST:-240,AWDT:-540,AWST:-480,AZOST:60,AZT:-240,BDT:-480,BIOT:-360,BIT:720,BOT:240,BRT:180,BST:-60,BTT:-360,CAT:-120,CCT:-390,CDT:300,CEDT:-120,CEST:-120,CET:-60,CHAST:-765,ChST:-600,CIST:480,CKT:600,CLST:180,CLT:240,COST:240,COT:300,CST:-480,CST:360,CVT:60,CXT:-420,DFT:-60,EAST:360,EAT:-180,ECT:240,ECT:300,EDT:240,EEDT:-180,EEST:-180,EET:-120,EST:300,FJT:-720,FKST:240,GALT:360,GET:-240,GFT:180,GILT:-720,GIT:540,GMT:0,GST:120,GYT:240,HADT:540,HAST:600,HKT:-480,HMT:-300,HST:600,IRKT:-480,IRST:-210,IST:-120,IST:-330,IST:-60,JST:-540,KRAT:-420,KST:-540,LHST:-630,LINT:-840,MAGT:-660,MDT:360,MIT:570,MSD:-240,MSK:-180,MST:-390,MST:-480,MST:420,MUT:-240,NDT:150,NFT:-690,NPT:-345,NST:210,NT:210,NZST:-720,NZDT:-780,OMST:-360,PDT:420,PETT:-720,PHOT:-780,PKT:-300,PST:-480,PST:480,RET:-240,SAMT:-240,SAST:-120,SBT:-660,SCT:-240,SLT:-330,SST:-480,SST:660,TAHT:600,THA:-420,UTC:0,UYST:120,UYT:180,VET:270,VLAT:-600,WAT:-60,WEDT:-60,WEST:-60,YAKT:-540,YEKT:-300},o.offsetToTz={720:["BIT"],660:["SST"],600:["HST","CKT","HAST","TAHT"],570:["MIT"],540:["AKST","GIT","HADT"],480:["PST","AKDT","CIST"],420:["MST","PDT"],360:["CST","EAST","GALT","MDT"],300:["EST","CDT","COT","ECT"],270:["VET"],240:["ECT","AST","BOT","CLT","COST","EDT","FKST","GYT"],210:["NT","NST"],180:["BRT","ADT","ART","CLST","GFT","UYT"],150:["NDT"],120:["GST","UYST"],60:["AZOST","CVT"],0:["UTC","GMT"],"-60":["CET","BST","DFT","IST","WAT","WEDT","WEST"],"-120":["EET","CAT","CEDT","CEST","IST","SAST"],"-180":["MSK","AST","AST","EAT","EEDT","EEST"],"-210":["IRST"],"-240":["AST","AMT","AZT","GET","MSD","MUT","RET","SAMT","SCT"],"-270":["AFT"],"-300":["AMST","HMT","PKT","YEKT"],"-330":["IST","SLT"],"-345":["NPT"],"-360":["BIOT","BST","BTT","OMST"],"-390":["CCT","MST"],"-420":["CXT","KRAT","THA"],"-480":["ACT","AWST","BDT","CST","HKT","IRKT","MST","PST","SST"],"-540":["AWDT","JST","KST","YAKT"],"-570":["ACST"],"-600":["AEST","ChST","VLAT"],"-630":["ACDT","LHST"],"-660":["AEDT","MAGT","SBT"],"-690":["NFT"],"-720":["FJT","GILT","PETT","NZST"],"-765":["CHAST"],"-780":["PHOT","NZDT"],"-840":["LINT"]},o.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],o.months=["January","February","March","April","May","June","July","August","September","October","November","December"],o.monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o.intervals=[function(e){return 1!==e?"years":"year"
},function(e){return 1!==e?"months":"month"},function(e){return 1!==e?"weeks":"week"},function(e){return 1!==e?"days":"day"},function(e){return 1!==e?"hours":"hour"},function(e){return 1!==e?"minutes":"minute"},function(e){return 1!==e?"seconds":"second"}],o.intervalFormats={ago:"% ago","in":"in %"},o.ordinals=function(e){switch(e%10){case 1:return e%100!==11?"st":"th";case 2:return e%100!==12?"nd":"th";case 3:return e%100!==13?"rd":"th";default:return"th"}},Date.prototype.interval=function(e){var t=this,n=t>e;n&&(t=e,e=this);var r=[e.getFullYear()-t.getFullYear(),e.getMonth()-t.getMonth(),0,e.getDate()-t.getDate(),e.getHours()-t.getHours(),e.getMinutes()-t.getMinutes(),e.getSeconds()-t.getSeconds()];r[6]<0&&(r[5]--,r[6]+=60),r[5]<0&&(r[4]--,r[5]+=60),r[4]<0&&(r[3]--,r[4]+=24),r[3]<0&&(r[1]--,r[3]+=t.getUTCDaysOfMonth()),r[1]<0&&(r[0]--,r[1]+=12),r[2]=r[3]/7|0,r[3]-=7*r[2];for(var i=[],a=0;a<r.length;a++)r[a]&&i.push(r[a]+" "+o.intervals[a](r[a]));return i},Date.prototype.format=function(n,s){var l=this.getTime();if(void 0===s)s=this.getTimezone(),u=this.getTimezoneName();else{var c=a(s);s=c[0];var u=c[1]}this.setTime(l-6e4*s);for(var h="",d=0;d<n.length;d++)switch(n.charAt(d)){case"d":h+=e(this.getUTCDate());break;case"D":h+=o.weekdaysShort[this.getUTCDay()];break;case"j":h+=this.getUTCDate();break;case"l":h+=o.weekdays[this.getUTCDay()];break;case"N":h+=this.getUTCDay()||7;break;case"S":h+=o.ordinals(this.getUTCDate());break;case"w":h+=this.getUTCDay();break;case"z":h+=this.getUTCDayOfYear();break;case"W":h+=e(this.getUTCISOWeek());break;case"F":h+=o.months[this.getUTCMonth()];break;case"m":h+=e(this.getUTCMonth()+1);break;case"M":h+=o.monthsShort[this.getUTCMonth()];break;case"n":h+=this.getUTCMonth()+1;break;case"t":h+=this.getUTCDaysOfMonth();break;case"L":h+=this.isLeapYear()?1:0;break;case"o":h+=this.getUTCISOFullYear();break;case"Y":h+=this.getUTCFullYear();break;case"y":h+=e(this.getUTCFullYear()%100);break;case"a":h+=this.getUTCHours()>=12?"pm":"am";break;case"A":h+=this.getUTCHours()>=12?"PM":"AM";break;case"g":h+=this.getUTCHours()%12||12;break;case"G":h+=this.getUTCHours();break;case"h":h+=e(this.getUTCHours()%12||12);break;case"H":h+=e(this.getUTCHours());break;case"i":h+=e(this.getUTCMinutes());break;case"s":h+=e(this.getUTCSeconds());break;case"u":h+=r(this.getUTCMilliseconds());break;case"O":h+=i((0>s?1:-1)*(100*Math.floor(Math.abs(s)/60)+Math.abs(s)%60));break;case"P":h+=t((0>s?1:-1)*Math.floor(Math.abs(s)/60))+":"+e(Math.abs(s)%60);break;case"T":h+=u;break;case"Z":h+=60*-s;break;case"c":this.setTime(l),h+=this.format("Y-m-d\\TH:i:sP",s);break;case"r":this.setTime(l),h+=this.format("D, d M y H:i:s O",s);break;case"U":h+=Math.floor(this.getTime()/1e3);break;case"\\":void 0!==n.charAt(++d)&&(h+=n.charAt(d));break;default:h+=n.charAt(d)}return this.setTime(l),h},Date.prototype.isLeapYear=function(){var e=this.getUTCFullYear();return e%400===0||e%4===0&&e%100!==0},Date.prototype.getUTCISOWeek=function(){var e=new Date(this);return e.setUTCDate(e.getUTCDate()-(e.getUTCDay()||7)+4),Math.ceil((e.getTime()-Date.UTC(e.getUTCFullYear(),0))/864e5/7)},Date.prototype.getUTCISOFullYear=function(){var e=new Date(this);return e.setUTCDate(e.getUTCDate()-(e.getUTCDay()||7)+4),e.getUTCFullYear()},Date.prototype.getUTCDaysOfMonth=function(){var e=new Date(this);return e.setUTCDate(1),e.setUTCMonth(e.getUTCMonth()+1),e.setUTCDate(0),e.getUTCDate()},Date.prototype.getUTCDayOfYear=function(){return Math.floor((this.getTime()-Date.UTC(this.getUTCFullYear(),0))/864e5)},Date.prototype.getTimezone=function(){return"_tz"in this||this.setTimezone((new Date).getTimezoneOffset()),this._tz},Date.prototype.getTimezoneName=function(){return this.getTimezone(),this._tzName},Date.prototype.setTimezone=function(e){var t=a(e);this._tz=t[0],this._tzName=t[1]}}()},{}],34:[function(e,t){var n=e("backbone");t.exports=n.Model.extend({})},{backbone:12}],35:[function(e,t){var n=e("underscore"),r=e("backbone"),i=e("../models/branch"),a=e("../util");t.exports=r.Collection.extend({model:i,initialize:function(e,t){this.repo=t.repo},parse:function(e){return map=n.map(e,function(e){return n.extend(e,{repo:this.repo})}.bind(this))},fetch:function(e){e=n.clone(e)||{};var t=e.success,i=function(e,n,r){this.add(e),a.parseLinkHeader(r,{success:i,complete:t})}.bind(this);r.Collection.prototype.fetch.call(this,n.extend(e,{success:function(e,n,r){a.parseLinkHeader(r.xhr,{success:i,error:t})}.bind(this)}))},url:function(){return this.repo.url()+"/branches?per_page=100"}})},{"../util":28,"../models/branch":54,underscore:11,backbone:12}],36:[function(e,t){var n=e("underscore"),r=e("backbone"),i=e("../models/commit");t.exports=r.Collection.extend({model:i,initialize:function(e,t){this.repo=t.repo},setBranch:function(e,t){this.branch=e,this.fetch(t)},parse:function(e){return map=n.map(e,function(e){return n.extend(e,{repo:this.repo})}.bind(this))},url:function(){return this.repo.url()+"/commits?sha="+this.branch}})},{"../models/commit":55,underscore:11,backbone:12}],39:[function(e,t){var n=(e("jquery-browserify"),e("underscore")),r=e("backbone"),i=e("../../dist/templates");t.exports=r.View.extend({template:i.loading,queue:0,initialize:function(){n.bindAll(this)},start:function(e){this.queue++,e&&this.$el.find(".message").html(e),this.$el.show()},stop:function(){this.queue=0,this.$el.fadeOut(150)},done:function(){n.defer(function(){this.queue--,this.queue<1&&this.stop()}.bind(this))},render:function(){return this.$el.html(n.template(this.template,{},{variable:"data"})),this}})},{"../../dist/templates":14,"jquery-browserify":10,underscore:11,backbone:12}],40:[function(e,t){var n=e("underscore"),r=e("backbone"),i=(e("../util"),{branches:e("./sidebar/branches"),history:e("./sidebar/history"),drafts:e("./sidebar/drafts"),orgs:e("./sidebar/orgs"),save:e("./sidebar/save"),settings:e("./sidebar/settings")}),a=e("../../dist/templates");t.exports=r.View.extend({template:a.drawer,subviews:{},initialize:function(){n.bindAll(this)},render:function(){return this.$el.html(n.template(this.template,{},{variable:"sidebar"})),n.invoke(this.subviews,"render"),this},initSubview:function(e,t){if(!i[e])return!1;t=n.clone(t)||{};var r=new i[e](t);return this.$el.find("#"+e).html(r.el),this.subviews[e]=r,r},filepathGet:function(){return this.$el.find(".filepath").val()},updateState:function(e){this.$el.find(".button.save").html(e)},open:function(){this.$el.toggleClass("open",!0)},close:function(){this.$el.toggleClass("open",!1)},toggle:function(){this.$el.toggleClass("open")},toggleMobile:function(){this.$el.toggleClass("mobile")},mode:function(e){this.$el.attr("data-sidebar",e)},remove:function(){n.invoke(this.subviews,"remove"),this.subviews={},r.View.prototype.remove.apply(this,arguments)}})},{"../util":28,"./sidebar/branches":56,"./sidebar/history":57,"./sidebar/drafts":58,"./sidebar/orgs":43,"./sidebar/settings":59,"./sidebar/save":60,"../../dist/templates":14,underscore:11,backbone:12}],41:[function(e,n){var r=e("jquery-browserify"),i=e("underscore"),a=e("backbone"),o=e("../config"),s=(e("../util"),e("../../dist/templates"));n.exports=a.View.extend({template:s.nav,events:{"click a.edit":"emit","click a.preview":"emit","click a.meta":"emit","click a.settings":"emit","click a.save":"emit","click .mobile .toggle":"toggleMobile"},initialize:function(e){this.app=e.app,this.sidebar=e.sidebar,this.user=e.user},render:function(){return this.$el.html(i.template(this.template,{login:o.site+"/login/oauth/authorize?client_id="+o.id+"&scope=repo"},{variable:"data"})),this.$save=this.$el.find(".file .save .popup"),this},emit:function(e){e&&!r(e.currentTarget).hasClass("preview")&&e.preventDefault();var t=r(e.currentTarget).data("state");r(e.currentTarget).hasClass("active")&&(t=this.state),this.active(t),this.toggle(t,e)},setFileState:function(e){this.state=e,this.active(e)},updateState:function(e,n,r){e||(e=t("navigation.save")),this.$save.html(e),this.$el.find(".file").removeClass("error saving saved save").addClass(n),r&&i.delay(function(){this.$el.find(".file").removeClass(n)}.bind(this),1e3)},mode:function(e){this.$el.attr("class",e)},active:function(e){e="new"===e?"edit":e,this.$el.find(".file a").removeClass("active"),this.$el.find(".file a[data-state="+e+"]").toggleClass("active")},toggle:function(e,t){this.trigger(e,t)},toggleMobile:function(e){return this.sidebar.toggleMobile(),r(e.target).toggleClass("active"),!1}})},{"../config":8,"../util":28,"../../dist/templates":14,"jquery-browserify":10,underscore:11,backbone:12}],42:[function(e,n){var r=e("jquery-browserify"),i=e("underscore"),a=e("backbone"),o=e("../util"),s=e("../../dist/templates");n.exports=a.View.extend({template:s.header,events:{"focus input":"checkPlaceholder",'change input[data-mode="path"]':"updatePath",'change input[data-mode="title"]':"updateTitle"},initialize:function(e){i.bindAll(this),this.user=e.user,this.repo=e.repo,this.file=e.file,this.input=e.input,this.title=e.title,this.placeholder=e.placeholder,this.alterable=e.alterable},render:function(){var e,n=this.user?this.user.get("login"):this.repo.get("owner").login,r=(this.repo?this.repo.get("permissions"):void 0,this.repo&&this.repo.get("private")?!0:!1),a=t("heading.explore"),o=n;if(this.user)e='<img src="'+this.user.get("avatar_url")+'" width="40" height="40" alt="Avatar" />';else if(this.file)e='<span class="ico round document '+this.file.get("lang")+'"></span>',a=this.file.get("path");else{var s=r?" private":"";a=this.repo.get("name"),o=o+"/"+a,e='<div class="avatar round"><span class="icon round repo'+s+'"></span></div>'}var l={alterable:this.alterable,avatar:e,repo:this.repo?this.repo.attributes:void 0,isPrivate:r,input:this.input,path:o,placeholder:this.placeholder,user:n,title:a,mode:this.title?"title":"path",translate:this.file?this.file.get("translate"):void 0};return this.$el.empty().append(i.template(this.template,l,{variable:"data"})),this},checkPlaceholder:function(e){if(this.file.isNew()){var t=r(e.target,this.el);t.val()||t.val(t.attr("placeholder"))}},updatePath:function(e){var t=e.currentTarget.value;return this.file.set("path",t),this.trigger("makeDirty"),!1},updateTitle:function(e){if(e&&e.preventDefault(),this.file.isNew()&&!this.file.isClone()){var t=e.currentTarget.value,n=this.file.get("path"),r=n.split("/"),i=r.pop(),a=o.extractDate(i),s=i.split(".").pop();n=r.join("/")+"/"+a+"-"+o.stringToUrl(t)+"."+s,this.file.set("path",n)}this.trigger("makeDirty")},inputGet:function(){return this.$el.find(".headerinput").val()},headerInputFocus:function(){this.$el.find(".headerinput").focus()}})},{"../util":28,"../../dist/templates":14,"jquery-browserify":10,underscore:11,backbone:12}],47:[function(e,t){var n=(e("jquery-browserify"),e("underscore")),r=e("backbone"),i=e("../../dist/templates");t.exports=r.View.extend({className:"modal overlay",template:i.modal,events:{"click .got-it":"confirm"},initialize:function(){this.message=this.options.message},render:function(){var e={message:this.message};return this.$el.empty().append(n.template(i.modal,e,{variable:"modal"})),this},confirm:function(){var e=this;return this.$el.fadeOut("fast",function(){e.remove()}),!1}})},{"../../dist/templates":14,"jquery-browserify":10,underscore:11,backbone:12}],48:[function(e,n){var r=e("jquery-browserify"),i=(e("chosen-jquery-browserify"),e("underscore")),a=e("../util"),o=e("backbone"),s=e("../toolbar/markdown.js"),l=e("../upload"),c=e("../../dist/templates");n.exports=o.View.extend({template:c.toolbar,events:{"click .group a":"markdownSnippet","click .publish-flag":"togglePublishing","change #upload":"fileInput","click .dialog .insert":"dialogInsert","click .draft-to-post":"post"},initialize:function(e){var t=this;this.file=e.file,this.view=e.view,this.collection=e.collection;var n=e.config;if(n){if(this.hasMedia=n.media?!0:!1,this.siteUrl=n.siteUrl?!0:!1,n.media){this.mediaDirectoryPath=n.media;var i=new RegExp("^"+this.mediaDirectoryPath);this.media=this.collection.filter(function(e){var t=e.get("path");return"file"===e.get("type")&&i.test(t)&&(a.isBinary(t)||a.isImage(e.get("extension")))})}n.relativeLinks&&r.ajax({cache:!0,dataType:"jsonp",jsonp:!1,jsonpCallback:n.relativeLinks.split("?callback=")[1]||"callback",url:n.relativeLinks,success:function(e){t.relativeLinks=e}})}},render:function(){var e={markdown:this.file.get("markdown"),writable:this.file.get("writable"),lang:this.file.get("lang"),draft:this.file.get("draft"),metadata:this.file.get("metadata")};return this.$el.html(i.template(this.template,e,{variable:"toolbar"})),this},fileInput:function(e){var t=this;return l.fileSelect(e,function(e,n,r){t.trigger("updateImageInsert",e,n,r)}),!1},highlight:function(e){this.$el.find(".group a").removeClass("active"),arguments&&this.$el.find('[data-key="'+e+'"]').addClass("active")},post:function(e){e&&e.preventDefault(),this.trigger("post",e)},markdownSnippet:function(e){var n=this,o=r(e.target).closest("a"),l=this.$el.find("#dialog"),u=this.$el.find(".group a"),h=o.data("key"),d=o.data("snippet"),f=a.trim(this.view.editor.getSelection());if(l.removeClass().empty(),d)if(u.removeClass("on"),f){switch(h){case"bold":this.bold(f);break;case"italic":this.italic(f);break;case"heading":this.heading(f);break;case"sub-heading":this.subHeading(f);break;case"quote":this.quote(f);break;default:this.view.editor.replaceSelection(d)}this.view.editor.focus()}else this.view.editor.replaceSelection(d),this.view.editor.focus();else if(o.data("dialog")){var p,m;if(m="media"===h&&!this.mediaDirectoryPath||"media"===h&&!this.media.length?h+" no-directory":h,o.hasClass("on"))o.removeClass("on"),l.removeClass().empty();else switch(u.removeClass("on"),o.addClass("on"),l.removeClass().addClass("dialog "+m).empty(),h){case"link":if(p=i(c.dialogs.link).template(),l.append(p({relativeLinks:n.relativeLinks})),n.relativeLinks&&r(".chzn-select",l).chosen().change(function(){r(".chzn-single span").text("Insert a local link.");var e=r(this).val().split(",");r("input[name=href]",l).val(e[0]),r("input[name=text]",l).val(e[1])}),f){var g,v,y=/\[([^\]]+)\]\(([^)]+)\)/,b=/".*?"/,w=f;if(y.test(f)){var x=y.exec(f);w=x[1],g=x[2],b.test(x[2])&&(g=x[2].split(b)[0],v=x[2].match(b)[0].replace(/"/g,""))}r("input[name=text]",l).val(w),g&&r("input[name=href]",l).val(g),v&&r("input[name=title]",l).val(v)}break;case"media":if(p=i(c.dialogs.media).template(),l.append(p({description:t("dialogs.media.description",{input:'<input id="upload" class="upload" type="file" />'}),assetsDirectory:n.media&&n.media.length?!0:!1,writable:n.file.get("writable")})),n.media&&n.media.length&&n.renderMedia(n.media),f){var k,S,_=/\!\[([^\[]*)\]\(([^\)]+)\)/;if(_.test(f)){var C=_.exec(f);S=C[1],k=C[2],r("input[name=url]",l).val(k),S&&r("input[name=alt]",l).val(S)}}break;case"help":p=i(c.dialogs.help).template(),l.append(p({help:s().help}));var T=this.$el.find(".main-menu a"),E=this.$el.find(".sub-menu"),L=this.$el.find(".help-content");T.on("click",function(){if(!r(this).hasClass("active")){T.removeClass("active"),L.removeClass("active"),E.removeClass("active").find("a").removeClass("active"),r(this).addClass("active");var e=r(this).data("id");r("."+e).addClass("active");var t=r("."+e+" a:first",this.el);t.addClass("active");var n=t.data("id");r(".help-"+n).addClass("active")}return!1}),E.find("a").on("click",function(){if(!r(this).hasClass("active")){E.find("a").removeClass("active"),L.removeClass("active"),r(this).addClass("active");var e=r(this).data("id");r(".help-"+e).addClass("active")}return!1})}}return!1},publishState:function(){return"true"===this.$el.find("publish-state")?!0:!1},updatePublishState:function(){var e=(this.$el.find(".publish-flag"),$publishKey.attr("data-state"));"true"===e?$publishKey.html(t("actions.publishing.published")+'<span class="ico small checkmark"></span>'):$publishKey.html(t("actions.publishing.unpublished")+'<span class="ico small checkmark"></span>')},togglePublishing:function(e){var n=r(e.currentTarget),a=this.file.get("metadata"),o=a.published;return o?n.hasClass("published")?n.empty().append(t("actions.publishing.unpublish")+'<span class="ico small checkmark"></span><span class="popup round arrow-top">'+t("actions.publishing.unpublishInfo")+"</span>").removeClass("published").attr("data-state",!1):n.empty().append(t("actions.publishing.published")+'<span class="ico small checkmark"></span>').addClass("published").attr("data-state",!0):n.hasClass("published")?n.empty().append(t("actions.publishing.unpublished")+'<span class="ico small checkmark"></span>').removeClass("published").attr("data-state",!1):n.empty().append(t("actions.publishing.publish")+'<span class="ico small checkmark"></span><span class="popup round arrow-top">'+t("actions.publishing.publishInfo")+"</span>").addClass("published").attr("data-state",!0),this.file.set("metadata",i.extend(a,{published:!o})),this.view.makeDirty(),!1},dialogInsert:function(e){var t=(r("#dialog",this.el),r(e.target,this.el)),n=t.data("type");if("link"===n){var i=r('input[name="href"]').val(),a=r('input[name="text"]').val(),o=r('input[name="title"]').val();a||(a=i),o?this.view.editor.replaceSelection("["+a+"]("+i+' "'+o+'")'):this.view.editor.replaceSelection("["+a+"]("+i+")"),this.view.editor.focus()}if("media"===n)if(this.queue){var s=r('input[name="url"]').val();this.view.upload(this.queue.e,this.queue.file,this.queue.content,s),this.queue=void 0}else{var l="{{site.baseurl}}/"+r('input[name="url"]').val(),c=r('input[name="alt"]').val();this.view.editor.replaceSelection("!["+c+"]("+l+")"),this.view.editor.focus()}return!1},heading:function(e){"#"===e.charAt(0)&&"#"!==e.charAt(2)?this.view.editor.replaceSelection(a.lTrim(e.replace(/#/g,""))):this.view.editor.replaceSelection("## "+e.replace(/#/g,""))},subHeading:function(e){"#"===e.charAt(0)&&"#"!==e.charAt(3)?this.view.editor.replaceSelection(a.lTrim(e.replace(/#/g,""))):this.view.editor.replaceSelection("### "+e.replace(/#/g,""))},italic:function(e){"_"===e.charAt(0)&&e.charAt(e.length-1==="_")?this.view.editor.replaceSelection(e.replace(/_/g,"")):this.view.editor.replaceSelection("_"+e.replace(/_/g,"")+"_")},bold:function(e){"*"===e.charAt(0)&&e.charAt(e.length-1==="*")?this.view.editor.replaceSelection(e.replace(/\*/g,"")):this.view.editor.replaceSelection("**"+e.replace(/\*/g,"")+"**")},quote:function(e){">"===e.charAt(0)?this.view.editor.replaceSelection(a.lTrim(e.replace(/\>/g,""))):this.view.editor.replaceSelection("> "+e.replace(/\>/g,""))},renderMedia:function(e,t){var n=this,o=this.$el.find("#media"),s=i(c.dialogs.mediadirectory).template();if(o.empty(),t&&t.join()!==this.assetsDirectory){var l=t.slice(0,t.length-1).join("/");o.append('<li class="directory back"><a href="'+l+'"><span class="ico fl small inline back"></span>Back</a></li>')}e.each(function(e){var t=e.get("path").split("/"),n=t.slice(0,t.length-1).join("/");o.append(s({name:e.get("name"),type:e.get("type"),path:n+"/"+encodeURIComponent(e.get("name")),isMedia:a.isMedia(e.get("name").split(".").pop())}))}),r(".asset a",o).on("click",function(){var e=r(this).attr("href"),t=a.trim(r(this).text());return a.isImage(e.split(".").pop())?(n.$el.find('input[name="url"]').val(e),n.$el.find('input[name="alt"]').val(t)):(n.view.editor.replaceSelection(e),n.view.editor.focus()),!1})}})},{"../toolbar/markdown.js":33,"../util":28,"../upload":30,"../../dist/templates":14,"jquery-browserify":10,"chosen-jquery-browserify":61,underscore:11,backbone:12}],45:[function(e,t){var n=e("jquery-browserify"),r=e("underscore"),i=e("backbone"),a=e("../models/file"),o=e("../models/folder"),s=e("./li/file"),l=e("./li/folder"),c=e("../../dist/templates"),u=e(".././util");t.exports=i.View.extend({className:"listings",template:c.files,subviews:{},events:{"mouseover .item":"activeListing","mouseover .item a":"activeListing","click .breadcrumb a":"navigate","click .item a":"navigate"},initialize:function(e){r.bindAll(this);var t=e.app;t.loader.start(),this.app=t,this.branch=e.branch||e.repo.get("default_branch"),this.branches=e.branches,this.history=e.history,this.nav=e.nav,this.path=e.path||"",this.repo=e.repo,this.router=e.router,this.search=e.search,this.sidebar=e.sidebar,this.branches.fetch({success:this.setModel,error:function(e,t){this.router.error(t)}.bind(this),complete:this.app.loader.done})},setModel:function(){this.app.loader.start(),this.model=this.branches.findWhere({name:this.branch}).files,this.model.fetch({success:function(){var e=this.model.config;this.rooturl=e&&e.rooturl?e.rooturl:"",this.presentationModel=this.model.filteredModel||this.model,this.search.model=this.presentationModel,this.listenTo(this.search,"search",this.render),this.render()}.bind(this),error:function(e,t){this.router.error(t)}.bind(this),complete:this.app.loader.done,reset:!0})},newFile:function(){var e=[this.repo.get("owner").login,this.repo.get("name"),"new",this.branch,this.path?this.path:this.rooturl];this.router.navigate(r.compact(e).join("/"),!0)},render:function(){this.app.loader.start();var e,t=this.search&&this.search.input&&this.search.input.val(),n=this.rooturl?this.rooturl+"/":"",i=this.path?this.path+"/":"",c=[this.repo.get("owner").login,this.repo.get("name"),"tree",this.branch].join("/"),h=new RegExp("^"+(i?i:n)+"[^/]*$");this.presentationModel.get("_posts")&&/^(?!_drafts)/.test(this.path)&&(e=this.sidebar.initSubview("drafts",{link:[c,"_drafts"].join("/"),sidebar:this.sidebar}),this.subviews.drafts=e,e.render());var d={path:i,parts:u.chunkedPath(this.path),rooturl:n,url:c};this.$el.html(r.template(this.template,d,{variable:"data"}));var f=t?this.search.search():this.presentationModel.filter(function(e){return h.test(e.get("path"))}.bind(this)),p=document.createDocumentFragment();return f.each(function(e,t){var n;e instanceof a?n=new s({branch:this.branch,history:this.history,index:t,model:e,repo:this.repo,router:this.router}):e instanceof o&&(n=new l({branch:this.branch,history:this.history,index:t,model:e,repo:this.repo,router:this.router})),p.appendChild(n.render().el),this.subviews[e.id]=n}.bind(this)),this.$el.find("ul").html(p),this.app.loader.done(),this},activeListing:function(e){var t=n(e.target);t.hasClass("item")||(t=n(e.target).closest("li")),this.$el.find(".item").removeClass("active"),t.addClass("active"),this.search.$el.blur()},navigate:function(e){var t=e.currentTarget,n=t.href.split("#")[1],r=n.match(/tree\/([^\/]*)\/?(.*)$/);e&&r&&(e.preventDefault(),this.path=r?r[2]:n,this.render(),this.router.navigate(n))},remove:function(){r.invoke(this.subviews,"remove"),this.subviews={},i.View.prototype.remove.apply(this,arguments)}})},{"../models/file":18,"../models/folder":62,"./li/file":63,"./li/folder":64,"../../dist/templates":14,".././util":28,"jquery-browserify":10,underscore:11,backbone:12}],49:[function(e,t){var n=e("jquery-browserify"),r=(e("chosen-jquery-browserify"),e("underscore"));r.merge=e("deepmerge");var i=e("js-yaml"),a=e("backbone"),o=e("../../dist/templates"),s=e(".././util");t.exports=a.View.extend({template:o.metadata,events:{"change .metafield":"updateModel","click .create-select":"createSelect","click .finish":"exit"},initialize:function(e){r.bindAll(this),this.model=e.model,this.titleAsHeading=e.titleAsHeading,this.view=e.view},render:function(){this.$el.empty().append(r.template(this.template));var e=this.$el.find(".form"),t=this.model.get("metadata"),n=t&&t.lang?t.lang:"en";return r.each(this.model.get("defaults"),function(t,i){var a=this.model.get("metadata")||{},l=!0;if(t&&"title"===t.name&&this.titleAsHeading&&(l=!1),l)if(t&&t.field)switch(t.field.element){case"button":var c={name:t.name,label:t.field.label,help:t.field.help,on:t.field.on,off:t.field.off};e.append(r.template(o.meta.button,c,{variable:"meta"}));break;case"checkbox":var u={name:t.name,label:t.field.label,help:t.field.help,value:t.name,checked:t.field.value};e.append(r.template(o.meta.checkbox,u,{variable:"meta"}));break;case"text":var h={name:t.name,label:t.field.label,help:t.field.help,value:t.field.value,placeholder:t.field.placeholder,type:"text"};e.append(r.template(o.meta.text,h,{variable:"meta"}));break;case"textarea":var d=s.stringToUrl(t.name),f={name:t.name,id:d,value:t.field.value,label:t.field.label,help:t.field.help,placeholder:t.field.placeholder,type:"textarea"};e.append(r.template(o.meta.textarea,f,{variable:"meta"}));var p=document.getElementById(d);this[d]=CodeMirror(function(e){p.parentNode.replaceChild(e,p),e.id=d,e.className+=" inner ",e.setAttribute("data-name",t.name)},{mode:d,value:p.value,lineWrapping:!0,theme:"prose-bright"});break;case"number":var m={name:t.name,label:t.field.label,help:t.field.help,value:t.field.value,type:"number"};e.append(r.template(o.meta.text,m,{variable:"meta"}));break;case"select":var g={name:t.name,label:t.field.label,help:t.field.help,placeholder:t.field.placeholder,options:t.field.options,lang:n};e.append(r.template(o.meta.select,g,{variable:"meta"}));break;case"multiselect":var v={name:t.name,label:t.field.label,help:t.field.help,alterable:t.field.alterable,placeholder:t.field.placeholder,options:t.field.options,lang:n};e.append(r.template(o.meta.multiselect,v,{variable:"meta"}));break;case"hidden":var y={},b=a[t.name];if(r.isArray(b)){var w=r.difference(t.field.value,b);y[t.name]=w.length?r.union(t.field.value,b):b}else y[t.name]=t.field.value;this.model.set("metadata",r.extend(y,this.model.get("metadata")||{}))}else{var x={name:i,label:i,value:t,type:"text"};e.append(r.template(o.meta.text,x,{variable:"meta"}))}}.bind(this)),this.$el.find(".chzn-select").chosen().change(this.updateModel),this.renderRaw(),this},updateModel:function(e){var t=e.currentTarget,n=t.name,i=t.value,a={};a[n]=i;var o=this.model.get("metadata");this.model.set("metadata",r.extend(o,a)),this.view.makeDirty()},rawKeyMap:function(){return{"Ctrl-S":this.view.updateFile}},renderRaw:function(){var e,t="yaml"===this.model.get("lang");t?(e=this.view.$el.find("#code"),e.empty()):this.$el.find(".form").append(r.template(o.meta.raw));var n=(t?e:this.$el.find("#raw"))[0];this.raw=CodeMirror(n,{mode:"yaml",value:"",lineWrapping:!0,lineNumbers:t,extraKeys:this.rawKeyMap(),theme:"prose-bright"}),this.listenTo(this.raw,"blur",function(e){var t,n=e.getValue();try{t=i.safeLoad(n)}catch(a){console.log("Error parsing CodeMirror editor text"),console.log(a)}if(t){var o=this.model.get("metadata");this.model.set("metadata",r.extend(o,t)),this.view.makeDirty()}}.bind(this)),this.setValue(this.model.get("metadata"))},getValue:function(){var e=this,t=this.model.get("metadata")||{};if(t.published=this.view.toolbar&&this.view.toolbar.publishState()||t&&t.published?!0:!1,this.titleAsHeading&&(t.title=this.view.header?this.view.header.inputGet():this.model.get("metadata").title[0]),r.each(this.$el.find("[name]"),function(e){var i=n(e),a=i.val();switch(e.type){case"select-multiple":case"select-one":case"textarea":case"text":a&&(a="number"===i.data("type")?Number(a):a,t[e.name]=r.has(t,e.name)&&t[e.name]!==a?r.union(t[e.name],a):a);break;case"checkbox":t[e.name]=e.checked?r.has(t,e.name)&&e.name!==e.value?r.union(t[e.name],e.value):e.value===e.name?e.checked:e.value:r.has(t,e.name)||e.name!==e.value?e.checked:e.checked;break;case"button":"true"===a?t[e.name]=!0:"false"===a&&(t[e.name]=!1)}}),this.$el.find(".yaml-block").each(function(){var r=n(this).find(".CodeMirror").attr("id"),a=n("#"+r).data("name");if(e[r])try{t[a]=i.safeLoad(e[r].getValue())}catch(o){console.log("Error parsing yaml front matter"),console.log(o)}}),this.raw)try{t=r.merge(t,i.safeLoad(this.raw.getValue())||{})}catch(a){console.log("Error parsing not defined raw yaml front matter"),console.log(a)}return t},setValue:function(e){var t,a=this.$el.find(".form"),s={};r.each(e,function(e,a){var o,l=!1,c=this.$el.find('[name="'+a+'"]'),u=c.length;if(u){for(var h=0;u>h;h++)if(r.isArray(e))for(var d=0;d<e.length;d++)switch(c[h].type){case"select-multiple":case"select-one":if(o=n(c[h]).find('option[value="'+e[d]+'"]'),o.length){for(var f=0;f<o.length;f++)o[f].selected="selected";l=!0}break;case"text":case"textarea":c[h].value=e,l=!0;break;case"checkbox":c[h].value===e&&(c[h].checked="checked",l=!0)}else switch(c[h].type){case"select-multiple":case"select-one":if(o=n(c[h]).find('option[value="'+e+'"]'),o.length){for(var p=0;p<o.length;p++)o[p].selected="selected";l=!0}break;case"text":case"textarea":c[h].value=e,l=!0;break;case"checkbox":c[h].checked=e?"checked":!1,l=!0;break;case"button":c[h].value=e?!0:!1,c[h].innerHTML=e?c[h].getAttribute("data-on"):c[h].getAttribute("data-off"),l=!0}l||null===e||(s[a]=s.hasOwnProperty(a)&&s[a]!==e?r.union(s[a],e):e)}else{{var m=r.find(this.model.get("defaults"),function(e){return e&&e.name===a});m&&r.isArray(e)?r.difference(e,m.field.value):e}"published"===a||"title"===a||m||(t={},t[a]=e,this.raw&&this.raw.setValue(this.raw.getValue()+i.safeDump(t)))}}.bind(this)),r.each(s,function(t,n){if(null!==t){switch(typeof t){case"boolean":var i={name:n,label:t,value:t,checked:t?"checked":!1};a.append(r.template(o.meta.checkbox,i,{variable:"meta"}));break;case"string":var s={name:n,label:t,value:t,type:"text"};a.append(r.template(o.meta.text,s,{variable:"meta"}));break;case"object":var l={name:n,label:n,placeholder:n,options:t,lang:e.lang||"en"};a.append(r.template(o.meta.multiselect,l,{variable:"meta"}));break;default:console.log("ERROR could not create metadata field for "+typeof t,n+": "+t)}this.$el.find(".chzn-select").chosen().change(this.updateModel)}}.bind(this)),this.$el.find(".chzn-select").trigger("liszt:updated"),this.model.set("metadata",this.getValue())},getRaw:function(){return i.safeDump(this.getValue()).trim()},setRaw:function(e){try{this.raw.setValue(i.safeDump(e)),this.refresh}catch(t){throw t}},refresh:function(){var e=this;this.$el.find(".yaml-block").each(function(){var t=n(this).find(".CodeMirror").attr("id");e[t]&&e[t].refresh()}),this.raw&&this.raw.refresh()},createSelect:function(e){var t=n(e.target).parent(),i=t.find("input"),a=n(e.target).data("select"),o=this.$el.find("#"+a),s=r(i.val()).escape();if(s.length>0){var l='<option value="'+s+'" selected="selected">'+s+"</option>";o.append(l),i.attr("value",""),o.trigger("liszt:updated"),o.trigger("change")}return!1},exit:function(){return this.view.nav.active(this.view.mode),"blob"===this.view.mode?this.view.blob():this.view.edit(),!1}})},{"../../dist/templates":14,".././util":28,"jquery-browserify":10,"chosen-jquery-browserify":61,underscore:11,"js-yaml":38,backbone:12,deepmerge:65}],65:[function(e,t){t.exports=function n(e,t){var r=Array.isArray(t),i=r&&[]||{};return r?(e=e||[],i=i.concat(e),t.forEach(function(t,r){"undefined"==typeof e[r]?i[r]=t:"object"==typeof t?i[r]=n(e[r],t):-1===e.indexOf(t)&&i.push(t)})):(e&&"object"==typeof e&&Object.keys(e).forEach(function(t){i[t]=e[t]}),Object.keys(t).forEach(function(r){i[r]="object"==typeof t[r]&&t[r]?e[r]?n(e[r],t[r]):t[r]:t[r]})),i}},{}],43:[function(e,t){var n=(e("jquery-browserify"),e("underscore")),r=e("backbone"),i=e("../../../dist/templates"),a=e("../../cookie");t.exports=r.View.extend({template:i.sidebar.orgs,initialize:function(e){n.bindAll(this),this.model=e.model,this.router=e.router,this.sidebar=e.sidebar,this.user=e.user,this.model.fetch({success:this.render,error:function(e,t){this.router.error(t)}.bind(this)})},render:function(){var e={login:{user:a.get("login"),id:a.get("id")},user:this.user.toJSON(),orgs:this.model.toJSON()};return this.$el.html(n.template(this.template,e,{variable:"orgs"})),this.$el.find("li a").removeClass("active"),this.$el.find('li a[data-id="'+this.user.get("id")+'"]').addClass("active"),this.sidebar.open(),this}})},{"../../../dist/templates":14,"../../cookie":3,"jquery-browserify":10,underscore:11,backbone:12}],44:[function(e,t){var n=(e("jquery-browserify"),e("underscore")),r=e("backbone"),i=e("../../cookie"),a=e("../../../dist/templates");t.exports=r.View.extend({tagName:"li",className:"item clearfix",template:a.li.repo,initialize:function(e){this.model=e.model,this.$el.attr("data-index",e.index),this.$el.attr("data-id",this.model.id),this.$el.attr("data-navigate","#"+this.model.get("owner").login+"/"+this.model.get("name"))
},render:function(){var e=n.extend(this.model.attributes,{login:i.get("login")});return this.$el.empty().append(n.template(this.template,e,{variable:"repo"})),this}})},{"../../cookie":3,"../../../dist/templates":14,"jquery-browserify":10,underscore:11,backbone:12}],53:[function(e,t){"use strict";function n(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}var r=e("./js-yaml/loader"),i=e("./js-yaml/dumper");t.exports.NIL=e("./js-yaml/common").NIL,t.exports.Type=e("./js-yaml/type"),t.exports.Schema=e("./js-yaml/schema"),t.exports.FAILSAFE_SCHEMA=e("./js-yaml/schema/failsafe"),t.exports.JSON_SCHEMA=e("./js-yaml/schema/json"),t.exports.CORE_SCHEMA=e("./js-yaml/schema/core"),t.exports.DEFAULT_SAFE_SCHEMA=e("./js-yaml/schema/default_safe"),t.exports.DEFAULT_FULL_SCHEMA=e("./js-yaml/schema/default_full"),t.exports.load=r.load,t.exports.loadAll=r.loadAll,t.exports.safeLoad=r.safeLoad,t.exports.safeLoadAll=r.safeLoadAll,t.exports.dump=i.dump,t.exports.safeDump=i.safeDump,t.exports.YAMLException=e("./js-yaml/exception"),t.exports.MINIMAL_SCHEMA=e("./js-yaml/schema/failsafe"),t.exports.SAFE_SCHEMA=e("./js-yaml/schema/default_safe"),t.exports.DEFAULT_SCHEMA=e("./js-yaml/schema/default_full"),t.exports.scan=n("scan"),t.exports.parse=n("parse"),t.exports.compose=n("compose"),t.exports.addConstructor=n("addConstructor"),e("./js-yaml/require")},{"./js-yaml/loader":66,"./js-yaml/dumper":67,"./js-yaml/common":68,"./js-yaml/type":69,"./js-yaml/schema":70,"./js-yaml/schema/failsafe":71,"./js-yaml/schema/json":72,"./js-yaml/schema/core":73,"./js-yaml/schema/default_safe":74,"./js-yaml/schema/default_full":75,"./js-yaml/exception":76,"./js-yaml/require":77}],54:[function(e,t){{var n=e("backbone"),r=e("../collections/files");e("../config")}t.exports=n.Model.extend({initialize:function(e){this.repo=e.repo,this.set("name",e.name);var t=e.commit.sha;this.set("sha",t),this.files=new r([],{repo:this.repo,branch:this,sha:t})},url:function(){return this.repo.url()+"/branches/"+this.get("name")}})},{"../collections/files":78,"../config":8,backbone:12}],55:[function(e,t){var n=e("underscore"),r=e("backbone");t.exports=r.Model.extend({initialize:function(e){n.bindAll(this),this.repo=e.repo},url:function(){return this.repo.url()+"/commits/"+this.get("sha")}})},{underscore:11,backbone:12}],68:[function(e,t){"use strict";function n(e){return void 0===e||null===e}function r(e){return"object"==typeof e&&null!==e}function i(e){return Array.isArray(e)?e:n(e)?[]:[e]}function a(e,t){var n,r,i,a;if(t)for(a=Object.keys(t),n=0,r=a.length;r>n;n+=1)i=a[n],e[i]=t[i];return e}function o(e,t){var n,r="";for(n=0;t>n;n+=1)r+=e;return r}var s={};t.exports.NIL=s,t.exports.isNothing=n,t.exports.isObject=r,t.exports.toArray=i,t.exports.repeat=o,t.exports.extend=a},{}],76:[function(e,t){"use strict";function n(e,t){this.name="YAMLException",this.reason=e,this.mark=t,this.message=this.toString(!1)}n.prototype.toString=function(e){var t;return t="JS-YAML: "+(this.reason||"(unknown reason)"),!e&&this.mark&&(t+=" "+this.mark.toString()),t},t.exports=n},{}],62:[function(e,t){var n=e("underscore"),r=e("backbone"),i=e(".././util");t.exports=r.Model.extend({idAttribute:"path",initialize:function(e){n.bindAll(this),this.branch=e.branch,this.collection=e.collection,this.repo=e.repo,this.set({name:i.extractFilename(e.path)[1],path:e.path,type:e.type})},url:function(){return this.repo.url()+"/contents/"+this.get("path")+"?ref="+this.branch.get("name")}})},{".././util":28,underscore:11,backbone:12}],79:[function(){},{}],57:[function(e,n){{var r=(e("jquery-browserify"),e("underscore")),i=e("backbone"),a=e("./li/commit"),o=e("queue-async"),s=e("../../cookie"),l=e("../../../dist/templates");e("../../util")}n.exports=i.View.extend({subviews:{},template:l.sidebar.label,initialize:function(e){r.bindAll(this);var t=e.app;t.loader.start(),this.app=t,this.branch=e.branch,this.commits=e.commits,this.repo=e.repo,this.router=e.router,this.sidebar=e.sidebar,this.user=e.user,this.view=e.view,this.commits.setBranch(this.branch,{success:this.render,error:function(e,t){this.router.error(t)}.bind(this),complete:this.app.loader.done})},renderFiles:function(e,t){this.app.loader.start();var n=r.flatten(r.map(e,function(e){return e.get("files")}),!0),i=r.groupBy(n,function(e){return e.filename}),o=r.uniq(r.map(n,function(e){return e.filename}));if(o.length){var s=document.createDocumentFragment(),l=s.appendChild(document.createElement("ul"));l.className="listing",o.slice(0,5).each(function(e){var t=i[e],n=t[0],r=new a({branch:this.branch,file:n,repo:this.repo,view:this.view});l.appendChild(r.render().el),this.subviews[n.sha]=r}.bind(this));var c=r.template(this.template,t,{variable:"label"});this.$el.append(c,s)}this.app.loader.done()},render:function(){this.app.loader.start(),this.$el.empty();var e=s.get("id")||!1,n=this.commits.groupBy(function(t){var n=t.get("author")||t.get("commit").author;return n&&n.id===e?"author":"all"});this.history=(n.all||[]).slice(0,15),this.recent=(n.author||[]).slice(0,15);var i=o();return r.union(this.history,this.recent).each(function(e){i.defer(function(t){e.fetch({success:function(){t()},error:function(e,t){this.router.error(t)}.bind(this)})})}),i.awaitAll(function(e){return e?e:(this.renderFiles(this.history,"History"),this.renderFiles(this.recent,t("sidebar.repo.history.label")),this.sidebar.open(),this.app.loader.done(),void 0)}.bind(this)),this},remove:function(){r.invoke(this.subviews,"remove"),this.subviews={},i.View.prototype.remove.apply(this,arguments)}})},{"./li/commit":80,"../../cookie":3,"../../util":28,"../../../dist/templates":14,"jquery-browserify":10,underscore:11,backbone:12,"queue-async":46}],56:[function(e,t){var n=e("jquery-browserify"),r=(e("chosen-jquery-browserify"),e("underscore")),i=e("backbone"),a=e("./branch"),o=e("../../../dist/templates");t.exports=i.View.extend({template:o.sidebar.branches,subviews:{},initialize:function(e){r.bindAll(this);var t=e.app;t.loader.start(),this.app=t,this.model=e.model,this.repo=e.repo,this.branch=e.branch||this.repo.get("default_branch"),this.router=e.router,this.sidebar=e.sidebar,this.model.fetch({success:this.render,error:function(e,t){this.router.error(t)}.bind(this),complete:this.app.loader.done})},render:function(){if(!(this.model.length<2)){this.app.loader.start(),this.$el.empty().append(r.template(this.template));var e=document.createDocumentFragment();this.model.each(function(t){var n=new a({model:t,repo:this.repo,branch:this.branch});e.appendChild(n.render().el),this.subviews[t.get("name")]=n}.bind(this)),this.$el.find("select").html(e);var t=this.router;return this.$el.find(".chzn-select").chosen().change(function(){t.navigate(n(this).val(),!0)}),this.sidebar.open(),this.app.loader.done(),this}},remove:function(){r.invoke(this.subviews,"remove"),this.subviews={},i.View.prototype.remove.apply(this,arguments)}})},{"./branch":81,"../../../dist/templates":14,"jquery-browserify":10,"chosen-jquery-browserify":61,underscore:11,backbone:12}],58:[function(e,t){var n=(e("jquery-browserify"),e("underscore")),r=e("backbone"),i=e("../../../dist/templates");t.exports=r.View.extend({className:"inner",template:i.sidebar.drafts,initialize:function(e){n.bindAll(this),this.link=e.link,this.sidebar=e.sidebar},render:function(){return this.$el.html(n.template(this.template,this.link,{variable:"link"})),this.sidebar.open(),this}})},{"../../../dist/templates":14,"jquery-browserify":10,underscore:11,backbone:12}],59:[function(e,t){var n=e("jquery-browserify"),r=e("underscore"),i=e("backbone"),a=(e("../nav"),e("../../util"),e("../../../dist/templates"));t.exports=i.View.extend({template:a.sidebar.settings,events:{"click a.delete":"emit","click a.translate":"emit","click a.draft":"emit","change input.filepath":"setPath"},initialize:function(e){this.sidebar=e.sidebar,this.config=e.config,this.file=e.file,this.fileInput=e.fileInput,this.listenTo(this.file,"change:path",this.updatePath)},emit:function(e){e&&e.preventDefault();var t=n(e.currentTarget).data("action");this.sidebar.trigger(t,e)},updatePath:function(e,t){this.$el.find("input.filepath").attr("value",t)},setPath:function(e){return this.file.set("path",e.currentTarget.value),this.trigger("makeDirty"),!1},render:function(){var e={languages:this.config?this.config.languages:[],lang:this.file.get("lang"),metadata:this.file.get("metadata"),fileInput:this.fileInput,path:this.file.get("path")};return this.$el.html(r.template(this.template,e,{variable:"settings"})),this}})},{"../nav":41,"../../util":28,"../../../dist/templates":14,"jquery-browserify":10,underscore:11,backbone:12}],60:[function(e,n){var r=e("jquery-browserify"),i=e("underscore"),a=e("backbone"),o=(e("../nav"),e("../../../dist/templates")),s=e("../../util");n.exports=a.View.extend({template:o.sidebar.save,events:{"change .commit-message":"setMessage","click a.cancel":"emit","click a.confirm":"emit"},initialize:function(e){i.bindAll(this),this.sidebar=e.sidebar,this.file=e.file,this.listenTo(this.file,"change:path",this.updatePlaceholder)},emit:function(e){var t=r(e.currentTarget).data("action");return this.sidebar.trigger(t,e),!1},setMessage:function(e){var t=e.currentTarget.value;this.file.set("message",t)},updatePlaceholder:function(e,n){var r=s.extractFilename(n)[1],i=this.file.isNew()?t("actions.commits.created",{filename:r}):t("actions.commits.updated",{filename:r});this.file.set("placeholder",i),this.$el.find(".commit-message").attr("placeholder",i)},render:function(){var e=this.file.get("writable")?t("sidebar.save.save"):t("sidebar.save.submit");return this.$el.html(i.template(this.template,e,{variable:"writable"})),this.updatePlaceholder(this.file,this.file.get("path")),this}})},{"../nav":41,"../../../dist/templates":14,"../../util":28,underscore:11,"jquery-browserify":10,backbone:12}],63:[function(e,n){{var r=(e("jquery-browserify"),e("underscore")),i=e("backbone"),a=e("../sidebar/li/commit"),o=e("../../../dist/templates");e("../../util")}n.exports=i.View.extend({template:o.li.file,tagName:"li",className:"item clearfix",events:{"click a.delete":"destroy"},initialize:function(e){this.branch=e.branch,this.history=e.history,this.model=e.model,this.repo=e.repo,this.router=e.router,this.$el.attr("data-index",e.index),this.model.get("binary")||this.$el.attr("data-navigate","#"+this.repo.get("owner").login+"/"+this.repo.get("name")+"/edit/"+this.branch+"/"+this.model.get("path"))},render:function(){var e=r.extend(this.model.attributes,{branch:this.branch,repo:this.repo.attributes}),t=this.model.collection.config&&this.model.collection.config.rooturl,n=new RegExp("^"+t+"(.*)"),i=t?e.path.match(n):!1;return e.jailpath=i?i[1]:e.path,this.$el.html(r.template(this.template,e,{variable:"file"})),this},destroy:function(){return confirm(t("actions.delete.warn"))&&this.model.destroy({success:function(e,t){var n=t.commit,i=new a({branch:this.branch,file:r.extend(n,{contents_url:e.get("content_url"),filename:e.get("path"),status:"removed"}),repo:this.repo,view:this.view});this.history.$el.find("#commits").prepend(i.render().el),this.history.subviews[n.sha]=i,this.$el.fadeOut("fast")}.bind(this),error:function(e,t){this.router.error(t)}.bind(this)}),!1}})},{"../sidebar/li/commit":80,"../../../dist/templates":14,"../../util":28,"jquery-browserify":10,underscore:11,backbone:12}],64:[function(e,t){var n=(e("jquery-browserify"),e("underscore")),r=e("backbone"),i=e("../../../dist/templates");t.exports=r.View.extend({tagName:"li",className:"item clearfix",template:i.li.folder,initialize:function(e){this.model=e.model,this.repo=e.repo,this.branch=e.branch,this.$el.attr("data-index",e.index),this.$el.attr("data-navigate","#"+this.repo.get("owner").login+"/"+this.repo.get("name")+"/tree/"+this.branch+"/"+this.model.get("path"))},render:function(){var e=n.extend(this.model.attributes,{branch:this.branch,repo:this.repo.attributes}),t=this.model.collection.config&&this.model.collection.config.rooturl,r=new RegExp("^"+t+"(.*)"),i=t?e.path.match(r):!1;return e.jailpath=i?i[1]:e.path,this.$el.empty().append(n.template(this.template,e,{variable:"folder"})),this}})},{"../../../dist/templates":14,"jquery-browserify":10,underscore:11,backbone:12}],66:[function(e,t){"use strict";function n(e,t,n){function r(t){return new s(t,new l(Ft,e,Vt,Gt,Vt-Kt))}function i(e){throw r(e)}function a(e){var t=r(e);if(zt)throw t;console.warn(t.toString())}function u(t,n,r){var a,o,s,l;if(n>t){if(l=e.slice(t,n),r&&Ht)for(a=0,o=l.length;o>a;a+=1)s=l.charCodeAt(a),9===s||s>=32&&1114111>=s||i("expected valid JSON character");Ot+=l}}function q(e,t){var n,r,a,s;for(o.isObject(t)||i("cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(t),a=0,s=n.length;s>a;a+=1)r=n[a],d.call(e,r)||(e[r]=t[r])}function Y(e,t,n,r){var i,a;if(n=String(n),null===e&&(e={}),"tag:yaml.org,2002:merge"===t)if(Array.isArray(r))for(i=0,a=r.length;a>i;i+=1)q(e,r[i]);else q(e,r);else e[n]=r;return e}function X(){_===Xt?Vt+=1:C===Xt?Vt+=_===e.charCodeAt(Vt+1)?2:1:i("a line break is expected"),Gt+=1,Kt=Vt,Xt=e.charCodeAt(Vt)}function J(t,n){for(var r=0;Ut>Vt;){for(;T===Xt||S===Xt;)Xt=e.charCodeAt(++Vt);if(t&&A===Xt)do Xt=e.charCodeAt(++Vt);while(Ut>Vt&&_!==Xt&&C!==Xt);if(_!==Xt&&C!==Xt)break;for(X(),r+=1,Yt=0;T===Xt;)Yt+=1,Xt=e.charCodeAt(++Vt);n>Yt&&a("deficient indentation")}return r}function Z(){var t,n;return Vt===Kt&&(F===Xt||P===Xt)&&e.charCodeAt(Vt+1)===Xt&&e.charCodeAt(Vt+2)===Xt&&(t=Vt+3,n=e.charCodeAt(t),t>=Ut||T===n||S===n||_===n||C===n)?!0:!1}function nt(e){1===e?Ot+=" ":e>1&&(Ot+=o.repeat("\n",e-1))}function at(t,n){var r,i,a,o,s,l,c,h,d=It,p=Ot;if(T===Xt||S===Xt||_===Xt||C===Xt||O===Xt||Q===Xt||tt===Xt||pt===Xt||gt===Xt||A===Xt||N===Xt||D===Xt||E===Xt||mt===Xt||R===Xt||j===Xt||L===Xt||M===Xt||V===Xt||rt===Xt)return!1;if((U===Xt||F===Xt)&&(i=e.charCodeAt(Vt+1),T===i||S===i||_===i||C===i||n&&(O===i||Q===i||tt===i||pt===i||gt===i)))return!1;for(It=f,Ot="",a=o=Vt,s=!1;Ut>Vt;){if(W===Xt){if(i=e.charCodeAt(Vt+1),T===i||S===i||_===i||C===i||n&&(O===i||Q===i||tt===i||pt===i||gt===i))break}else if(A===Xt){if(r=e.charCodeAt(Vt-1),T===r||S===r||_===r||C===r)break}else{if(Vt===Kt&&Z()||n&&(O===Xt||Q===Xt||tt===Xt||pt===Xt||gt===Xt))break;if(_===Xt||C===Xt){if(l=Gt,c=Kt,h=Yt,J(!1,-1),Yt>=t){s=!0;continue}Vt=o,Gt=l,Kt=c,Yt=h,Xt=e.charCodeAt(Vt);break}}s&&(u(a,o,!1),nt(Gt-l),a=o=Vt,s=!1),T!==Xt&&S!==Xt&&(o=Vt+1),Xt=e.charCodeAt(++Vt)}return u(a,o,!1),Ot?!0:(It=d,Ot=p,!1)}function ot(t){var n,r;if(j!==Xt)return!1;for(It=f,Ot="",Xt=e.charCodeAt(++Vt),n=r=Vt;Ut>Vt;)if(j===Xt){if(u(n,Vt,!0),Xt=e.charCodeAt(++Vt),j!==Xt)return!0;n=r=Vt,Xt=e.charCodeAt(++Vt)}else _===Xt||C===Xt?(u(n,r,!0),nt(J(!1,t)),n=r=Vt,Xt=e.charCodeAt(Vt)):Vt===Kt&&Z()?i("unexpected end of the document within a single quoted scalar"):(Xt=e.charCodeAt(++Vt),r=Vt);i("unexpected end of the stream within a single quoted scalar")}function lt(t){var n,r,a,o,s,l;if(L!==Xt)return!1;for(It=f,Ot="",Xt=e.charCodeAt(++Vt),n=r=Vt;Ut>Vt;){if(L===Xt)return u(n,Vt,!0),Xt=e.charCodeAt(++Vt),!0;if(et===Xt){if(u(n,Vt,!0),Xt=e.charCodeAt(++Vt),_===Xt||C===Xt)J(!1,t);else if(vt[Xt])Ot+=vt[Xt],Xt=e.charCodeAt(++Vt);else if(yt[Xt]){for(a=yt[Xt],l=0,o=1;a>=o;o+=1)s=4*(a-o),Xt=e.charCodeAt(++Vt),Xt>=H&&B>=Xt?l|=Xt-H<<s:Xt>=G&&K>=Xt?l|=Xt-G+10<<s:Xt>=it&&st>=Xt?l|=Xt-it+10<<s:i("expected hexadecimal character");Ot+=String.fromCharCode(l),Xt=e.charCodeAt(++Vt)}else i("unknown escape sequence");n=r=Vt}else _===Xt||C===Xt?(u(n,r,!0),nt(J(!1,t)),n=r=Vt,Xt=e.charCodeAt(Vt)):Vt===Kt&&Z()?i("unexpected end of the document within a double quoted scalar"):(Xt=e.charCodeAt(++Vt),r=Vt)}i("unexpected end of the stream within a double quoted scalar")}function ct(t){var n,r,a,o,s,l,c,u,h,d,f=!0,v=jt;switch(Xt){case Q:o=tt,c=!1,r=[];break;case pt:o=gt,c=!0,r={};break;default:return!1}for(null!==Dt&&(Nt[Dt]=r),Xt=e.charCodeAt(++Vt);Ut>Vt;){if(J(!0,t),Xt===o)return Xt=e.charCodeAt(++Vt),jt=v,It=c?m:p,Ot=r,!0;f||i("missed comma between flow collection entries"),h=u=d=null,s=l=!1,U===Xt&&(a=e.charCodeAt(Vt+1),(T===a||S===a||_===a||C===a)&&(s=l=!0,Vt+=1,Xt=a,J(!0,t))),n=Gt,Tt(t,g,!1,!0),h=jt,u=Ot,!l&&Gt!==n||W!==Xt||(s=!0,Xt=e.charCodeAt(++Vt),J(!0,t),Tt(t,g,!1,!0),d=Ot),c?Y(r,h,u,d):s?r.push(Y(null,h,u,d)):r.push(u),J(!0,t),O===Xt?(f=!0,Xt=e.charCodeAt(++Vt)):f=!1}i("unexpected end of the stream within a flow collection")}function ut(t){var n,r,a=w,s=!1,l=t,c=-1;switch(Xt){case mt:r=!1;break;case R:r=!0;break;default:return!1}for(It=f,Ot="";Ut>Vt;)if(Xt=e.charCodeAt(++Vt),I===Xt||F===Xt)w===a?a=I===Xt?k:x:i("repeat of a chomping mode identifier");else{if(!(Xt>=H&&B>=Xt))break;H===Xt?i("bad explicit indentation width of a block scalar; it cannot be less than one"):s?i("repeat of an indentation width identifier"):(l=t+(Xt-z),s=!0)}if(T===Xt||S===Xt){do Xt=e.charCodeAt(++Vt);while(T===Xt||S===Xt);if(A===Xt)do Xt=e.charCodeAt(++Vt);while(Ut>Vt&&_!==Xt&&C!==Xt)}for(;Ut>Vt;){for(X(),Yt=0;(!s||l>Yt)&&T===Xt;)Yt+=1,Xt=e.charCodeAt(++Vt);if(!s&&Yt>l&&(l=Yt),_!==Xt&&C!==Xt){if(l>Yt){k===a?Ot+=o.repeat("\n",c+1):w===a&&(Ot+="\n");break}s=!0,r?T===Xt||S===Xt?(Ot+=o.repeat("\n",c+1),c=1):0===c?(Ot+=" ",c=0):(Ot+=o.repeat("\n",c),c=0):(Ot+=o.repeat("\n",c+1),c=0),n=Vt;do Xt=e.charCodeAt(++Vt);while(Ut>Vt&&_!==Xt&&C!==Xt);u(n,Vt,!1)}else c+=1}return!0}function ht(t){var n,r,a=jt,o=[],s=!1;for(null!==Dt&&(Nt[Dt]=o);Ut>Vt&&F===Xt&&(r=e.charCodeAt(Vt+1),T===r||S===r||_===r||C===r);)if(s=!0,Vt+=1,Xt=r,J(!0,-1)&&t>=Yt)o.push(null);else if(n=Gt,Tt(t,y,!1,!0),o.push(Ot),J(!0,-1),(Gt===n||Yt>t)&&Ut>Vt)i("bad indentation of a sequence entry");else if(t>Yt)break;return s?(jt=a,It=p,Ot=o,!0):!1}function dt(t){var n,r,a,o=jt,s={},l=null,c=null,u=null,h=!1,d=!1;for(null!==Dt&&(Nt[Dt]=s);Ut>Vt;){if(n=e.charCodeAt(Vt+1),a=Gt,U!==Xt&&W!==Xt||T!==n&&S!==n&&_!==n&&C!==n){if(!Tt(t,v,!1,!0))break;if(Gt===a){for(;T===Xt||S===Xt;)Xt=e.charCodeAt(++Vt);if(W===Xt)Xt=e.charCodeAt(++Vt),T!==Xt&&S!==Xt&&_!==Xt&&C!==Xt&&i("a whitespace character is expected after the key-value separator within a block mapping"),h&&(Y(s,l,c,null),l=c=u=null),d=!0,h=!1,r=!1,l=jt,c=Ot;else{if(!d)return jt=o,!0;i("can not read an implicit mapping pair; a colon is missed")}}else{if(!d)return jt=o,!0;i("can not read a block mapping entry; a multiline key may not be an implicit key")}}else U===Xt?(h&&(Y(s,l,c,null),l=c=u=null),d=!0,h=!0,r=!0):h?(h=!1,r=!0):i("incomplete explicit mapping pair; a key node is missed"),Vt+=1,Xt=n;if((Gt===a||Yt>t)&&(Tt(t,b,!0,r)&&(h?c=Ot:u=Ot),h||(Y(s,l,c,u),l=c=u=null),J(!0,-1)),Yt>t&&Ut>Vt)i("bad indentation of a mapping entry");else if(t>Yt)break}return h&&Y(s,l,c,null),d&&(jt=o,It=m,Ot=s),d}function ft(){var t,n,r,a=!1,o=!1;if(E!==Xt)return!1;if(null!==jt&&i("duplication of a tag property"),Xt=e.charCodeAt(++Vt),$===Xt?(a=!0,Xt=e.charCodeAt(++Vt)):E===Xt?(o=!0,n="!!",Xt=e.charCodeAt(++Vt)):n="!",t=Vt,a){do Xt=e.charCodeAt(++Vt);while(Ut>Vt&&R!==Xt);Ut>Vt?(r=e.slice(t,Vt),Xt=e.charCodeAt(++Vt)):i("unexpected end of the stream within a verbatim tag")}else{for(;Ut>Vt&&T!==Xt&&S!==Xt&&_!==Xt&&C!==Xt;)E===Xt&&(o?i("tag suffix cannot contain exclamation marks"):(n=e.slice(t-1,Vt+1),Ht&&!kt.test(n)&&i("named tag handle cannot contain such characters"),o=!0,t=Vt+1)),Xt=e.charCodeAt(++Vt);r=e.slice(t,Vt),Ht&&xt.test(r)&&i("tag suffix cannot contain flow indicator characters")}return Ht&&r&&!St.test(r)&&i("tag name cannot contain such characters: "+r),a?jt=r:d.call(Mt,n)?jt=Mt[n]+r:"!"===n?jt="!"+r:"!!"===n?jt="tag:yaml.org,2002:"+r:i('undeclared tag handle "'+n+'"'),!0}function _t(){var t;if(N!==Xt)return!1;for(null!==Dt&&i("duplication of an anchor property"),Xt=e.charCodeAt(++Vt),t=Vt;Ut>Vt&&T!==Xt&&S!==Xt&&_!==Xt&&C!==Xt&&O!==Xt&&Q!==Xt&&tt!==Xt&&pt!==Xt&&gt!==Xt;)Xt=e.charCodeAt(++Vt);return Vt===t&&i("name of an anchor node must contain at least one character"),Dt=e.slice(t,Vt),!0}function Ct(){var t,n;if(D!==Xt)return!1;for(Xt=e.charCodeAt(++Vt),t=Vt;Ut>Vt&&T!==Xt&&S!==Xt&&_!==Xt&&C!==Xt&&O!==Xt&&Q!==Xt&&tt!==Xt&&pt!==Xt&&gt!==Xt;)Xt=e.charCodeAt(++Vt);return Vt===t&&i("name of an alias node must contain at least one character"),n=e.slice(t,Vt),Nt.hasOwnProperty(n)||i('unidentified alias "'+n+'"'),Ot=Nt[n],J(!0,-1),!0}function Tt(e,t,n,r){var o,s,l,u,h,f,p,m,w,x,k=!1,S=!0,_=!1;if(jt=null,Dt=null,It=null,Ot=null,o=s=l=b===t||y===t,n&&J(!0,-1))if(k=!0,Yt===e)S=!1;else{if(!(Yt>e))return!1;S=!0}if(S)for(;ft()||_t();)if(J(!0,-1))if(k=!0,Yt>e)S=!0,l=o;else{if(Yt!==e)return!0;S=!1,l=o}else l=!1;if(l&&(l=k||r),(S||b===t)&&(m=g===t||v===t?e:e+1,w=Vt-Kt,S?l&&(ht(w)||dt(w))||ct(m)?_=!0:(s&&ut(m)||ot(m)||lt(m)?_=!0:Ct()?(_=!0,(null!==jt||null!==Dt)&&i("alias node should not have any properties")):at(m,g===t)&&(_=!0,null===jt&&(jt="?")),null!==Dt&&(Nt[Dt]=Ot)):_=l&&ht(w)),null!==jt&&"!"!==jt)if("?"===jt){if(qt)for(u=0,h=$t.length;h>u;u+=1)if(f=$t[u],x=f.loader.resolver(Ot,!1),c!==x){jt=f.tag,Ot=x;break}}else d.call(Rt,jt)?(p=Rt[jt].loader,null!==Ot&&p.kind!==It&&i("unacceptable node kind for !<"+jt+'> tag; it should be "'+p.kind+'", not "'+It+'"'),p.resolver&&(x=p.resolver(Ot,!0),c!==x?Ot=x:i("cannot resolve a node with !<"+jt+"> explicit tag"))):a("unknown tag !<"+jt+">");return null!==jt||null!==Dt||_}function Et(){var n,r,o,s=Vt,l=!1;for(Lt=null,At=Bt,Mt={},Nt={};Ut>Vt&&(J(!0,-1),!(Yt>0||M!==Xt));){for(l=!0,Xt=e.charCodeAt(++Vt),n=Vt;Ut>Vt&&T!==Xt&&S!==Xt&&_!==Xt&&C!==Xt;)Xt=e.charCodeAt(++Vt);for(r=e.slice(n,Vt),o=[],r.length<1&&i("directive name must not be less than one character in length");Ut>Vt;){for(;T===Xt||S===Xt;)Xt=e.charCodeAt(++Vt);if(A===Xt){do Xt=e.charCodeAt(++Vt);while(Ut>Vt&&_!==Xt&&C!==Xt);break}if(_===Xt||C===Xt)break;for(n=Vt;Ut>Vt&&T!==Xt&&S!==Xt&&_!==Xt&&C!==Xt;)Xt=e.charCodeAt(++Vt);o.push(e.slice(n,Vt))}Ut>Vt&&X(),d.call(Wt,r)?Wt[r](r,o):a('unknown document directive "'+r+'"')}return J(!0,-1),0===Yt&&F===Xt&&F===e.charCodeAt(Vt+1)&&F===e.charCodeAt(Vt+2)?(Vt+=3,Xt=e.charCodeAt(Vt),J(!0,-1)):l&&i("directives end mark is expected"),Tt(Yt-1,b,!1,!0),J(!0,-1),Ht&&At&&wt.test(e.slice(s,Vt))&&a("non-ASCII line breaks are interpreted as content"),t(Ot),Vt===Kt&&Z()?(P===Xt&&(Vt+=3,Xt=e.charCodeAt(Vt),J(!0,-1)),void 0):(Ut>Vt&&i("end of the stream or a document separator is expected"),void 0)}n=n||{};var Lt,At,Mt,Nt,jt,Dt,It,Ot,Ft=n.filename||null,Pt=n.schema||h,qt=n.resolve||!0,Ht=n.validate||!0,zt=n.strict||!1,Bt=n.legacy||!1,Wt={},$t=Pt.compiledImplicit,Rt=Pt.compiledTypeMap,Ut=e.length,Vt=0,Gt=0,Kt=0,Yt=0,Xt=e.charCodeAt(Vt);for(Wt.YAML=function(e,t){var n,r,o;null!==Lt&&i("duplication of %YAML directive"),1!==t.length&&i("YAML directive accepts exactly one argument"),n=/^([0-9]+)\.([0-9]+)$/.exec(t[0]),null===n&&i("ill-formed argument of the YAML directive"),r=parseInt(n[1],10),o=parseInt(n[2],10),1!==r&&i("unacceptable YAML version of the document"),Lt=t[0],At=2>o,1!==o&&2!==o&&a("unsupported YAML version of the document")},Wt.TAG=function(e,t){var n,r;2!==t.length&&i("TAG directive accepts exactly two arguments"),n=t[0],r=t[1],kt.test(n)||i("ill-formed tag handle (first argument) of the TAG directive"),d.call(Mt,n)&&i('there is a previously declared suffix for "'+n+'" tag handle'),St.test(r)||i("ill-formed tag prefix (second argument) of the TAG directive"),Mt[n]=r},Ht&&bt.test(e)&&i("the stream contains non-printable characters");T===Xt;)Yt+=1,Xt=e.charCodeAt(++Vt);for(;Ut>Vt;)Et()}function r(e,t){function r(e){if(a)throw new s("expected a single document in the stream, but found more");i=e,a=!0}var i=null,a=!1;return n(e,r,t),i}function i(e,t,r){n(e,t,o.extend({schema:u},r))}function a(e,t){return r(e,o.extend({schema:u},t))}var o=e("./common"),s=e("./exception"),l=e("./mark"),c=o.NIL,u=e("./schema/default_safe"),h=e("./schema/default_full"),d=Object.prototype.hasOwnProperty,f="string",p="array",m="object",g=1,v=2,y=3,b=4,w=1,x=2,k=3,S=9,_=10,C=13,T=32,E=33,L=34,A=35,M=37,N=38,j=39,D=42,I=43,O=44,F=45,P=46,q=47,H=48,z=49,B=57,W=58,$=60,R=62,U=63,V=64,G=65,K=70,Y=76,X=78,J=80,Z=85,Q=91,et=92,tt=93,nt=95,rt=96,it=97,at=98,ot=101,st=102,lt=110,ct=114,ut=116,ht=117,dt=118,ft=120,pt=123,mt=124,gt=125,vt={};vt[H]="\x00",vt[it]="",vt[at]="\b",vt[ut]="	",vt[S]="	",vt[lt]="\n",vt[dt]="",vt[st]="\f",vt[ct]="\r",vt[ot]="",vt[T]=" ",vt[L]='"',vt[q]="/",vt[et]="\\",vt[X]="",vt[nt]=" ",vt[Y]="\u2028",vt[J]="\u2029";var yt={};yt[ft]=2,yt[ht]=4,yt[Z]=8;var bt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uD800-\uDFFF\uFFFE\uFFFF]/,wt=/[\x85\u2028\u2029]/,xt=/[,\[\]\{\}]/,kt=/^(?:!|!!|![a-z\-]+!)$/i,St=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;t.exports.loadAll=n,t.exports.load=r,t.exports.safeLoadAll=i,t.exports.safeLoad=a},{"./common":68,"./exception":76,"./mark":82,"./schema/default_safe":74,"./schema/default_full":75}],67:[function(e,t){!function(){"use strict";function n(e){var t=typeof e;return null===e?"null":"number"===t?0===e%1?"integer":"float":"object"===t&&Array.isArray(e)?"array":t}function r(e,t){var n,r,i,a,o,s,l;if(null===t)return{};for(n={},r=Object.keys(t),i=0,a=r.length;a>i;i+=1)o=r[i],s=String(t[o]),"!!"===o.slice(0,2)&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap[o],l&&l.dumper&&d.call(l.dumper.styleAliases,s)&&(s=l.dumper.styleAliases[s]),n[o]=s;return n}function i(e){var t,n,r;if(t=e.toString(16).toUpperCase(),255>=e)n="x",r=2;else if(65535>=e)n="u",r=4;else{if(!(4294967295>=e))throw new c("code point within a string may not be greater than 0xFFFFFFFF");n="U",r=8}return"\\"+n+s.repeat("0",r-t.length)+t}function a(e,t){function a(e){return"\n"+s.repeat(" ",G*e)}function o(e){var t,n,r;for(t=0,n=J.length;n>t;t+=1)if(r=J[t],null!==r.loader&&l!==r.loader.resolver(e,!1))return!0;return!1}function h(e){var t,n,r,a,s,l;for(U="",t=!1,n=0,l=/^(y|Y|yes|Yes|YES|n|N|no|No|NO|true|True|TRUE|false|False|FALSE|on|On|ON|off|Off|OFF)$/,(0===e.length||g===e.charCodeAt(0)||g===e.charCodeAt(e.length-1))&&(t=!0),r=0,a=e.length;a>r;r+=1)s=e.charCodeAt(r),t||(f===s||p===s||m===s||_===s||M===s||N===s||D===s||O===s||b===s||x===s||S===s||v===s||I===s||E===s||k===s||y===s||w===s||A===s||j===s||L===s||T===s||C===s)&&(t=!0),(F[s]||!(s>=32&&126>=s||133===s||s>=160&&55295>=s||s>=57344&&65533>=s||s>=65536&&1114111>=s))&&(U+=e.slice(n,r),U+=F[s]||i(s),n=r+1,t=!0);r>n&&(U+=e.slice(n,r)),!t&&o(U)&&(t=!0),!t&&l.test(e)&&(t=!0),t&&(U='"'+U+'"')}function P(e,t){var n,r,i="",a=R;for(n=0,r=t.length;r>n;n+=1)W(e,t[n],!1,!1)&&(0!==n&&(i+=", "),i+=U);R=a,U="["+i+"]"}function q(e,t,n){var r,i,o="",s=R;for(r=0,i=t.length;i>r;r+=1)W(e+1,t[r],!0,!0)&&(n&&0===r||(o+=a(e)),o+="- "+U);R=s,U=o||"[]"}function H(e,t){var n,r,i,a,o,s="",l=R,c=Object.keys(t);for(n=0,r=c.length;r>n;n+=1)o="",0!==n&&(o+=", "),i=c[n],a=t[i],W(e,i,!1,!1)&&(U.length>1024&&(o+="? "),o+=U+": ",W(e,a,!1,!1)&&(o+=U,s+=o));R=l,U="{"+s+"}"}function z(e,t,n){var r,i,o,s,l,c,u="",h=R,d=Object.keys(t);for(r=0,i=d.length;i>r;r+=1)c="",n&&0===r||(c+=a(e)),o=d[r],s=t[o],W(e+1,o,!0,!0)&&(l=null!==R&&"?"!==R&&U.length<=1024,l&&(c+="? "),c+=U,l&&(c+=a(e)),W(e+1,s,!0,l)&&(c+=": "+U,u+=c));R=h,U=u||"{}"}function B(e,t){var r,i,a,o,s,u;for(i=t?Z:J,$=n(e),a=0,o=i.length;o>a;a+=1)if(s=i[a],null!==s.dumper&&(null===s.dumper.kind||$===s.dumper.kind)&&(null===s.dumper.instanceOf||e instanceof s.dumper.instanceOf)&&(null===s.dumper.predicate||s.dumper.predicate(e))){if(R=t?s.tag:"?",null!==s.dumper.representer){if(u=X[s.tag]||s.dumper.defaultStyle,"function"==typeof s.dumper.representer)r=s.dumper.representer(e,u);else{if(!d.call(s.dumper.representer,u))throw new c("!<"+s.tag+'> tag resolver accepts not "'+u+'" style');r=s.dumper.representer[u](e,u)}if(l===r){if(t)throw new c("cannot represent an object of !<"+s.tag+"> type");continue}$=n(r),U=r}return!0}return!1}function W(e,t,n,r){if(R=null,U=t,B(t,!1)||B(t,!0),n&&(n=0>Y||Y>e),(null!==R&&"?"!==R||2!==G&&e>0)&&(r=!1),"object"===$)n&&0!==Object.keys(U).length?z(e,U,r):H(e,U);else if("array"===$)n&&0!==U.length?q(e,U,r):P(e,U);else{if("string"!==$){if(K)return!1;throw new c("unacceptabe kind of an object to dump ("+$+")")}"?"!==R&&h(U)}return null!==R&&"?"!==R&&(U="!<"+R+"> "+U),!0}t=t||{};var $,R,U,V=t.schema||u,G=Math.max(1,t.indent||2),K=t.skipInvalid||!1,Y=s.isNothing(t.flowLevel)?-1:t.flowLevel,X=r(V,t.styles||null),J=V.compiledImplicit,Z=V.compiledExplicit;return W(0,e,!0,!0)?U+"\n":""}function o(e,t){return a(e,s.extend({schema:h},t))}var s=e("./common"),l=s.NIL,c=e("./exception"),u=e("./schema/default_full"),h=e("./schema/default_safe"),d=Object.prototype.hasOwnProperty,f=9,p=10,m=13,g=32,v=33,y=34,b=35,w=37,x=38,k=39,S=42,_=44,C=45,T=58,E=62,L=63,A=64,M=91,N=93,j=96,D=123,I=124,O=125,F={};F[0]="\\0",F[7]="\\a",F[8]="\\b",F[9]="\\t",F[10]="\\n",F[11]="\\v",F[12]="\\f",F[13]="\\r",F[27]="\\e",F[34]='\\"',F[92]="\\\\",F[133]="\\N",F[160]="\\_",F[8232]="\\L",F[8233]="\\P",t.exports.dump=a,t.exports.safeDump=o}()},{"./common":68,"./exception":76,"./schema/default_full":75,"./schema/default_safe":74}],69:[function(e,t){"use strict";function n(e,t){if(t=t||{},this.tag=e,this.loader=t.loader||null,this.dumper=t.dumper||null,null===this.loader&&null===this.dumper)throw new i('Incomplete YAML type definition. "loader" or "dumper" setting must be specified.');null!==this.loader&&(this.loader=new n.Loader(this.loader)),null!==this.dumper&&(this.dumper=new n.Dumper(this.dumper))}function r(e){var t={};return null!==e&&Object.keys(e).forEach(function(n){e[n].forEach(function(e){t[String(e)]=n})}),t}var i=e("./exception");n.Loader=function(e){if(e=e||{},this.kind=e.kind||null,this.resolver=e.resolver||null,"string"!==this.kind&&"array"!==this.kind&&"object"!==this.kind)throw new i('Unacceptable "kind" setting of a type loader.')},n.Dumper=function(e){if(e=e||{},this.kind=e.kind||null,this.defaultStyle=e.defaultStyle||null,this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.representer=e.representer||null,this.styleAliases=r(e.styleAliases||null),"undefined"!==this.kind&&"null"!==this.kind&&"boolean"!==this.kind&&"integer"!==this.kind&&"float"!==this.kind&&"string"!==this.kind&&"array"!==this.kind&&"object"!==this.kind&&"function"!==this.kind)throw new i('Unacceptable "kind" setting of a type dumper.')},t.exports=n},{"./exception":76}],70:[function(e,t){"use strict";function n(e,t,r){var i=[];return e.include.forEach(function(e){r=n(e,t,r)}),e[t].forEach(function(e){r.forEach(function(t,n){t.tag===e.tag&&i.push(n)}),r.push(e)}),r.filter(function(e,t){return-1===i.indexOf(t)})}function r(){function e(e){r[e.tag]=e}var t,n,r={};for(t=0,n=arguments.length;n>t;t+=1)arguments[t].forEach(e);return r}function i(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(e){if(null!==e.loader&&"string"!==e.loader.kind)throw new o("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=n(this,"implicit",[]),this.compiledExplicit=n(this,"explicit",[]),this.compiledTypeMap=r(this.compiledImplicit,this.compiledExplicit)}var a=e("./common"),o=e("./exception"),s=e("./type");i.DEFAULT=null,i.create=function(){var e,t;switch(arguments.length){case 1:e=i.DEFAULT,t=arguments[0];break;case 2:e=arguments[0],t=arguments[1];break;default:throw new o("Wrong number of arguments for Schema.create function")}if(e=a.toArray(e),t=a.toArray(t),!e.every(function(e){return e instanceof i}))throw new o("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!t.every(function(e){return e instanceof s}))throw new o("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new i({include:e,explicit:t})},t.exports=i},{"./common":68,"./exception":76,"./type":69}],77:[function(e,t){"use strict";function n(e,t){var n=r.readFileSync(t,"utf8");e.exports=i.safeLoad(n,{filename:t})}var r=e("fs"),i=e("./loader");void 0!==e.extensions&&(e.extensions[".yml"]=n,e.extensions[".yaml"]=n),t.exports=e},{fs:79,"./loader":66}],71:[function(e,t){"use strict";var n=e("../schema");t.exports=new n({explicit:[e("../type/str"),e("../type/seq"),e("../type/map")]})
},{"../schema":70,"../type/str":83,"../type/seq":84,"../type/map":85}],72:[function(e,t){"use strict";var n=e("../schema");t.exports=new n({include:[e("./failsafe")],implicit:[e("../type/null"),e("../type/bool"),e("../type/int"),e("../type/float")]})},{"../schema":70,"./failsafe":71,"../type/null":86,"../type/bool":87,"../type/int":88,"../type/float":89}],73:[function(e,t){"use strict";var n=e("../schema");t.exports=new n({include:[e("./json")]})},{"../schema":70,"./json":72}],74:[function(e,t){"use strict";var n=e("../schema");t.exports=new n({include:[e("./core")],implicit:[e("../type/timestamp"),e("../type/merge")],explicit:[e("../type/binary"),e("../type/omap"),e("../type/pairs"),e("../type/set")]})},{"../schema":70,"./core":73,"../type/timestamp":90,"../type/merge":91,"../type/binary":92,"../type/omap":93,"../type/set":94,"../type/pairs":95}],75:[function(e,t){"use strict";var n=e("../schema");t.exports=n.DEFAULT=new n({include:[e("./default_safe")],explicit:[e("../type/js/undefined"),e("../type/js/regexp"),e("../type/js/function")]})},{"../schema":70,"./default_safe":74,"../type/js/undefined":96,"../type/js/regexp":97,"../type/js/function":98}],61:[function(e,t,n){!function(t){(function(){var r,i,a,o,s,l,c={}.hasOwnProperty,u=function(e,t){function n(){this.constructor=e}for(var r in t)c.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=function(){function e(e,t){this.form_field=e,this.options=null!=t?t:{},this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup()}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.search_contains=this.options.search_contains||!1,this.choices=0,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1},e.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||"Select Some Options":this.options.placeholder_text_single||this.options.placeholder_text||"Select an Option",this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||"No results match"},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},e.prototype.result_add_option=function(e){var t,n;return e.disabled?"":(e.dom_id=this.container_id+"_o_"+e.array_index,t=e.selected&&this.is_multiple?[]:["active-result"],e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),n=""!==e.style.cssText?' style="'+e.style+'"':"",'<li id="'+e.dom_id+'" class="'+t.join(" ")+'"'+n+">"+e.html+"</li>")},e.prototype.results_update_field=function(){return this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.keyup_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.generate_field_id=function(){var e;return e=this.generate_random_id(),this.form_field.id=e,e},e.prototype.generate_random_char=function(){var e,t,n;return e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",n=Math.floor(Math.random()*e.length),t=e.substring(n,n+1)},e}(),r=t.$,r||(r=e("jquery-browserify")),s=function(e){var t;return t=e.outerWidth()-e.width()},r.fn.extend({chosen:function(e){var t,n,i;return i=window.navigator.userAgent.toLowerCase(),n=/(msie) ([\w.]+)/.exec(i)||[],t={name:n[1]||"",version:n[2]||"0"},"msie"===t.name&&("6.0"===t.version||"7.0"===t.version&&7===document.documentMode)?this:this.each(function(){var t;return t=r(this),t.hasClass("chzn-done")?void 0:t.data("chosen",new a(this,e))})}}),a=function(e){function t(){return l=t.__super__.constructor.apply(this,arguments)}return u(t,e),t.prototype.setup=function(){return this.form_field_jq=r(this.form_field),this.current_value=this.form_field_jq.val(),this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},t.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},t.prototype.set_up_html=function(){var e,t,n,i,a,o;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",e=["chzn-container"],e.push("chzn-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chzn-rtl"),this.f_width=this.form_field_jq.outerWidth(),n={id:this.container_id,"class":e.join(" "),style:"width: "+this.f_width+"px;",title:this.form_field.title},t=r("<div />",n),this.is_multiple?t.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>'):t.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(t),this.container=r("#"+this.container_id),this.dropdown=this.container.find("div.chzn-drop").first(),i=this.container.height(),a=this.f_width-s(this.dropdown),this.dropdown.css({width:a+"px",top:i+"px"}),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first(),o=a-s(this.search_container)-s(this.search_field),this.search_field.css({width:o+"px"})),this.results_build(),this.set_tab_index(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},t.prototype.register_observers=function(){var e=this;return this.container.mousedown(function(t){return e.container_mousedown(t)}),this.container.mouseup(function(t){return e.container_mouseup(t)}),this.container.mouseenter(function(t){return e.mouse_enter(t)}),this.container.mouseleave(function(t){return e.mouse_leave(t)}),this.search_results.mouseup(function(t){return e.search_results_mouseup(t)}),this.search_results.mouseover(function(t){return e.search_results_mouseover(t)}),this.search_results.mouseout(function(t){return e.search_results_mouseout(t)}),this.form_field_jq.bind("liszt:updated",function(t){return e.results_update_field(t)}),this.form_field_jq.bind("liszt:activate",function(t){return e.activate_field(t)}),this.form_field_jq.bind("liszt:open",function(t){return e.container_mousedown(t)}),this.search_field.blur(function(t){return e.input_blur(t)}),this.search_field.keyup(function(t){return e.keyup_checker(t)}),this.search_field.keydown(function(t){return e.keydown_checker(t)}),this.search_field.focus(function(t){return e.input_focus(t)}),this.is_multiple?this.search_choices.click(function(t){return e.choices_click(t)}):this.container.click(function(e){return e.preventDefault()})},t.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},t.prototype.container_mousedown=function(e){var t;return this.is_disabled?void 0:(t=null!=e?r(e.target).hasClass("search-choice-close"):!1,"mousedown"!==(null!=e?e.type:void 0)||this.results_showing||e.preventDefault(),this.pending_destroy_click||t?this.pending_destroy_click=!1:(this.active_field?this.is_multiple||!e||r(e.target)[0]!==this.selected_item[0]&&!r(e.target).parents("a.chzn-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),r(document).click(this.click_test_action),this.results_show()),this.activate_field()))},t.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},t.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},t.prototype.close_field=function(){return r(document).unbind("click",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},t.prototype.activate_field=function(){return this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},t.prototype.test_active_click=function(e){return r(e.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},t.prototype.results_build=function(){var e,t,n,r,i;for(this.parsing=!0,this.results_data=o.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),e="",i=this.results_data,n=0,r=i.length;r>n;n++)t=i[n],t.group?e+=this.result_add_group(t):t.empty||(e+=this.result_add_option(t),t.selected&&this.is_multiple?this.choice_build(t):t.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(t.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(e),this.parsing=!1},t.prototype.result_add_group=function(e){return e.disabled?"":(e.dom_id=this.container_id+"_g_"+e.array_index,'<li id="'+e.dom_id+'" class="group-result">'+r("<div />").text(e.label).html()+"</li>")},t.prototype.result_do_highlight=function(e){var t,n,r,i,a;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),r=parseInt(this.search_results.css("maxHeight"),10),a=this.search_results.scrollTop(),i=r+a,n=this.result_highlight.position().top+this.search_results.scrollTop(),t=n+this.result_highlight.outerHeight(),t>=i)return this.search_results.scrollTop(t-r>0?t-r:0);if(a>n)return this.search_results.scrollTop(n)}},t.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},t.prototype.results_show=function(){var e;return this.is_multiple?this.max_selected_options<=this.choices&&this.form_field_jq.trigger("liszt:maxselected",{chosen:this}):(this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected)),e=this.is_multiple?this.container.height():this.container.height()-1,this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.dropdown.css({top:e+"px",left:0}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},t.prototype.results_hide=function(){return this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop"),this.result_clear_highlight(),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.dropdown.css({left:"-9000px"}),this.results_showing=!1},t.prototype.set_tab_index=function(){var e;return this.form_field_jq.attr("tabindex")?(e=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",e)):void 0},t.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},t.prototype.search_results_mouseup=function(e){var t;return t=r(e.target).hasClass("active-result")?r(e.target):r(e.target).parents(".active-result").first(),t.length?(this.result_highlight=t,this.result_select(e),this.search_field.focus()):void 0},t.prototype.search_results_mouseover=function(e){var t;return t=r(e.target).hasClass("active-result")?r(e.target):r(e.target).parents(".active-result").first(),t?this.result_do_highlight(t):void 0},t.prototype.search_results_mouseout=function(e){return r(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},t.prototype.choices_click=function(e){return e.preventDefault(),!this.active_field||r(e.target).hasClass("search-choice")||this.results_showing?void 0:this.results_show()},t.prototype.choice_build=function(e){var t,n,i,a=this;return this.is_multiple&&this.max_selected_options<=this.choices&&this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),t=this.container_id+"_c_"+e.array_index,this.choices+=1,n=e.disabled?'<li class="search-choice search-choice-disabled" id="'+t+'"><span>'+e.html+"</span></li>":'<li class="search-choice" id="'+t+'"><span>'+e.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+e.array_index+'"></a></li>',this.search_container.before(n),i=r("#"+t).find("a").first(),i.click(function(e){return a.choice_destroy_link_click(e)})},t.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),this.is_disabled?e.stopPropagation:(this.pending_destroy_click=!0,this.choice_destroy(r(e.target)))},t.prototype.choice_destroy=function(e){return this.result_deselect(e.attr("rel"))?(this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},t.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},t.prototype.results_reset_cleanup=function(){return this.current_value=this.form_field_jq.val(),this.selected_item.find("abbr").remove()},t.prototype.result_select=function(e){var t,n,r,i;return this.result_highlight?(t=this.result_highlight,n=t.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(t):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=t,this.selected_item.removeClass("chzn-default")),t.addClass("result-selected"),i=n.substr(n.lastIndexOf("_")+1),r=this.results_data[i],r.selected=!0,this.form_field.options[r.options_index].selected=!0,this.is_multiple?this.choice_build(r):(this.selected_item.find("span").first().text(r.text),this.allow_single_deselect&&this.single_deselect_control_build()),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field_jq.val()!==this.current_value)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[r.options_index].value}),this.current_value=this.form_field_jq.val(),this.search_field_scale()):void 0},t.prototype.result_activate=function(e){return e.addClass("active-result")},t.prototype.result_deactivate=function(e){return e.removeClass("active-result")},t.prototype.result_deselect=function(e){var t,n;return n=this.results_data[e],this.form_field.options[n.options_index].disabled?!1:(n.selected=!1,this.form_field.options[n.options_index].selected=!1,t=r("#"+this.container_id+"_o_"+e),t.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[n.options_index].value}),this.search_field_scale(),!0)},t.prototype.single_deselect_control_build=function(){return this.allow_single_deselect&&this.selected_item.find("abbr").length<1?this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'):void 0},t.prototype.winnow_results=function(){var e,t,n,i,a,o,s,l,c,u,h,d,f,p,m,g,v,y;for(this.no_results_clear(),c=0,u=this.search_field.val()===this.default_text?"":r("<div/>").text(r.trim(this.search_field.val())).html(),o=this.search_contains?"":"^",a=new RegExp(o+u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),f=new RegExp(u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),y=this.results_data,p=0,g=y.length;g>p;p++)if(t=y[p],!t.disabled&&!t.empty)if(t.group)r("#"+t.dom_id).css("display","none");else if(!this.is_multiple||!t.selected){if(e=!1,l=t.dom_id,s=r("#"+l),a.test(t.html))e=!0,c+=1;else if(this.enable_split_word_search&&(t.html.indexOf(" ")>=0||0===t.html.indexOf("["))&&(i=t.html.replace(/\[|\]/g,"").split(" "),i.length))for(m=0,v=i.length;v>m;m++)n=i[m],a.test(n)&&(e=!0,c+=1);e?(u.length?(h=t.html.search(f),d=t.html.substr(0,h+u.length)+"</em>"+t.html.substr(h+u.length),d=d.substr(0,h)+"<em>"+d.substr(h)):d=t.html,s.html(d),this.result_activate(s),null!=t.group_array_index&&r("#"+this.results_data[t.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&l===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(s))}return 1>c&&u.length?this.no_results(u):this.winnow_results_set_highlight()},t.prototype.winnow_results_clear=function(){var e,t,n,i,a;for(this.search_field.val(""),t=this.search_results.find("li"),a=[],n=0,i=t.length;i>n;n++)e=t[n],e=r(e),e.hasClass("group-result")?a.push(e.css("display","auto")):this.is_multiple&&e.hasClass("result-selected")?a.push(void 0):a.push(this.result_activate(e));return a},t.prototype.winnow_results_set_highlight=function(){var e,t;return this.result_highlight||(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null==e)?void 0:this.result_do_highlight(e)},t.prototype.no_results=function(e){var t;return t=r('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),t.find("span").first().html(e),this.search_results.append(t)},t.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},t.prototype.keydown_arrow=function(){var e,t;return this.result_highlight?this.results_showing&&(t=this.result_highlight.nextAll("li.active-result").first(),t&&this.result_do_highlight(t)):(e=this.search_results.find("li.active-result").first(),e&&this.result_do_highlight(r(e))),this.results_showing?void 0:this.results_show()},t.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},t.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},t.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},t.prototype.keydown_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:return this.backstroke_length=this.search_field.val().length;case 9:return this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;case 13:return e.preventDefault();case 38:return e.preventDefault(),this.keyup_arrow();case 40:return this.keydown_arrow()}},t.prototype.search_field_scale=function(){var e,t,n,i,a,o,s,l,c;if(this.is_multiple){for(n=0,s=0,a="position:absolute; left: -1000px; top: -1000px; display:none;",o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,c=o.length;c>l;l++)i=o[l],a+=i+":"+this.search_field.css(i)+";";return t=r("<div />",{style:a}),t.text(this.search_field.val()),r("body").append(t),s=t.width()+25,t.remove(),s>this.f_width-10&&(s=this.f_width-10),this.search_field.css({width:s+"px"}),e=this.container.height(),this.dropdown.css({top:e+"px"})}},t.prototype.generate_random_id=function(){var e;for(e="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();r("#"+e).length>0;)e+=this.generate_random_char();return e},t}(i),n.Chosen=a,o=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,n,r,i,a,o;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:e.label,children:0,disabled:e.disabled}),a=e.childNodes,o=[],r=0,i=a.length;i>r;r++)n=a[r],o.push(this.add_option(n,t,e.disabled));return o},e.prototype.add_option=function(e,t,n){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:n===!0?n:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e}(),o.select_to_array=function(e){var t,n,r,i,a;for(n=new o,a=e.childNodes,r=0,i=a.length;i>r;r++)t=a[r],n.add_node(t);return n.parsed}}).call(this)}(window)},{"jquery-browserify":10}],78:[function(e,n){!function(){var r=e("underscore"),i=e("js-yaml"),a=e("queue-async"),o=e("backbone"),s=e("../models/file"),l=e("../models/folder"),c=(e("../cookie"),e("../util")),u=e("ignore");n.exports=o.Collection.extend({model:function(e,t){switch(e.type){case"tree":return new l(e,t);case"blob":return new s(e,t);default:return new s(e,t)}},initialize:function(e,t){r.bindAll(this),this.repo=t.repo,this.branch=t.branch,this.sha=t.sha,this.comparator=function(e,t){var n=e.get("type"),r=t.get("type"),i=e.get("path"),a=t.get("path"),o=/^_posts\/.*$/;if(n===r&&"file"===n&&o.test(i)&&o.test(a))return a>i?1:-1;if(n===r)return a>i?-1:1;switch(n){case"tree":case"folder":return-1;case"file":return"folder"===r||"tree"===r?1:-1}}},parse:function(e){return r.map(e.tree,function(e){return r.extend(e,{branch:this.branch,collection:this,repo:this.repo})}.bind(this))},parseConfig:function(e,t){var n=e.get("content");try{e=i.safeLoad(n)}catch(o){console.log("Error parsing YAML"),console.log(o)}if(e&&e.prose)if(this.config=r.extend({baseurl:e.baseurl,languages:e.languages},e.prose),e.prose.ignore&&this.parseIgnore(e.prose.ignore),e.prose.metadata){var s=e.prose.metadata,l=a(1);r.each(s,function(e,t){l.defer(function(n){var o,l=a();if(r.isObject(e))o=e,r.each(o,function(e){var t=/^https?:\/\//;e&&e.field&&e.field.options&&r.isString(e.field.options)&&t.test(e.field.options)&&l.defer(function(t){$.ajax({cache:!0,dataType:"jsonp",jsonp:!1,jsonpCallback:e.field.options.split("?callback=")[1]||"callback",timeout:5e3,url:e.field.options,success:function(n){e.field.options=r.compact(n),t()}.bind(this)})})});else if(r.isString(e))try{if(o=i.safeLoad(e),"CURRENT_DATETIME"===o.date){var c=(new Date).format("Y-m-d H:i");o.date=c,e=e.replace("CURRENT_DATETIME",c)}}catch(u){console.log("Error parsing default values."),console.log(u)}l.awaitAll(function(){s[t]=o,n()})})}),l.awaitAll(function(){this.defaults=s,r.isFunction(t.success)&&t.success.apply(this,t.args)}.bind(this))}else r.isFunction(t.success)&&t.success.apply(this,t.args);else r.isFunction(t.success)&&t.success.apply(this,t.args)},parseIgnore:function(e){var t=u().addPattern(e).createFilter();this.filteredModel=new o.Collection(this.filter(function(e){return t(e.id)}))},fetch:function(e){e=r.clone(e)||{};var t=e.success,n=e.args;o.Collection.prototype.fetch.call(this,r.extend(e,{success:function(){var e=this.findWhere({path:"_prose.yml"})||this.findWhere({path:"_config.yml"});e?e.fetch({success:function(){this.parseConfig(e,{success:t,args:n})}.bind(this)}):r.isFunction(t)&&t.apply(this,n)}.bind(this)}))},restore:function(e,n){n=n?r.clone(n):{};var i=e.filename,a=n.success;$.ajax({type:"GET",url:e.contents_url,headers:{Accept:"application/vnd.github.v3.raw"},success:function(e){var o=new s({branch:this.branch,collection:this,content:e,path:i,repo:this.repo}),l=c.extractFilename(i)[1];o.set("placeholder",t("actions.commits.created",{filename:l})),o.save({success:function(e,t,n){e.set(t.content),this.add(e),r.isFunction(a)&&a(e,t,n)}.bind(this),error:n.error})}.bind(this),error:n.error})},upload:function(e,n,i,a){{var o,l=a.success;e.type.split("/").pop()}i||(o=e.name,i=this.assetsDirectory?this.assetsDirectory+"/"+o:this.model.path?this.model.path+"/"+o:o);var c=this.findWhere({path:i});c?(c.set("content",n),c.set("placeholder",t("actions.commits.updated",{filename:e.name}))):(c=new s({branch:this.branch,collection:this,content:n,path:i,repo:this.repo}),c.set("placeholder",t("actions.commits.created",{filename:e.name}))),c.save({success:function(e,t,n){e.set(t.content),this.add(e),r.isFunction(l)&&l(e,t,n)}.bind(this),error:a.error})},url:function(){return this.repo.url()+"/git/trees/"+this.sha+"?recursive=1"}})}()},{"../models/file":18,"../models/folder":62,"../cookie":3,"../util":28,underscore:11,"js-yaml":38,"queue-async":46,backbone:12,ignore:99}],99:[function(e,t){"use strict";function n(e){return new r(e)}function r(e){e=e||{},this.options=e,this._patterns=[],this._rules=[],this._ignoreFiles=[],e.ignore=e.ignore||[".git",".svn",".DS_Store"],this.addPattern(e.ignore)}function i(e){return Array.isArray(e)?e:void 0===e||null===e?[]:[e]}t.exports=n,n.Ignore=r;var a=e("events").EventEmitter,o=e("util"),s=e("fs"),l=s.existsSync?function(e){return s.existsSync(e)}:function(e){try{return s.statSync(e),!0}catch(t){return!1}};n.select=function(e){var t;return e.some(function(e){return l(e)?(t=e,!0):void 0}),t},o.inherits(r,a),r.prototype.addPattern=function(e){return i(e).forEach(this._addPattern,this),this},r.prototype._addPattern=function(e){if(this._simpleTest(e)){var t=this._createRule(e);this._rules.push(t)}},r.prototype.filter=function(e){return e.filter(this._filter,this)},r.prototype._simpleTest=function(e){var t=e&&0!==e.indexOf("#")&&!~this._patterns.indexOf(e);return this._patterns.push(e),~e.indexOf("**")&&(this.emit("warn",{code:"WGLOBSTARS",data:{origin:e},message:"`**` found, which is not compatible cross all platforms."}),!this.options.twoGlobstars)?!1:t};var c=/^\\\!/,u=/^\\#/;r.prototype._createRule=function(e){var t={origin:e};return 0===e.indexOf("!")&&(t.negative=!0,e=e.substr(1)),e=e.replace(c,"!").replace(u,"#"),t.pattern=e,t.regex=this.makeRegex(e),t};var h=[[/[\\\^$.|?*+()\[{]/g,function(e){return"\\"+e}],[/^\//,"^"],[/\//g,"\\/"],[/\\\*\\\*\\\//,""],[/(?:[^*\/])$/,function(e){return e+"(?=$|\\/)"}],[/^(?=[^\^])/,"(?:^|\\/)"],[/\/\\\*\\\*\//g,"(?:\\/[^\\/]+)*\\/"],[/(^|[^\\]+)\\\*(?=.+)/g,function(e,t){return t+"[^\\/]*"}],[/\\\*$/,""],[/\\\\\\/g,"\\"]];r.prototype.makeRegex=function(e){var t=h.reduce(function(e,t){return e.replace(t[0],t[1])},e);return new RegExp(t,this.options.matchCase?"":"i")},r.prototype._filter=function(e){for(var t,n,r=this._rules,i=0,a=r.length;a>i;i++)n=r[i],t^n.negative||(t=n.negative^n.regex.test(e));return!t},r.prototype.createFilter=function(){var e=this;return function(t){return e._filter(t)}},r.prototype.addIgnoreFile=function(e){return i(e).forEach(this._addIgnoreFile,this),this},r.prototype._addIgnoreFile=function(e){if(this._checkRuleFile(e)){this._ignoreFiles.push(e);var t;try{t=s.readFileSync(e)}catch(n){}t&&this.addPattern(t.toString().split(/\r?\n/))}},r.prototype._checkRuleFile=function(e){return"."!==e&&".."!==e&&!~this._ignoreFiles.indexOf(e)}},{events:100,util:101,fs:79}],102:[function(e,t){var n=t.exports={};n.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],100:[function(e,t,n){!function(e){function t(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}e.EventEmitter||(e.EventEmitter=function(){});var r=n.EventEmitter=e.EventEmitter,i="function"==typeof Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=10;r.prototype.setMaxListeners=function(e){this._events||(this._events={}),this._events.maxListeners=e},r.prototype.emit=function(e){if("error"===e&&(!this._events||!this._events.error||i(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");
if(!this._events)return!1;var t=this._events[e];if(!t)return!1;if("function"==typeof t){switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);t.apply(this,n)}return!0}if(i(t)){for(var n=Array.prototype.slice.call(arguments,1),r=t.slice(),a=0,o=r.length;o>a;a++)r[a].apply(this,n);return!0}return!1},r.prototype.addListener=function(e,t){if("function"!=typeof t)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",e,t),this._events[e])if(i(this._events[e])){if(!this._events[e].warned){var n;n=void 0!==this._events.maxListeners?this._events.maxListeners:a,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}this._events[e].push(t)}else this._events[e]=[this._events[e],t];else this._events[e]=t;return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){var n=this;return n.on(e,function r(){n.removeListener(e,r),t.apply(this,arguments)}),this},r.prototype.removeListener=function(e,n){if("function"!=typeof n)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var r=this._events[e];if(i(r)){var a=t(r,n);if(0>a)return this;r.splice(a,1),0==r.length&&delete this._events[e]}else this._events[e]===n&&delete this._events[e];return this},r.prototype.removeAllListeners=function(e){return 0===arguments.length?(this._events={},this):(e&&this._events&&this._events[e]&&(this._events[e]=null),this)},r.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),i(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}}(e("__browserify_process"))},{__browserify_process:102}],81:[function(e,t){var n=(e("jquery-browserify"),e("underscore"),e("backbone"));t.exports=n.View.extend({tagName:"option",initialize:function(e){this.model=e.model,this.repo=e.repo,this.branch=e.branch},render:function(){return this.$el.val("#"+[this.repo.get("owner").login,this.repo.get("name"),"tree",this.model.get("name")].join("/")),this.el.selected=this.branch&&this.branch===this.model.get("name"),this.$el.html(this.model.get("name")),this}})},{"jquery-browserify":10,underscore:11,backbone:12}],101:[function(e,t,n){function r(e){return e instanceof Array||Array.isArray(e)||e&&e!==Object.prototype&&r(e.__proto__)}function i(e){return e instanceof RegExp||"object"==typeof e&&"[object RegExp]"===Object.prototype.toString.call(e)}function a(e){if(e instanceof Date)return!0;if("object"!=typeof e)return!1;var t=Date.prototype&&s(Date.prototype),n=e.__proto__&&s(e.__proto__);return JSON.stringify(n)===JSON.stringify(t)}e("events");n.isArray=r,n.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},n.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},n.print=function(){},n.puts=function(){},n.debug=function(){},n.inspect=function(e,t,l,c){function u(e,l){if(e&&"function"==typeof e.inspect&&e!==n&&(!e.constructor||e.constructor.prototype!==e))return e.inspect(l);switch(typeof e){case"undefined":return d("undefined","undefined");case"string":var c="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return d(c,"string");case"number":return d(""+e,"number");case"boolean":return d(""+e,"boolean")}if(null===e)return d("null","null");var f=o(e),p=t?s(e):f;if("function"==typeof e&&0===p.length){if(i(e))return d(""+e,"regexp");var m=e.name?": "+e.name:"";return d("[Function"+m+"]","special")}if(a(e)&&0===p.length)return d(e.toUTCString(),"date");var g,v,y;if(r(e)?(v="Array",y=["[","]"]):(v="Object",y=["{","}"]),"function"==typeof e){var b=e.name?": "+e.name:"";g=i(e)?" "+e:" [Function"+b+"]"}else g="";if(a(e)&&(g=" "+e.toUTCString()),0===p.length)return y[0]+g+y[1];if(0>l)return i(e)?d(""+e,"regexp"):d("[Object]","special");h.push(e);var w=p.map(function(t){var n,i;if(e.__lookupGetter__&&(e.__lookupGetter__(t)?i=e.__lookupSetter__(t)?d("[Getter/Setter]","special"):d("[Getter]","special"):e.__lookupSetter__(t)&&(i=d("[Setter]","special"))),f.indexOf(t)<0&&(n="["+t+"]"),i||(h.indexOf(e[t])<0?(i=null===l?u(e[t]):u(e[t],l-1),i.indexOf("\n")>-1&&(i=r(e)?i.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+i.split("\n").map(function(e){return"   "+e}).join("\n"))):i=d("[Circular]","special")),"undefined"==typeof n){if("Array"===v&&t.match(/^\d+$/))return i;n=JSON.stringify(""+t),n.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(n=n.substr(1,n.length-2),n=d(n,"name")):(n=n.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),n=d(n,"string"))}return n+": "+i});h.pop();var x=0,k=w.reduce(function(e,t){return x++,t.indexOf("\n")>=0&&x++,e+t.length+1},0);return w=k>50?y[0]+(""===g?"":g+"\n ")+" "+w.join(",\n  ")+" "+y[1]:y[0]+g+" "+w.join(", ")+" "+y[1]}var h=[],d=function(e,t){var n={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r={special:"cyan",number:"blue","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"}[t];return r?"["+n[r][0]+"m"+e+"["+n[r][1]+"m":e};return c||(d=function(e){return e}),u(e,"undefined"==typeof l?2:l)};n.log=function(){},n.pump=null;var o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},s=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.hasOwnProperty.call(e,n)&&t.push(n);return t},l=Object.create||function(e,t){var n;if(null===e)n={__proto__:null};else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var r=function(){};r.prototype=e,n=new r,n.__proto__=e}return"undefined"!=typeof t&&Object.defineProperties&&Object.defineProperties(n,t),n};n.inherits=function(e,t){e.super_=t,e.prototype=l(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})};var c=/%[sdj%]/g;n.format=function(e){if("string"!=typeof e){for(var t=[],r=0;r<arguments.length;r++)t.push(n.inspect(arguments[r]));return t.join(" ")}for(var r=1,i=arguments,a=i.length,o=String(e).replace(c,function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":return JSON.stringify(i[r++]);default:return e}}),s=i[r];a>r;s=i[++r])o+=null===s||"object"!=typeof s?" "+s:" "+n.inspect(s);return o}},{events:100}],82:[function(e,t){"use strict";function n(e,t,n,r,i){this.name=e,this.buffer=t,this.position=n,this.line=r,this.column=i}var r=e("./common");n.prototype.getSnippet=function(e,t){var n,i,a,o,s;if(!this.buffer)return null;for(e=e||4,t=t||75,n="",i=this.position;i>0&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(i-1));)if(i-=1,this.position-i>t/2-1){n=" ... ",i+=5;break}for(a="",o=this.position;o<this.buffer.length&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(o));)if(o+=1,o-this.position>t/2-1){a=" ... ",o-=5;break}return s=this.buffer.slice(i,o),r.repeat(" ",e)+n+s+a+"\n"+r.repeat(" ",e+this.position-i+n.length)+"^"},n.prototype.toString=function(e){var t,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),e||(t=this.getSnippet(),t&&(n+=":\n"+t)),n},t.exports=n},{"./common":68}],103:[function(e,t){!function(){function n(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}function r(e,t){return void 0===t?""+t:"number"!=typeof t||!isNaN(t)&&isFinite(t)?"function"==typeof t||t instanceof RegExp?t.toString():t:t.toString()}function i(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function a(e,t,n,r,i){throw new g.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function o(e,t){e||a(e,!0,t,"==",g.ok)}function s(e,t){if(e===t)return!0;if(p.isBuffer(e)&&p.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():"object"!=typeof e&&"object"!=typeof t?e==t:u(e,t)}function l(e){return null===e||void 0===e}function c(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function u(e,t){if(l(e)||l(t))return!1;if(e.prototype!==t.prototype)return!1;if(c(e))return c(t)?(e=m.call(e),t=m.call(t),s(e,t)):!1;try{var r,i,a=n(e),o=n(t)}catch(u){return!1}if(a.length!=o.length)return!1;for(a.sort(),o.sort(),i=a.length-1;i>=0;i--)if(a[i]!=o[i])return!1;for(i=a.length-1;i>=0;i--)if(r=a[i],!s(e[r],t[r]))return!1;return!0}function h(e,t){return e&&t?t instanceof RegExp?t.test(e):e instanceof t?!0:t.call({},e)===!0?!0:!1:!1}function d(e,t,n,r){var i;"string"==typeof n&&(r=n,n=null);try{t()}catch(o){i=o}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&a("Missing expected exception"+r),!e&&h(i,n)&&a("Got unwanted exception"+r),e&&i&&n&&!h(i,n)||!e&&i)throw i}var f=e("util"),p=e("buffer").Buffer,m=Array.prototype.slice,g=t.exports=o;g.AssertionError=function(e){this.name="AssertionError",this.message=e.message,this.actual=e.actual,this.expected=e.expected,this.operator=e.operator;var t=e.stackStartFunction||a;Error.captureStackTrace&&Error.captureStackTrace(this,t)},f.inherits(g.AssertionError,Error),g.AssertionError.prototype.toString=function(){return this.message?[this.name+":",this.message].join(" "):[this.name+":",i(JSON.stringify(this.actual,r),128),this.operator,i(JSON.stringify(this.expected,r),128)].join(" ")},g.AssertionError.__proto__=Error.prototype,g.fail=a,g.ok=o,g.equal=function(e,t,n){e!=t&&a(e,t,n,"==",g.equal)},g.notEqual=function(e,t,n){e==t&&a(e,t,n,"!=",g.notEqual)},g.deepEqual=function(e,t,n){s(e,t)||a(e,t,n,"deepEqual",g.deepEqual)},g.notDeepEqual=function(e,t,n){s(e,t)&&a(e,t,n,"notDeepEqual",g.notDeepEqual)},g.strictEqual=function(e,t,n){e!==t&&a(e,t,n,"===",g.strictEqual)},g.notStrictEqual=function(e,t,n){e===t&&a(e,t,n,"!==",g.notStrictEqual)},g.throws=function(){d.apply(this,[!0].concat(m.call(arguments)))},g.doesNotThrow=function(){d.apply(this,[!1].concat(m.call(arguments)))},g.ifError=function(e){if(e)throw e}}()},{util:101,buffer:104}],83:[function(e,t){"use strict";var n=e("../type");t.exports=new n("tag:yaml.org,2002:str",{loader:{kind:"string"}})},{"../type":69}],84:[function(e,t){"use strict";var n=e("../type");t.exports=new n("tag:yaml.org,2002:seq",{loader:{kind:"array"}})},{"../type":69}],85:[function(e,t){"use strict";var n=e("../type");t.exports=new n("tag:yaml.org,2002:map",{loader:{kind:"object"}})},{"../type":69}],86:[function(e,t){"use strict";function n(e){return a[e]?null:r}var r=e("../common").NIL,i=e("../type"),a={"~":!0,"null":!0,Null:!0,NULL:!0};t.exports=new i("tag:yaml.org,2002:null",{loader:{kind:"string",resolver:n},dumper:{kind:"null",defaultStyle:"lowercase",representer:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}}}})},{"../type":69,"../common":68}],87:[function(e,t){"use strict";function n(e,t){return t?o.hasOwnProperty(e)?o[e]:r:a.hasOwnProperty(e)?a[e]:r}var r=e("../common").NIL,i=e("../type"),a={"true":!0,True:!0,TRUE:!0,"false":!1,False:!1,FALSE:!1},o={"true":!0,True:!0,TRUE:!0,"false":!1,False:!1,FALSE:!1,y:!0,Y:!0,yes:!0,Yes:!0,YES:!0,n:!1,N:!1,no:!1,No:!1,NO:!1,on:!0,On:!0,ON:!0,off:!1,Off:!1,OFF:!1};t.exports=new i("tag:yaml.org,2002:bool",{loader:{kind:"string",resolver:n},dumper:{kind:"boolean",defaultStyle:"lowercase",representer:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}}}})},{"../common":68,"../type":69}],88:[function(e,t){"use strict";function n(e){var t,n,i,o;return a.test(e)?(t=e.replace(/_/g,""),n="-"===t[0]?-1:1,o=[],0<="+-".indexOf(t[0])&&(t=t.slice(1)),"0"===t?0:/^0b/.test(t)?n*parseInt(t.slice(2),2):/^0x/.test(t)?n*parseInt(t,16):"0"===t[0]?n*parseInt(t,8):0<=t.indexOf(":")?(t.split(":").forEach(function(e){o.unshift(parseInt(e,10))}),t=0,i=1,o.forEach(function(e){t+=e*i,i*=60}),n*t):n*parseInt(t,10)):r}var r=e("../common").NIL,i=e("../type"),a=new RegExp("^(?:[-+]?0b[0-1_]+|[-+]?0[0-7_]+|[-+]?(?:0|[1-9][0-9_]*)|[-+]?0x[0-9a-fA-F_]+|[-+]?[1-9][0-9_]*(?::[0-5]?[0-9])+)$");t.exports=new i("tag:yaml.org,2002:int",{loader:{kind:"string",resolver:n},dumper:{kind:"integer",defaultStyle:"decimal",representer:{binary:function(e){return"0b"+e.toString(2)},octal:function(e){return"0"+e.toString(8)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return"0x"+e.toString(16).toUpperCase()}},styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}})},{"../type":69,"../common":68}],89:[function(e,t){"use strict";function n(e){var t,n,r,a;return o.test(e)?(t=e.replace(/_/g,"").toLowerCase(),n="-"===t[0]?-1:1,a=[],0<="+-".indexOf(t[0])&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?0/0:0<=t.indexOf(":")?(t.split(":").forEach(function(e){a.unshift(parseFloat(e,10))}),t=0,r=1,a.forEach(function(e){t+=e*r,r*=60}),n*t):n*parseFloat(t,10)):i}function r(e,t){if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else{if(Number.NEGATIVE_INFINITY!==e)return e.toString(10);switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}}}var i=e("../common").NIL,a=e("../type"),o=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)\\.[0-9_]*(?:[eE][-+][0-9]+)?|\\.[0-9_]+(?:[eE][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");t.exports=new a("tag:yaml.org,2002:float",{loader:{kind:"string",resolver:n},dumper:{kind:"float",defaultStyle:"lowercase",representer:r}})},{"../common":68,"../type":69}],90:[function(e,t){"use strict";function n(e){var t,n,r,a,s,l,c,u,h,d,f=0,p=null;if(t=o.exec(e),null===t)return i;if(n=+t[1],r=+t[2]-1,a=+t[3],!t[4])return new Date(Date.UTC(n,r,a));if(s=+t[4],l=+t[5],c=+t[6],t[7]){for(f=t[7].slice(0,3);f.length<3;)f+="0";f=+f}return t[9]&&(u=+t[10],h=+(t[11]||0),p=6e4*(60*u+h),"-"===t[9]&&(p=-p)),d=new Date(Date.UTC(n,r,a,s,l,c,f)),p&&d.setTime(d.getTime()-p),d}function r(e){return e.toISOString()}var i=e("../common").NIL,a=e("../type"),o=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?)?$");t.exports=new a("tag:yaml.org,2002:timestamp",{loader:{kind:"string",resolver:n},dumper:{kind:"object",instanceOf:Date,representer:r}})},{"../type":69,"../common":68}],91:[function(e,t){"use strict";function n(e){return"<<"===e?e:r}var r=e("../common").NIL,i=e("../type");t.exports=new i("tag:yaml.org,2002:merge",{loader:{kind:"string",resolver:n}})},{"../common":68,"../type":69}],92:[function(e,t){!function(){"use strict";function n(e){var t,n,r,a,s=0,u=[];for(r=0,a=0,s=0;s<e.length;s+=1)if(n=e.charCodeAt(s),t=c[127&n],10!==n&&13!==n){if(-1===t)return o;a=a<<6|t,r+=6,r>=8&&(r-=8,l!==e.charAt(s)&&u.push(a>>r&255),a&=(1<<r)-1)}return r?o:new i(u)}function r(e){var t,n,r,i="";for(t=0,n=e.length-2;n>t;t+=3)i+=u[e[t+0]>>2],i+=u[((3&e[t+0])<<4)+(e[t+1]>>4)],i+=u[((15&e[t+1])<<2)+(e[t+2]>>6)],i+=u[63&e[t+2]];return r=e.length%3,0!==r&&(t=e.length-r,i+=u[e[t+0]>>2],2===r?(i+=u[((3&e[t+0])<<4)+(e[t+1]>>4)],i+=u[(15&e[t+1])<<2],i+=l):(i+=u[(3&e[t+0])<<4],i+=l+l)),i}var i=e("buffer").Buffer,a=e("../common"),o=a.NIL,s=e("../type"),l="=",c=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.exports=new s("tag:yaml.org,2002:binary",{loader:{kind:"string",resolver:n},dumper:{kind:"object",instanceOf:i,representer:r}})}()},{buffer:104,"../common":68,"../type":69}],93:[function(e,t){"use strict";function n(e){var t,n,i,s,l,c=[];for(t=0,n=e.length;n>t;t+=1){if(i=e[t],l=!1,"[object Object]"!==o.call(i))return r;for(s in i)if(a.call(i,s)){if(l)return r;l=!0}if(!l)return r;if(-1!==c.indexOf(s))return r;c.push(s)}return e}var r=e("../common").NIL,i=e("../type"),a=Object.prototype.hasOwnProperty,o=Object.prototype.toString;t.exports=new i("tag:yaml.org,2002:omap",{loader:{kind:"array",resolver:n}})},{"../common":68,"../type":69}],94:[function(e,t){"use strict";function n(e){var t;for(t in e)if(a.call(e,t)&&null!==e[t])return r;return e}var r=e("../common").NIL,i=e("../type"),a=Object.prototype.hasOwnProperty;t.exports=new i("tag:yaml.org,2002:set",{loader:{kind:"object",resolver:n}})},{"../common":68,"../type":69}],95:[function(e,t){"use strict";function n(e){var t,n,i,o,s;for(s=new Array(e.length),t=0,n=e.length;n>t;t+=1){if(i=e[t],"[object Object]"!==a.call(i))return r;if(o=Object.keys(i),1!==o.length)return r;s[t]=[o[0],i[o[0]]]}return s}var r=e("../common").NIL,i=e("../type"),a=Object.prototype.toString;t.exports=new i("tag:yaml.org,2002:pairs",{loader:{kind:"array",resolver:n}})},{"../common":68,"../type":69}],96:[function(e,t){"use strict";function n(){var e;return e}function r(){return""}var i=e("../../type");t.exports=new i("tag:yaml.org,2002:js/undefined",{loader:{kind:"string",resolver:n},dumper:{kind:"undefined",representer:r}})},{"../../type":69}],97:[function(e,t){!function(){"use strict";function n(e){var t,n=e,r=/\/([gim]*)$/.exec(e);"/"===n[0]&&r&&4>=r[0].length&&(n=n.slice(1,n.length-r[0].length),t=r[1]);try{return new RegExp(n,t)}catch(a){return i}}function r(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}var i=e("../../common").NIL,a=e("../../type");t.exports=new a("tag:yaml.org,2002:js/regexp",{loader:{kind:"string",resolver:n},dumper:{kind:"object",instanceOf:RegExp,representer:r}})}()},{"../../common":68,"../../type":69}],80:[function(e,n){var r=(e("jquery-browserify"),e("underscore")),i=e("backbone"),a=e("../../../../dist/templates"),o=e("../../../util");n.exports=i.View.extend({template:a.sidebar.li.commit,tagName:"li",className:"item",events:{"mouseenter .removed":"eventMessage","mouseleave .removed":"eventMessage","click .removed":"restore"},initialize:function(e){var t=e.file;this.branch=e.branch,this.file=t,this.files=e.repo.branches.findWhere({name:e.branch}).files,this.repo=e.repo,this.view=e.view},render:function(){var e=this.file,t=o.isBinary(e.filename),n={branch:this.branch,file:e,mode:t?"tree":"edit",path:t?o.extractFilename(e.filename)[0]:e.filename,repo:this.repo.toJSON(),status:e.status},i=e.status.charAt(0).toUpperCase()+e.status.slice(1)+": "+e.filename;return this.$el.attr("title",i).html(r.template(this.template,n,{variable:"data"})),this},message:function(e){this.$el.find(".message").html(e)},eventMessage:function(e){switch(e.type){case"mouseenter":this.message(t("sidebar.repo.history.actions.restore"));break;case"mouseleave":this.message(this.file.filename)}return!1},state:function(e){var t=this.$el.find(".ico");t.removeClass("added modified renamed removed saving checkmark error").addClass(e)},restore:function(){var e=this.file.filename;return this.message(t("actions.restore.restoring")+" "+e),this.state("saving"),this.files.restore(this.file,{success:function(){this.message(t("actions.restore.restored")+": "+e),this.state("checkmark"),this.$el.attr("title",t("actions.restore.restored")+": "+this.file.filename),this.$el.find("a").removeClass("removed"),this.view.files.render()}.bind(this),error:function(e,t){this.message(["Error",t.status,t.statusText].join(" ")),this.state("error")}.bind(this)}),!1}})},{"../../../../dist/templates":14,"../../../util":28,underscore:11,backbone:12,"jquery-browserify":10}],105:[function(e,t,n){n.readIEEE754=function(e,t,n,r,i){var a,o,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,h=n?0:i-1,d=n?1:-1,f=e[t+h];for(h+=d,a=f&(1<<-u)-1,f>>=-u,u+=s;u>0;a=256*a+e[t+h],h+=d,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+e[t+h],h+=d,u-=8);if(0===a)a=1-c;else{if(a===l)return o?0/0:1/0*(f?-1:1);o+=Math.pow(2,r),a-=c}return(f?-1:1)*o*Math.pow(2,a-r)},n.writeIEEE754=function(e,t,n,r,i,a){var o,s,l,c=8*a-i-1,u=(1<<c)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?a-1:0,p=r?-1:1,m=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),t+=o+h>=1?d/l:d*Math.pow(2,1-h),t*l>=2&&(o++,l/=2),o+h>=u?(s=0,o=u):o+h>=1?(s=(t*l-1)*Math.pow(2,i),o+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+f]=255&s,f+=p,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+f]=255&o,f+=p,o/=256,c-=8);e[n+f-p]|=128*m}},{}],104:[function(e,t,n){!function(){function t(e){this.length=e}function r(e){return 16>e?"0"+e.toString(16):e.toString(16)}function i(e){for(var t=[],n=0;n<e.length;n++)if(e.charCodeAt(n)<=127)t.push(e.charCodeAt(n));else for(var r=encodeURIComponent(e.charAt(n)).substr(1).split("%"),i=0;i<r.length;i++)t.push(parseInt(r[i],16));return t}function a(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function o(t){return e("base64-js").toByteArray(t)}function s(e,t,n,r){for(var i=0;r>i&&!(i+n>=t.length||i>=e.length);)t[i+n]=e[i],i++;return i}function l(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}function c(e){return e=~~Math.ceil(+e),0>e?0:e}function u(e,n,r){if(!(this instanceof u))return new u(e,n,r);var i;if("number"==typeof r)this.length=c(n),this.parent=e,this.offset=r;else{switch(i=typeof e){case"number":this.length=c(e);break;case"string":this.length=u.byteLength(e,n);break;case"object":this.length=c(e.length);break;default:throw new Error("First argument needs to be a number, array or string.")}if(this.length>u.poolSize?(this.parent=new t(this.length),this.offset=0):((!A||A.length-A.used<this.length)&&d(),this.parent=A,this.offset=A.used,A.used+=this.length),h(e))for(var a=0;a<this.length;a++)this.parent[a+this.offset]=e instanceof u?e.readUInt8(a):e[a];else"string"==i&&(this.length=this.write(e,0,n))}}function h(e){return Array.isArray(e)||u.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function d(){A=new t(u.poolSize),A.used=0}function f(e,t,n,r){var i=0;return r||(L.ok("boolean"==typeof n,"missing or invalid endian"),L.ok(void 0!==t&&null!==t,"missing offset"),L.ok(t+1<e.length,"Trying to read beyond buffer length")),t>=e.length?0:(n?(i=e.parent[e.offset+t]<<8,t+1<e.length&&(i|=e.parent[e.offset+t+1])):(i=e.parent[e.offset+t],t+1<e.length&&(i|=e.parent[e.offset+t+1]<<8)),i)}function p(e,t,n,r){var i=0;return r||(L.ok("boolean"==typeof n,"missing or invalid endian"),L.ok(void 0!==t&&null!==t,"missing offset"),L.ok(t+3<e.length,"Trying to read beyond buffer length")),t>=e.length?0:(n?(t+1<e.length&&(i=e.parent[e.offset+t+1]<<16),t+2<e.length&&(i|=e.parent[e.offset+t+2]<<8),t+3<e.length&&(i|=e.parent[e.offset+t+3]),i+=e.parent[e.offset+t]<<24>>>0):(t+2<e.length&&(i=e.parent[e.offset+t+2]<<16),t+1<e.length&&(i|=e.parent[e.offset+t+1]<<8),i|=e.parent[e.offset+t],t+3<e.length&&(i+=e.parent[e.offset+t+3]<<24>>>0)),i)}function m(e,t,n,r){var i,a;return r||(L.ok("boolean"==typeof n,"missing or invalid endian"),L.ok(void 0!==t&&null!==t,"missing offset"),L.ok(t+1<e.length,"Trying to read beyond buffer length")),a=f(e,t,n,r),i=32768&a,i?-1*(65535-a+1):a}function g(e,t,n,r){var i,a;return r||(L.ok("boolean"==typeof n,"missing or invalid endian"),L.ok(void 0!==t&&null!==t,"missing offset"),L.ok(t+3<e.length,"Trying to read beyond buffer length")),a=p(e,t,n,r),i=2147483648&a,i?-1*(4294967295-a+1):a}function v(t,n,r,i){return i||(L.ok("boolean"==typeof r,"missing or invalid endian"),L.ok(n+3<t.length,"Trying to read beyond buffer length")),e("./buffer_ieee754").readIEEE754(t,n,r,23,4)}function y(t,n,r,i){return i||(L.ok("boolean"==typeof r,"missing or invalid endian"),L.ok(n+7<t.length,"Trying to read beyond buffer length")),e("./buffer_ieee754").readIEEE754(t,n,r,52,8)}function b(e,t){L.ok("number"==typeof e,"cannot write a non-number as a number"),L.ok(e>=0,"specified a negative value for writing an unsigned value"),L.ok(t>=e,"value is larger than maximum value for type"),L.ok(Math.floor(e)===e,"value has a fractional component")}function w(e,t,n,r,i){i||(L.ok(void 0!==t&&null!==t,"missing value"),L.ok("boolean"==typeof r,"missing or invalid endian"),L.ok(void 0!==n&&null!==n,"missing offset"),L.ok(n+1<e.length,"trying to write beyond buffer length"),b(t,65535));for(var a=0;a<Math.min(e.length-n,2);a++)e.parent[e.offset+n+a]=(t&255<<8*(r?1-a:a))>>>8*(r?1-a:a)}function x(e,t,n,r,i){i||(L.ok(void 0!==t&&null!==t,"missing value"),L.ok("boolean"==typeof r,"missing or invalid endian"),L.ok(void 0!==n&&null!==n,"missing offset"),L.ok(n+3<e.length,"trying to write beyond buffer length"),b(t,4294967295));for(var a=0;a<Math.min(e.length-n,4);a++)e.parent[e.offset+n+a]=t>>>8*(r?3-a:a)&255}function k(e,t,n){L.ok("number"==typeof e,"cannot write a non-number as a number"),L.ok(t>=e,"value larger than maximum allowed value"),L.ok(e>=n,"value smaller than minimum allowed value"),L.ok(Math.floor(e)===e,"value has a fractional component")}function S(e,t,n){L.ok("number"==typeof e,"cannot write a non-number as a number"),L.ok(t>=e,"value larger than maximum allowed value"),L.ok(e>=n,"value smaller than minimum allowed value")}function _(e,t,n,r,i){i||(L.ok(void 0!==t&&null!==t,"missing value"),L.ok("boolean"==typeof r,"missing or invalid endian"),L.ok(void 0!==n&&null!==n,"missing offset"),L.ok(n+1<e.length,"Trying to write beyond buffer length"),k(t,32767,-32768)),t>=0?w(e,t,n,r,i):w(e,65535+t+1,n,r,i)}function C(e,t,n,r,i){i||(L.ok(void 0!==t&&null!==t,"missing value"),L.ok("boolean"==typeof r,"missing or invalid endian"),L.ok(void 0!==n&&null!==n,"missing offset"),L.ok(n+3<e.length,"Trying to write beyond buffer length"),k(t,2147483647,-2147483648)),t>=0?x(e,t,n,r,i):x(e,4294967295+t+1,n,r,i)}function T(t,n,r,i,a){a||(L.ok(void 0!==n&&null!==n,"missing value"),L.ok("boolean"==typeof i,"missing or invalid endian"),L.ok(void 0!==r&&null!==r,"missing offset"),L.ok(r+3<t.length,"Trying to write beyond buffer length"),S(n,3.4028234663852886e38,-3.4028234663852886e38)),e("./buffer_ieee754").writeIEEE754(t,n,r,i,23,4)}function E(t,n,r,i,a){a||(L.ok(void 0!==n&&null!==n,"missing value"),L.ok("boolean"==typeof i,"missing or invalid endian"),L.ok(void 0!==r&&null!==r,"missing offset"),L.ok(r+7<t.length,"Trying to write beyond buffer length"),S(n,1.7976931348623157e308,-1.7976931348623157e308)),e("./buffer_ieee754").writeIEEE754(t,n,r,i,52,8)}var L=e("assert");n.INSPECT_MAX_BYTES=50,t.byteLength=function(e,t){switch(t||"utf8"){case"hex":return e.length/2;case"utf8":case"utf-8":return i(e).length;case"ascii":case"binary":return e.length;case"base64":return o(e).length;default:throw new Error("Unknown encoding")}},t.prototype.utf8Write=function(e,n,r){return t._charsWritten=s(i(e),this,n,r)},t.prototype.asciiWrite=function(e,n,r){return t._charsWritten=s(a(e),this,n,r)},t.prototype.binaryWrite=t.prototype.asciiWrite,t.prototype.base64Write=function(e,n,r){return t._charsWritten=s(o(e),this,n,r)},t.prototype.base64Slice=function(){var t=Array.prototype.slice.apply(this,arguments);return e("base64-js").fromByteArray(t)},t.prototype.utf8Slice=function(){for(var e=Array.prototype.slice.apply(this,arguments),t="",n="",r=0;r<e.length;)e[r]<=127?(t+=l(n)+String.fromCharCode(e[r]),n=""):n+="%"+e[r].toString(16),r++;return t+l(n)},t.prototype.asciiSlice=function(){for(var e=Array.prototype.slice.apply(this,arguments),t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},t.prototype.binarySlice=t.prototype.asciiSlice,t.prototype.inspect=function(){for(var e=[],t=this.length,i=0;t>i;i++)if(e[i]=r(this[i]),i==n.INSPECT_MAX_BYTES){e[i+1]="...";break}return"<SlowBuffer "+e.join(" ")+">"},t.prototype.hexSlice=function(e,t){var n=this.length;(!e||0>e)&&(e=0),(!t||0>t||t>n)&&(t=n);for(var i="",a=e;t>a;a++)i+=r(this[a]);return i},t.prototype.toString=function(e,t,n){if(e=String(e||"utf8").toLowerCase(),t=+t||0,"undefined"==typeof n&&(n=this.length),+n==t)return"";switch(e){case"hex":return this.hexSlice(t,n);case"utf8":case"utf-8":return this.utf8Slice(t,n);case"ascii":return this.asciiSlice(t,n);case"binary":return this.binarySlice(t,n);case"base64":return this.base64Slice(t,n);case"ucs2":case"ucs-2":return this.ucs2Slice(t,n);default:throw new Error("Unknown encoding")}},t.prototype.hexWrite=function(e,n,r){n=+n||0;var i=this.length-n;r?(r=+r,r>i&&(r=i)):r=i;var a=e.length;if(a%2)throw new Error("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;r>o;o++){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))throw new Error("Invalid hex string");this[n+o]=s}return t._charsWritten=2*o,o},t.prototype.write=function(e,t,n,r){if(isFinite(t))isFinite(n)||(r=n,n=void 0);else{var i=r;r=t,t=n,n=i}t=+t||0;var a=this.length-t;switch(n?(n=+n,n>a&&(n=a)):n=a,r=String(r||"utf8").toLowerCase()){case"hex":return this.hexWrite(e,t,n);case"utf8":case"utf-8":return this.utf8Write(e,t,n);case"ascii":return this.asciiWrite(e,t,n);case"binary":return this.binaryWrite(e,t,n);case"base64":return this.base64Write(e,t,n);case"ucs2":case"ucs-2":return this.ucs2Write(e,t,n);default:throw new Error("Unknown encoding")}},t.prototype.slice=function(e,t){if(void 0===t&&(t=this.length),t>this.length)throw new Error("oob");if(e>t)throw new Error("oob");return new u(this,t-e,+e)},t.prototype.copy=function(e,t,n,r){for(var i=[],a=n;r>a;a++)L.ok("undefined"!=typeof this[a],"copying undefined buffer bytes!"),i.push(this[a]);for(var a=t;a<t+i.length;a++)e[a]=i[a-t]},t.prototype.fill=function(e,t,n){if(n>this.length)throw new Error("oob");if(t>n)throw new Error("oob");for(var r=t;n>r;r++)this[r]=e},n.SlowBuffer=t,n.Buffer=u,u.poolSize=8192;var A;u.isBuffer=function(e){return e instanceof u||e instanceof t},u.concat=function(e,t){if(!Array.isArray(e))throw new Error("Usage: Buffer.concat(list, [totalLength])\n       list should be an Array.");if(0===e.length)return new u(0);if(1===e.length)return e[0];if("number"!=typeof t){t=0;for(var n=0;n<e.length;n++){var r=e[n];t+=r.length}}for(var i=new u(t),a=0,n=0;n<e.length;n++){var r=e[n];r.copy(i,a),a+=r.length}return i},u.prototype.inspect=function(){for(var e=[],t=this.length,i=0;t>i;i++)if(e[i]=r(this.parent[i+this.offset]),i==n.INSPECT_MAX_BYTES){e[i+1]="...";break}return"<Buffer "+e.join(" ")+">"},u.prototype.get=function(e){if(0>e||e>=this.length)throw new Error("oob");return this.parent[this.offset+e]},u.prototype.set=function(e,t){if(0>e||e>=this.length)throw new Error("oob");return this.parent[this.offset+e]=t},u.prototype.write=function(e,n,r,i){if(isFinite(n))isFinite(r)||(i=r,r=void 0);else{var a=i;i=n,n=r,r=a}n=+n||0;var o=this.length-n;r?(r=+r,r>o&&(r=o)):r=o,i=String(i||"utf8").toLowerCase();var s;switch(i){case"hex":s=this.parent.hexWrite(e,this.offset+n,r);break;case"utf8":case"utf-8":s=this.parent.utf8Write(e,this.offset+n,r);break;case"ascii":s=this.parent.asciiWrite(e,this.offset+n,r);break;case"binary":s=this.parent.binaryWrite(e,this.offset+n,r);break;case"base64":s=this.parent.base64Write(e,this.offset+n,r);break;case"ucs2":case"ucs-2":s=this.parent.ucs2Write(e,this.offset+n,r);break;default:throw new Error("Unknown encoding")}return u._charsWritten=t._charsWritten,s},u.prototype.toString=function(e,t,n){switch(e=String(e||"utf8").toLowerCase(),"undefined"==typeof t||0>t?t=0:t>this.length&&(t=this.length),"undefined"==typeof n||n>this.length?n=this.length:0>n&&(n=0),t+=this.offset,n+=this.offset,e){case"hex":return this.parent.hexSlice(t,n);
case"utf8":case"utf-8":return this.parent.utf8Slice(t,n);case"ascii":return this.parent.asciiSlice(t,n);case"binary":return this.parent.binarySlice(t,n);case"base64":return this.parent.base64Slice(t,n);case"ucs2":case"ucs-2":return this.parent.ucs2Slice(t,n);default:throw new Error("Unknown encoding")}},u.byteLength=t.byteLength,u.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),"string"==typeof e&&(e=e.charCodeAt(0)),"number"!=typeof e||isNaN(e))throw new Error("value is not a number");if(t>n)throw new Error("end < start");if(n===t)return 0;if(0==this.length)return 0;if(0>t||t>=this.length)throw new Error("start out of bounds");if(0>n||n>this.length)throw new Error("end out of bounds");return this.parent.fill(e,t+this.offset,n+this.offset)},u.prototype.copy=function(e,t,n,r){var i=this;if(n||(n=0),r||(r=this.length),t||(t=0),n>r)throw new Error("sourceEnd < sourceStart");if(r===n)return 0;if(0==e.length||0==i.length)return 0;if(0>t||t>=e.length)throw new Error("targetStart out of bounds");if(0>n||n>=i.length)throw new Error("sourceStart out of bounds");if(0>r||r>i.length)throw new Error("sourceEnd out of bounds");return r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n),this.parent.copy(e.parent,t+e.offset,n+this.offset,r+this.offset)},u.prototype.slice=function(e,t){if(void 0===t&&(t=this.length),t>this.length)throw new Error("oob");if(e>t)throw new Error("oob");return new u(this.parent,t-e,+e+this.offset)},u.prototype.utf8Slice=function(e,t){return this.toString("utf8",e,t)},u.prototype.binarySlice=function(e,t){return this.toString("binary",e,t)},u.prototype.asciiSlice=function(e,t){return this.toString("ascii",e,t)},u.prototype.utf8Write=function(e,t){return this.write(e,t,"utf8")},u.prototype.binaryWrite=function(e,t){return this.write(e,t,"binary")},u.prototype.asciiWrite=function(e,t){return this.write(e,t,"ascii")},u.prototype.readUInt8=function(e,t){var n=this;return t||(L.ok(void 0!==e&&null!==e,"missing offset"),L.ok(e<n.length,"Trying to read beyond buffer length")),e>=n.length?void 0:n.parent[n.offset+e]},u.prototype.readUInt16LE=function(e,t){return f(this,e,!1,t)},u.prototype.readUInt16BE=function(e,t){return f(this,e,!0,t)},u.prototype.readUInt32LE=function(e,t){return p(this,e,!1,t)},u.prototype.readUInt32BE=function(e,t){return p(this,e,!0,t)},u.prototype.readInt8=function(e,t){var n,r=this;return t||(L.ok(void 0!==e&&null!==e,"missing offset"),L.ok(e<r.length,"Trying to read beyond buffer length")),e>=r.length?void 0:(n=128&r.parent[r.offset+e],n?-1*(255-r.parent[r.offset+e]+1):r.parent[r.offset+e])},u.prototype.readInt16LE=function(e,t){return m(this,e,!1,t)},u.prototype.readInt16BE=function(e,t){return m(this,e,!0,t)},u.prototype.readInt32LE=function(e,t){return g(this,e,!1,t)},u.prototype.readInt32BE=function(e,t){return g(this,e,!0,t)},u.prototype.readFloatLE=function(e,t){return v(this,e,!1,t)},u.prototype.readFloatBE=function(e,t){return v(this,e,!0,t)},u.prototype.readDoubleLE=function(e,t){return y(this,e,!1,t)},u.prototype.readDoubleBE=function(e,t){return y(this,e,!0,t)},u.prototype.writeUInt8=function(e,t,n){var r=this;n||(L.ok(void 0!==e&&null!==e,"missing value"),L.ok(void 0!==t&&null!==t,"missing offset"),L.ok(t<r.length,"trying to write beyond buffer length"),b(e,255)),t<r.length&&(r.parent[r.offset+t]=e)},u.prototype.writeUInt16LE=function(e,t,n){w(this,e,t,!1,n)},u.prototype.writeUInt16BE=function(e,t,n){w(this,e,t,!0,n)},u.prototype.writeUInt32LE=function(e,t,n){x(this,e,t,!1,n)},u.prototype.writeUInt32BE=function(e,t,n){x(this,e,t,!0,n)},u.prototype.writeInt8=function(e,t,n){var r=this;n||(L.ok(void 0!==e&&null!==e,"missing value"),L.ok(void 0!==t&&null!==t,"missing offset"),L.ok(t<r.length,"Trying to write beyond buffer length"),k(e,127,-128)),e>=0?r.writeUInt8(e,t,n):r.writeUInt8(255+e+1,t,n)},u.prototype.writeInt16LE=function(e,t,n){_(this,e,t,!1,n)},u.prototype.writeInt16BE=function(e,t,n){_(this,e,t,!0,n)},u.prototype.writeInt32LE=function(e,t,n){C(this,e,t,!1,n)},u.prototype.writeInt32BE=function(e,t,n){C(this,e,t,!0,n)},u.prototype.writeFloatLE=function(e,t,n){T(this,e,t,!1,n)},u.prototype.writeFloatBE=function(e,t,n){T(this,e,t,!0,n)},u.prototype.writeDoubleLE=function(e,t,n){E(this,e,t,!1,n)},u.prototype.writeDoubleBE=function(e,t,n){E(this,e,t,!0,n)},t.prototype.readUInt8=u.prototype.readUInt8,t.prototype.readUInt16LE=u.prototype.readUInt16LE,t.prototype.readUInt16BE=u.prototype.readUInt16BE,t.prototype.readUInt32LE=u.prototype.readUInt32LE,t.prototype.readUInt32BE=u.prototype.readUInt32BE,t.prototype.readInt8=u.prototype.readInt8,t.prototype.readInt16LE=u.prototype.readInt16LE,t.prototype.readInt16BE=u.prototype.readInt16BE,t.prototype.readInt32LE=u.prototype.readInt32LE,t.prototype.readInt32BE=u.prototype.readInt32BE,t.prototype.readFloatLE=u.prototype.readFloatLE,t.prototype.readFloatBE=u.prototype.readFloatBE,t.prototype.readDoubleLE=u.prototype.readDoubleLE,t.prototype.readDoubleBE=u.prototype.readDoubleBE,t.prototype.writeUInt8=u.prototype.writeUInt8,t.prototype.writeUInt16LE=u.prototype.writeUInt16LE,t.prototype.writeUInt16BE=u.prototype.writeUInt16BE,t.prototype.writeUInt32LE=u.prototype.writeUInt32LE,t.prototype.writeUInt32BE=u.prototype.writeUInt32BE,t.prototype.writeInt8=u.prototype.writeInt8,t.prototype.writeInt16LE=u.prototype.writeInt16LE,t.prototype.writeInt16BE=u.prototype.writeInt16BE,t.prototype.writeInt32LE=u.prototype.writeInt32LE,t.prototype.writeInt32BE=u.prototype.writeInt32BE,t.prototype.writeFloatLE=u.prototype.writeFloatLE,t.prototype.writeFloatBE=u.prototype.writeFloatBE,t.prototype.writeDoubleLE=u.prototype.writeDoubleLE,t.prototype.writeDoubleBE=u.prototype.writeDoubleBE}()},{assert:103,"./buffer_ieee754":105,"base64-js":106}],106:[function(e,t){!function(){"use strict";function e(e){var t,n,i,a,o,s;if(e.length%4>0)throw"Invalid string. Length must be a multiple of 4";for(o=e.indexOf("="),o=o>0?e.length-o:0,s=[],i=o>0?e.length-4:e.length,t=0,n=0;i>t;t+=4,n+=3)a=r.indexOf(e[t])<<18|r.indexOf(e[t+1])<<12|r.indexOf(e[t+2])<<6|r.indexOf(e[t+3]),s.push((16711680&a)>>16),s.push((65280&a)>>8),s.push(255&a);return 2===o?(a=r.indexOf(e[t])<<2|r.indexOf(e[t+1])>>4,s.push(255&a)):1===o&&(a=r.indexOf(e[t])<<10|r.indexOf(e[t+1])<<4|r.indexOf(e[t+2])>>2,s.push(a>>8&255),s.push(255&a)),s}function n(e){function t(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}var n,i,a,o=e.length%3,s="";for(n=0,a=e.length-o;a>n;n+=3)i=(e[n]<<16)+(e[n+1]<<8)+e[n+2],s+=t(i);switch(o){case 1:i=e[e.length-1],s+=r[i>>2],s+=r[i<<4&63],s+="==";break;case 2:i=(e[e.length-2]<<8)+e[e.length-1],s+=r[i>>10],s+=r[i>>4&63],s+=r[i<<2&63],s+="="}return s}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";t.exports.toByteArray=e,t.exports.fromByteArray=n}()},{}],98:[function(e,t){"use strict";function n(e){try{var t,n="("+e+")",r=i.parse(n,{range:!0}),o=[];return"Program"!==r.type||1!==r.body.length||"ExpressionStatement"!==r.body[0].type||"FunctionExpression"!==r.body[0].expression.type?a:(r.body[0].expression.params.forEach(function(e){o.push(e.name)}),t=r.body[0].expression.body.range,new Function(o,n.slice(t[0]+1,t[1]-1)))}catch(s){return a}}function r(e){return e.toString()}var i=e("esprima"),a=e("../../common").NIL,o=e("../../type");t.exports=new o("tag:yaml.org,2002:js/function",{loader:{kind:"string",resolver:n},dumper:{kind:"function",representer:r}})},{"../../common":68,"../../type":69,esprima:107}],107:[function(e,t,n){!function(){!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["exports"],t):"undefined"!=typeof n?t(n):t(e.esprima={})}(this,function(e){"use strict";function t(e,t){if(!e)throw new Error("ASSERT: "+t)}function n(e,t){return fn.slice(e,t)}function r(e){return"0123456789".indexOf(e)>=0}function i(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function a(e){return"01234567".indexOf(e)>=0}function o(e){return" "===e||"	"===e||""===e||"\f"===e||" "===e||e.charCodeAt(0)>=5760&&" ᠎             　﻿".indexOf(e)>=0}function s(e){return"\n"===e||"\r"===e||"\u2028"===e||"\u2029"===e}function l(e){return"$"===e||"_"===e||"\\"===e||e>="a"&&"z">=e||e>="A"&&"Z">=e||e.charCodeAt(0)>=128&&dn.NonAsciiIdentifierStart.test(e)}function c(e){return"$"===e||"_"===e||"\\"===e||e>="a"&&"z">=e||e>="A"&&"Z">=e||e>="0"&&"9">=e||e.charCodeAt(0)>=128&&dn.NonAsciiIdentifierPart.test(e)}function u(e){switch(e){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0}return!1}function h(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0}return!1}function d(e){return"eval"===e||"arguments"===e}function f(e){var t=!1;switch(e.length){case 2:t="if"===e||"in"===e||"do"===e;break;case 3:t="var"===e||"for"===e||"new"===e||"try"===e;break;case 4:t="this"===e||"else"===e||"case"===e||"void"===e||"with"===e;break;case 5:t="while"===e||"break"===e||"catch"===e||"throw"===e;break;case 6:t="return"===e||"typeof"===e||"delete"===e||"switch"===e;break;case 7:t="default"===e||"finally"===e;break;case 8:t="function"===e||"continue"===e||"debugger"===e;break;case 10:t="instanceof"===e}if(t)return!0;switch(e){case"const":return!0;case"yield":case"let":return!0}return pn&&h(e)?!0:u(e)}function p(){var e,t,n;for(t=!1,n=!1;yn>mn;)if(e=fn[mn],n)e=fn[mn++],s(e)&&(n=!1,"\r"===e&&"\n"===fn[mn]&&++mn,++gn,vn=mn);else if(t)s(e)?("\r"===e&&"\n"===fn[mn+1]&&++mn,++gn,++mn,vn=mn,mn>=yn&&T({},hn.UnexpectedToken,"ILLEGAL")):(e=fn[mn++],mn>=yn&&T({},hn.UnexpectedToken,"ILLEGAL"),"*"===e&&(e=fn[mn],"/"===e&&(++mn,t=!1)));else if("/"===e)if(e=fn[mn+1],"/"===e)mn+=2,n=!0;else{if("*"!==e)break;mn+=2,t=!0,mn>=yn&&T({},hn.UnexpectedToken,"ILLEGAL")}else if(o(e))++mn;else{if(!s(e))break;++mn,"\r"===e&&"\n"===fn[mn]&&++mn,++gn,vn=mn}}function m(e){var t,n,r,a=0;for(n="u"===e?4:2,t=0;n>t;++t){if(!(yn>mn&&i(fn[mn])))return"";r=fn[mn++],a=16*a+"0123456789abcdef".indexOf(r.toLowerCase())}return String.fromCharCode(a)}function g(){var e,t,n,r;if(e=fn[mn],l(e)){if(t=mn,"\\"===e){if(++mn,"u"!==fn[mn])return;if(++mn,r=mn,e=m("u")){if("\\"===e||!l(e))return;n=e}else mn=r,n="u"}else n=fn[mn++];for(;yn>mn&&(e=fn[mn],c(e));)if("\\"===e){if(++mn,"u"!==fn[mn])return;if(++mn,r=mn,e=m("u")){if("\\"===e||!c(e))return;n+=e}else mn=r,n+="u"}else n+=fn[mn++];return 1===n.length?{type:sn.Identifier,value:n,lineNumber:gn,lineStart:vn,range:[t,mn]}:f(n)?{type:sn.Keyword,value:n,lineNumber:gn,lineStart:vn,range:[t,mn]}:"null"===n?{type:sn.NullLiteral,value:n,lineNumber:gn,lineStart:vn,range:[t,mn]}:"true"===n||"false"===n?{type:sn.BooleanLiteral,value:n,lineNumber:gn,lineStart:vn,range:[t,mn]}:{type:sn.Identifier,value:n,lineNumber:gn,lineStart:vn,range:[t,mn]}}}function v(){var e,t,n,i=mn,a=fn[mn];return";"===a||"{"===a||"}"===a?(++mn,{type:sn.Punctuator,value:a,lineNumber:gn,lineStart:vn,range:[i,mn]}):","===a||"("===a||")"===a?(++mn,{type:sn.Punctuator,value:a,lineNumber:gn,lineStart:vn,range:[i,mn]}):(e=fn[mn+1],"."!==a||r(e)?(t=fn[mn+2],n=fn[mn+3],">"===a&&">"===e&&">"===t&&"="===n?(mn+=4,{type:sn.Punctuator,value:">>>=",lineNumber:gn,lineStart:vn,range:[i,mn]}):"="===a&&"="===e&&"="===t?(mn+=3,{type:sn.Punctuator,value:"===",lineNumber:gn,lineStart:vn,range:[i,mn]}):"!"===a&&"="===e&&"="===t?(mn+=3,{type:sn.Punctuator,value:"!==",lineNumber:gn,lineStart:vn,range:[i,mn]}):">"===a&&">"===e&&">"===t?(mn+=3,{type:sn.Punctuator,value:">>>",lineNumber:gn,lineStart:vn,range:[i,mn]}):"<"===a&&"<"===e&&"="===t?(mn+=3,{type:sn.Punctuator,value:"<<=",lineNumber:gn,lineStart:vn,range:[i,mn]}):">"===a&&">"===e&&"="===t?(mn+=3,{type:sn.Punctuator,value:">>=",lineNumber:gn,lineStart:vn,range:[i,mn]}):"="===e&&"<>=!+-*%&|^/".indexOf(a)>=0?(mn+=2,{type:sn.Punctuator,value:a+e,lineNumber:gn,lineStart:vn,range:[i,mn]}):a===e&&"+-<>&|".indexOf(a)>=0&&"+-<>&|".indexOf(e)>=0?(mn+=2,{type:sn.Punctuator,value:a+e,lineNumber:gn,lineStart:vn,range:[i,mn]}):"[]<>+-*%&|^!~?:=/".indexOf(a)>=0?{type:sn.Punctuator,value:fn[mn++],lineNumber:gn,lineStart:vn,range:[i,mn]}:void 0):{type:sn.Punctuator,value:fn[mn++],lineNumber:gn,lineStart:vn,range:[i,mn]})}function y(){var e,n,o;if(o=fn[mn],t(r(o)||"."===o,"Numeric literal must start with a decimal digit or a decimal point"),n=mn,e="","."!==o){if(e=fn[mn++],o=fn[mn],"0"===e){if("x"===o||"X"===o){for(e+=fn[mn++];yn>mn&&(o=fn[mn],i(o));)e+=fn[mn++];return e.length<=2&&T({},hn.UnexpectedToken,"ILLEGAL"),yn>mn&&(o=fn[mn],l(o)&&T({},hn.UnexpectedToken,"ILLEGAL")),{type:sn.NumericLiteral,value:parseInt(e,16),lineNumber:gn,lineStart:vn,range:[n,mn]}}if(a(o)){for(e+=fn[mn++];yn>mn&&(o=fn[mn],a(o));)e+=fn[mn++];return yn>mn&&(o=fn[mn],(l(o)||r(o))&&T({},hn.UnexpectedToken,"ILLEGAL")),{type:sn.NumericLiteral,value:parseInt(e,8),octal:!0,lineNumber:gn,lineStart:vn,range:[n,mn]}}r(o)&&T({},hn.UnexpectedToken,"ILLEGAL")}for(;yn>mn&&(o=fn[mn],r(o));)e+=fn[mn++]}if("."===o)for(e+=fn[mn++];yn>mn&&(o=fn[mn],r(o));)e+=fn[mn++];if("e"===o||"E"===o)if(e+=fn[mn++],o=fn[mn],("+"===o||"-"===o)&&(e+=fn[mn++]),o=fn[mn],r(o))for(e+=fn[mn++];yn>mn&&(o=fn[mn],r(o));)e+=fn[mn++];else o="character "+o,mn>=yn&&(o="<end>"),T({},hn.UnexpectedToken,"ILLEGAL");return yn>mn&&(o=fn[mn],l(o)&&T({},hn.UnexpectedToken,"ILLEGAL")),{type:sn.NumericLiteral,value:parseFloat(e),lineNumber:gn,lineStart:vn,range:[n,mn]}}function b(){var e,n,r,i,o,l,c="",u=!1;for(e=fn[mn],t("'"===e||'"'===e,"String literal must starts with a quote"),n=mn,++mn;yn>mn;){if(r=fn[mn++],r===e){e="";break}if("\\"===r)if(r=fn[mn++],s(r))++gn,"\r"===r&&"\n"===fn[mn]&&++mn;else switch(r){case"n":c+="\n";break;case"r":c+="\r";break;case"t":c+="	";break;case"u":case"x":l=mn,o=m(r),o?c+=o:(mn=l,c+=r);break;case"b":c+="\b";break;case"f":c+="\f";break;case"v":c+="";break;default:a(r)?(i="01234567".indexOf(r),0!==i&&(u=!0),yn>mn&&a(fn[mn])&&(u=!0,i=8*i+"01234567".indexOf(fn[mn++]),"0123".indexOf(r)>=0&&yn>mn&&a(fn[mn])&&(i=8*i+"01234567".indexOf(fn[mn++]))),c+=String.fromCharCode(i)):c+=r}else{if(s(r))break;c+=r}}return""!==e&&T({},hn.UnexpectedToken,"ILLEGAL"),{type:sn.StringLiteral,value:c,octal:u,lineNumber:gn,lineStart:vn,range:[n,mn]}}function w(){var e,n,r,i,a,o,l,u=!1,h=!1;for(bn=null,p(),r=mn,n=fn[mn],t("/"===n,"Regular expression literal must start with a slash"),e=fn[mn++];yn>mn;)if(n=fn[mn++],e+=n,"\\"===n)n=fn[mn++],s(n)&&T({},hn.UnterminatedRegExp),e+=n;else if(u)"]"===n&&(u=!1);else{if("/"===n){h=!0;break}"["===n?u=!0:s(n)&&T({},hn.UnterminatedRegExp)}for(h||T({},hn.UnterminatedRegExp),i=e.substr(1,e.length-2),a="";yn>mn&&(n=fn[mn],c(n));)if(++mn,"\\"===n&&yn>mn)if(n=fn[mn],"u"===n)if(++mn,l=mn,n=m("u"))for(a+=n,e+="\\u";mn>l;++l)e+=fn[l];else mn=l,a+="u",e+="\\u";else e+="\\";else a+=n,e+=n;try{o=new RegExp(i,a)}catch(d){T({},hn.InvalidRegExp)}return{literal:e,value:o,range:[r,mn]}}function x(e){return e.type===sn.Identifier||e.type===sn.Keyword||e.type===sn.BooleanLiteral||e.type===sn.NullLiteral}function k(){var e,t;return p(),mn>=yn?{type:sn.EOF,lineNumber:gn,lineStart:vn,range:[mn,mn]}:(t=v(),"undefined"!=typeof t?t:(e=fn[mn],"'"===e||'"'===e?b():"."===e||r(e)?y():(t=g(),"undefined"!=typeof t?t:(T({},hn.UnexpectedToken,"ILLEGAL"),void 0))))}function S(){var e;return bn?(mn=bn.range[1],gn=bn.lineNumber,vn=bn.lineStart,e=bn,bn=null,e):(bn=null,k())}function _(){var e,t,n;return null!==bn?bn:(e=mn,t=gn,n=vn,bn=k(),mn=e,gn=t,vn=n,bn)}function C(){var e,t,n,r;return e=mn,t=gn,n=vn,p(),r=gn!==t,mn=e,gn=t,vn=n,r}function T(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,function(e,t){return r[t]||""});throw"number"==typeof e.lineNumber?(n=new Error("Line "+e.lineNumber+": "+i),n.index=e.range[0],n.lineNumber=e.lineNumber,n.column=e.range[0]-vn+1):(n=new Error("Line "+gn+": "+i),n.index=mn,n.lineNumber=gn,n.column=mn-vn+1),n}function E(){try{T.apply(null,arguments)}catch(e){if(!xn.errors)throw e;xn.errors.push(e)}}function L(e){if(e.type===sn.EOF&&T(e,hn.UnexpectedEOS),e.type===sn.NumericLiteral&&T(e,hn.UnexpectedNumber),e.type===sn.StringLiteral&&T(e,hn.UnexpectedString),e.type===sn.Identifier&&T(e,hn.UnexpectedIdentifier),e.type===sn.Keyword){if(u(e.value))T(e,hn.UnexpectedReserved);else if(pn&&h(e.value))return E(e,hn.StrictReservedWord),void 0;T(e,hn.UnexpectedToken,e.value)}T(e,hn.UnexpectedToken,e.value)}function A(e){var t=S();(t.type!==sn.Punctuator||t.value!==e)&&L(t)}function M(e){var t=S();(t.type!==sn.Keyword||t.value!==e)&&L(t)}function N(e){var t=_();return t.type===sn.Punctuator&&t.value===e}function j(e){var t=_();return t.type===sn.Keyword&&t.value===e}function D(){var e=_(),t=e.value;return e.type!==sn.Punctuator?!1:"="===t||"*="===t||"/="===t||"%="===t||"+="===t||"-="===t||"<<="===t||">>="===t||">>>="===t||"&="===t||"^="===t||"|="===t}function I(){var e,t;if(";"===fn[mn])return S(),void 0;if(t=gn,p(),gn===t){if(N(";"))return S(),void 0;e=_(),e.type===sn.EOF||N("}")||L(e)}}function O(e){return e.type===cn.Identifier||e.type===cn.MemberExpression}function F(){var e=[];for(A("[");!N("]");)N(",")?(S(),e.push(null)):(e.push(ct()),N("]")||A(","));return A("]"),{type:cn.ArrayExpression,elements:e}}function P(e,t){var n,r;return n=pn,r=Ft(),t&&pn&&d(e[0].name)&&E(t,hn.StrictParamName),pn=n,{type:cn.FunctionExpression,id:null,params:e,defaults:[],body:r,rest:null,generator:!1,expression:!1}}function q(){var e=S();return e.type===sn.StringLiteral||e.type===sn.NumericLiteral?(pn&&e.octal&&E(e,hn.StrictOctalLiteral),Kt(e)):{type:cn.Identifier,name:e.value}}function H(){var e,t,n,r;return e=_(),e.type===sn.Identifier?(n=q(),"get"!==e.value||N(":")?"set"!==e.value||N(":")?(A(":"),{type:cn.Property,key:n,value:ct(),kind:"init"}):(t=q(),A("("),e=_(),e.type!==sn.Identifier?(A(")"),E(e,hn.UnexpectedToken,e.value),{type:cn.Property,key:t,value:P([]),kind:"set"}):(r=[ft()],A(")"),{type:cn.Property,key:t,value:P(r,e),kind:"set"})):(t=q(),A("("),A(")"),{type:cn.Property,key:t,value:P([]),kind:"get"})):e.type!==sn.EOF&&e.type!==sn.Punctuator?(t=q(),A(":"),{type:cn.Property,key:t,value:ct(),kind:"init"}):(L(e),void 0)}function z(){var e,t,n,r=[],i={},a=String;for(A("{");!N("}");)e=H(),t=e.key.type===cn.Identifier?e.key.name:a(e.key.value),n="init"===e.kind?un.Data:"get"===e.kind?un.Get:un.Set,Object.prototype.hasOwnProperty.call(i,t)?(i[t]===un.Data?pn&&n===un.Data?E({},hn.StrictDuplicateProperty):n!==un.Data&&E({},hn.AccessorDataProperty):n===un.Data?E({},hn.AccessorDataProperty):i[t]&n&&E({},hn.AccessorGetSet),i[t]|=n):i[t]=n,r.push(e),N("}")||A(",");return A("}"),{type:cn.ObjectExpression,properties:r}}function B(){var e;return A("("),e=ut(),A(")"),e}function W(){var e=_(),t=e.type;if(t===sn.Identifier)return{type:cn.Identifier,name:S().value};if(t===sn.StringLiteral||t===sn.NumericLiteral)return pn&&e.octal&&E(e,hn.StrictOctalLiteral),Kt(S());if(t===sn.Keyword){if(j("this"))return S(),{type:cn.ThisExpression};if(j("function"))return qt()}return t===sn.BooleanLiteral?(S(),e.value="true"===e.value,Kt(e)):t===sn.NullLiteral?(S(),e.value=null,Kt(e)):N("[")?F():N("{")?z():N("(")?B():N("/")||N("/=")?Kt(w()):L(S())}function $(){var e=[];if(A("("),!N(")"))for(;yn>mn&&(e.push(ct()),!N(")"));)A(",");return A(")"),e}function R(){var e=S();return x(e)||L(e),{type:cn.Identifier,name:e.value}}function U(){return A("."),R()}function V(){var e;return A("["),e=ut(),A("]"),e}function G(){var e;return M("new"),e={type:cn.NewExpression,callee:Y(),arguments:[]},N("(")&&(e.arguments=$()),e}function K(){var e;for(e=j("new")?G():W();N(".")||N("[")||N("(");)e=N("(")?{type:cn.CallExpression,callee:e,arguments:$()}:N("[")?{type:cn.MemberExpression,computed:!0,object:e,property:V()}:{type:cn.MemberExpression,computed:!1,object:e,property:U()};return e}function Y(){var e;for(e=j("new")?G():W();N(".")||N("[");)e=N("[")?{type:cn.MemberExpression,computed:!0,object:e,property:V()}:{type:cn.MemberExpression,computed:!1,object:e,property:U()};return e}function X(){var e,t=K();return e=_(),e.type!==sn.Punctuator?t:(!N("++")&&!N("--")||C()||(pn&&t.type===cn.Identifier&&d(t.name)&&E({},hn.StrictLHSPostfix),O(t)||E({},hn.InvalidLHSInAssignment),t={type:cn.UpdateExpression,operator:S().value,argument:t,prefix:!1}),t)}function J(){var e,t;return e=_(),e.type!==sn.Punctuator&&e.type!==sn.Keyword?X():N("++")||N("--")?(e=S(),t=J(),pn&&t.type===cn.Identifier&&d(t.name)&&E({},hn.StrictLHSPrefix),O(t)||E({},hn.InvalidLHSInAssignment),t={type:cn.UpdateExpression,operator:e.value,argument:t,prefix:!0}):N("+")||N("-")||N("~")||N("!")?t={type:cn.UnaryExpression,operator:S().value,argument:J(),prefix:!0}:j("delete")||j("void")||j("typeof")?(t={type:cn.UnaryExpression,operator:S().value,argument:J(),prefix:!0},pn&&"delete"===t.operator&&t.argument.type===cn.Identifier&&E({},hn.StrictDelete),t):X()}function Z(){for(var e=J();N("*")||N("/")||N("%");)e={type:cn.BinaryExpression,operator:S().value,left:e,right:J()};return e}function Q(){for(var e=Z();N("+")||N("-");)e={type:cn.BinaryExpression,operator:S().value,left:e,right:Z()};return e}function et(){for(var e=Q();N("<<")||N(">>")||N(">>>");)e={type:cn.BinaryExpression,operator:S().value,left:e,right:Q()};return e}function tt(){var e,t;for(t=wn.allowIn,wn.allowIn=!0,e=et();N("<")||N(">")||N("<=")||N(">=")||t&&j("in")||j("instanceof");)e={type:cn.BinaryExpression,operator:S().value,left:e,right:et()};return wn.allowIn=t,e}function nt(){for(var e=tt();N("==")||N("!=")||N("===")||N("!==");)e={type:cn.BinaryExpression,operator:S().value,left:e,right:tt()};return e}function rt(){for(var e=nt();N("&");)S(),e={type:cn.BinaryExpression,operator:"&",left:e,right:nt()};return e}function it(){for(var e=rt();N("^");)S(),e={type:cn.BinaryExpression,operator:"^",left:e,right:rt()};return e}function at(){for(var e=it();N("|");)S(),e={type:cn.BinaryExpression,operator:"|",left:e,right:it()};return e}function ot(){for(var e=at();N("&&");)S(),e={type:cn.LogicalExpression,operator:"&&",left:e,right:at()};return e}function st(){for(var e=ot();N("||");)S(),e={type:cn.LogicalExpression,operator:"||",left:e,right:ot()};return e}function lt(){var e,t,n;return e=st(),N("?")&&(S(),t=wn.allowIn,wn.allowIn=!0,n=ct(),wn.allowIn=t,A(":"),e={type:cn.ConditionalExpression,test:e,consequent:n,alternate:ct()}),e}function ct(){var e,t;return e=_(),t=lt(),D()&&(O(t)||E({},hn.InvalidLHSInAssignment),pn&&t.type===cn.Identifier&&d(t.name)&&E(e,hn.StrictLHSAssignment),t={type:cn.AssignmentExpression,operator:S().value,left:t,right:ct()}),t}function ut(){var e=ct();if(N(","))for(e={type:cn.SequenceExpression,expressions:[e]};yn>mn&&N(",");)S(),e.expressions.push(ct());return e}function ht(){for(var e,t=[];yn>mn&&!N("}")&&(e=Ht(),"undefined"!=typeof e);)t.push(e);return t}function dt(){var e;return A("{"),e=ht(),A("}"),{type:cn.BlockStatement,body:e}}function ft(){var e=S();return e.type!==sn.Identifier&&L(e),{type:cn.Identifier,name:e.value}}function pt(e){var t=ft(),n=null;return pn&&d(t.name)&&E({},hn.StrictVarName),"const"===e?(A("="),n=ct()):N("=")&&(S(),n=ct()),{type:cn.VariableDeclarator,id:t,init:n}}function mt(e){var t=[];do{if(t.push(pt(e)),!N(","))break;S()}while(yn>mn);return t}function gt(){var e;return M("var"),e=mt(),I(),{type:cn.VariableDeclaration,declarations:e,kind:"var"}}function vt(e){var t;return M(e),t=mt(e),I(),{type:cn.VariableDeclaration,declarations:t,kind:e}}function yt(){return A(";"),{type:cn.EmptyStatement}}function bt(){var e=ut();return I(),{type:cn.ExpressionStatement,expression:e}}function wt(){var e,t,n;return M("if"),A("("),e=ut(),A(")"),t=Ot(),j("else")?(S(),n=Ot()):n=null,{type:cn.IfStatement,test:e,consequent:t,alternate:n}}function xt(){var e,t,n;return M("do"),n=wn.inIteration,wn.inIteration=!0,e=Ot(),wn.inIteration=n,M("while"),A("("),t=ut(),A(")"),N(";")&&S(),{type:cn.DoWhileStatement,body:e,test:t}}function kt(){var e,t,n;return M("while"),A("("),e=ut(),A(")"),n=wn.inIteration,wn.inIteration=!0,t=Ot(),wn.inIteration=n,{type:cn.WhileStatement,test:e,body:t}}function St(){var e=S();return{type:cn.VariableDeclaration,declarations:mt(),kind:e.value}}function _t(){var e,t,n,r,i,a,o;return e=t=n=null,M("for"),A("("),N(";")?S():(j("var")||j("let")?(wn.allowIn=!1,e=St(),wn.allowIn=!0,1===e.declarations.length&&j("in")&&(S(),r=e,i=ut(),e=null)):(wn.allowIn=!1,e=ut(),wn.allowIn=!0,j("in")&&(O(e)||E({},hn.InvalidLHSInForIn),S(),r=e,i=ut(),e=null)),"undefined"==typeof r&&A(";")),"undefined"==typeof r&&(N(";")||(t=ut()),A(";"),N(")")||(n=ut())),A(")"),o=wn.inIteration,wn.inIteration=!0,a=Ot(),wn.inIteration=o,"undefined"==typeof r?{type:cn.ForStatement,init:e,test:t,update:n,body:a}:{type:cn.ForInStatement,left:r,right:i,body:a,each:!1}}function Ct(){var e,t=null;return M("continue"),";"===fn[mn]?(S(),wn.inIteration||T({},hn.IllegalContinue),{type:cn.ContinueStatement,label:null}):C()?(wn.inIteration||T({},hn.IllegalContinue),{type:cn.ContinueStatement,label:null}):(e=_(),e.type===sn.Identifier&&(t=ft(),Object.prototype.hasOwnProperty.call(wn.labelSet,t.name)||T({},hn.UnknownLabel,t.name)),I(),null!==t||wn.inIteration||T({},hn.IllegalContinue),{type:cn.ContinueStatement,label:t})}function Tt(){var e,t=null;return M("break"),";"===fn[mn]?(S(),wn.inIteration||wn.inSwitch||T({},hn.IllegalBreak),{type:cn.BreakStatement,label:null}):C()?(wn.inIteration||wn.inSwitch||T({},hn.IllegalBreak),{type:cn.BreakStatement,label:null}):(e=_(),e.type===sn.Identifier&&(t=ft(),Object.prototype.hasOwnProperty.call(wn.labelSet,t.name)||T({},hn.UnknownLabel,t.name)),I(),null!==t||wn.inIteration||wn.inSwitch||T({},hn.IllegalBreak),{type:cn.BreakStatement,label:t})}function Et(){var e,t=null;return M("return"),wn.inFunctionBody||E({},hn.IllegalReturn)," "===fn[mn]&&l(fn[mn+1])?(t=ut(),I(),{type:cn.ReturnStatement,argument:t}):C()?{type:cn.ReturnStatement,argument:null}:(N(";")||(e=_(),N("}")||e.type===sn.EOF||(t=ut())),I(),{type:cn.ReturnStatement,argument:t})}function Lt(){var e,t;return pn&&E({},hn.StrictModeWith),M("with"),A("("),e=ut(),A(")"),t=Ot(),{type:cn.WithStatement,object:e,body:t}}function At(){var e,t,n=[];for(j("default")?(S(),e=null):(M("case"),e=ut()),A(":");yn>mn&&!(N("}")||j("default")||j("case"))&&(t=Ot(),"undefined"!=typeof t);)n.push(t);return{type:cn.SwitchCase,test:e,consequent:n}}function Mt(){var e,t,n,r,i;if(M("switch"),A("("),e=ut(),A(")"),A("{"),t=[],N("}"))return S(),{type:cn.SwitchStatement,discriminant:e,cases:t};for(r=wn.inSwitch,wn.inSwitch=!0,i=!1;yn>mn&&!N("}");)n=At(),null===n.test&&(i&&T({},hn.MultipleDefaultsInSwitch),i=!0),t.push(n);return wn.inSwitch=r,A("}"),{type:cn.SwitchStatement,discriminant:e,cases:t}}function Nt(){var e;return M("throw"),C()&&T({},hn.NewlineAfterThrow),e=ut(),I(),{type:cn.ThrowStatement,argument:e}}function jt(){var e;return M("catch"),A("("),N(")")&&L(_()),e=ft(),pn&&d(e.name)&&E({},hn.StrictCatchVariable),A(")"),{type:cn.CatchClause,param:e,body:dt()}}function Dt(){var e,t=[],n=null;return M("try"),e=dt(),j("catch")&&t.push(jt()),j("finally")&&(S(),n=dt()),0!==t.length||n||T({},hn.NoCatchOrFinally),{type:cn.TryStatement,block:e,guardedHandlers:[],handlers:t,finalizer:n}}function It(){return M("debugger"),I(),{type:cn.DebuggerStatement}}function Ot(){var e,t,n=_();if(n.type===sn.EOF&&L(n),n.type===sn.Punctuator)switch(n.value){case";":return yt();case"{":return dt();case"(":return bt()}if(n.type===sn.Keyword)switch(n.value){case"break":return Tt();case"continue":return Ct();case"debugger":return It();case"do":return xt();case"for":return _t();case"function":return Pt();case"if":return wt();case"return":return Et();case"switch":return Mt();case"throw":return Nt();case"try":return Dt();case"var":return gt();case"while":return kt();case"with":return Lt()}return e=ut(),e.type===cn.Identifier&&N(":")?(S(),Object.prototype.hasOwnProperty.call(wn.labelSet,e.name)&&T({},hn.Redeclaration,"Label",e.name),wn.labelSet[e.name]=!0,t=Ot(),delete wn.labelSet[e.name],{type:cn.LabeledStatement,label:e,body:t}):(I(),{type:cn.ExpressionStatement,expression:e})}function Ft(){var e,t,r,i,a,o,s,l,c=[];for(A("{");yn>mn&&(t=_(),t.type===sn.StringLiteral)&&(e=Ht(),c.push(e),e.expression.type===cn.Literal);)r=n(t.range[0]+1,t.range[1]-1),"use strict"===r?(pn=!0,i&&E(i,hn.StrictOctalLiteral)):!i&&t.octal&&(i=t);for(a=wn.labelSet,o=wn.inIteration,s=wn.inSwitch,l=wn.inFunctionBody,wn.labelSet={},wn.inIteration=!1,wn.inSwitch=!1,wn.inFunctionBody=!0;yn>mn&&!N("}")&&(e=Ht(),"undefined"!=typeof e);)c.push(e);return A("}"),wn.labelSet=a,wn.inIteration=o,wn.inSwitch=s,wn.inFunctionBody=l,{type:cn.BlockStatement,body:c}}function Pt(){var e,t,n,r,i,a,o,s,l,c=[];if(M("function"),r=_(),e=ft(),pn?d(r.value)&&E(r,hn.StrictFunctionName):d(r.value)?(a=r,o=hn.StrictFunctionName):h(r.value)&&(a=r,o=hn.StrictReservedWord),A("("),!N(")"))for(l={};yn>mn&&(r=_(),t=ft(),pn?(d(r.value)&&(i=r,o=hn.StrictParamName),Object.prototype.hasOwnProperty.call(l,r.value)&&(i=r,o=hn.StrictParamDupe)):a||(d(r.value)?(a=r,o=hn.StrictParamName):h(r.value)?(a=r,o=hn.StrictReservedWord):Object.prototype.hasOwnProperty.call(l,r.value)&&(a=r,o=hn.StrictParamDupe)),c.push(t),l[t.name]=!0,!N(")"));)A(",");return A(")"),s=pn,n=Ft(),pn&&a&&T(a,o),pn&&i&&E(i,o),pn=s,{type:cn.FunctionDeclaration,id:e,params:c,defaults:[],body:n,rest:null,generator:!1,expression:!1}}function qt(){var e,t,n,r,i,a,o,s,l=null,c=[];if(M("function"),N("(")||(e=_(),l=ft(),pn?d(e.value)&&E(e,hn.StrictFunctionName):d(e.value)?(n=e,r=hn.StrictFunctionName):h(e.value)&&(n=e,r=hn.StrictReservedWord)),A("("),!N(")"))for(s={};yn>mn&&(e=_(),i=ft(),pn?(d(e.value)&&(t=e,r=hn.StrictParamName),Object.prototype.hasOwnProperty.call(s,e.value)&&(t=e,r=hn.StrictParamDupe)):n||(d(e.value)?(n=e,r=hn.StrictParamName):h(e.value)?(n=e,r=hn.StrictReservedWord):Object.prototype.hasOwnProperty.call(s,e.value)&&(n=e,r=hn.StrictParamDupe)),c.push(i),s[i.name]=!0,!N(")"));)A(",");return A(")"),o=pn,a=Ft(),pn&&n&&T(n,r),pn&&t&&E(t,r),pn=o,{type:cn.FunctionExpression,id:l,params:c,defaults:[],body:a,rest:null,generator:!1,expression:!1}}function Ht(){var e=_();if(e.type===sn.Keyword)switch(e.value){case"const":case"let":return vt(e.value);case"function":return Pt();default:return Ot()}return e.type!==sn.EOF?Ot():void 0}function zt(){for(var e,t,r,i,a=[];yn>mn&&(t=_(),t.type===sn.StringLiteral)&&(e=Ht(),a.push(e),e.expression.type===cn.Literal);)r=n(t.range[0]+1,t.range[1]-1),"use strict"===r?(pn=!0,i&&E(i,hn.StrictOctalLiteral)):!i&&t.octal&&(i=t);for(;yn>mn&&(e=Ht(),"undefined"!=typeof e);)a.push(e);return a}function Bt(){var e;return pn=!1,e={type:cn.Program,body:zt()}}function Wt(e,n,r,i,a){t("number"==typeof r,"Comment must have valid position"),xn.comments.length>0&&xn.comments[xn.comments.length-1].range[1]>r||xn.comments.push({type:e,value:n,range:[r,i],loc:a})}function $t(){var e,t,n,r,i,a;for(e="",i=!1,a=!1;yn>mn;)if(t=fn[mn],a)t=fn[mn++],s(t)?(n.end={line:gn,column:mn-vn-1},a=!1,Wt("Line",e,r,mn-1,n),"\r"===t&&"\n"===fn[mn]&&++mn,++gn,vn=mn,e=""):mn>=yn?(a=!1,e+=t,n.end={line:gn,column:yn-vn},Wt("Line",e,r,yn,n)):e+=t;else if(i)s(t)?("\r"===t&&"\n"===fn[mn+1]?(++mn,e+="\r\n"):e+=t,++gn,++mn,vn=mn,mn>=yn&&T({},hn.UnexpectedToken,"ILLEGAL")):(t=fn[mn++],mn>=yn&&T({},hn.UnexpectedToken,"ILLEGAL"),e+=t,"*"===t&&(t=fn[mn],"/"===t&&(e=e.substr(0,e.length-1),i=!1,++mn,n.end={line:gn,column:mn-vn},Wt("Block",e,r,mn,n),e="")));else if("/"===t)if(t=fn[mn+1],"/"===t)n={start:{line:gn,column:mn-vn}},r=mn,mn+=2,a=!0,mn>=yn&&(n.end={line:gn,column:mn-vn},a=!1,Wt("Line",e,r,mn,n));else{if("*"!==t)break;r=mn,mn+=2,i=!0,n={start:{line:gn,column:mn-vn-2}},mn>=yn&&T({},hn.UnexpectedToken,"ILLEGAL")}else if(o(t))++mn;else{if(!s(t))break;++mn,"\r"===t&&"\n"===fn[mn]&&++mn,++gn,vn=mn}}function Rt(){var e,t,n,r=[];for(e=0;e<xn.comments.length;++e)t=xn.comments[e],n={type:t.type,value:t.value},xn.range&&(n.range=t.range),xn.loc&&(n.loc=t.loc),r.push(n);xn.comments=r}function Ut(){var e,t,r,i,a;return p(),e=mn,t={start:{line:gn,column:mn-vn}},r=xn.advance(),t.end={line:gn,column:mn-vn},r.type!==sn.EOF&&(i=[r.range[0],r.range[1]],a=n(r.range[0],r.range[1]),xn.tokens.push({type:ln[r.type],value:a,range:i,loc:t})),r}function Vt(){var e,t,n,r;return p(),e=mn,t={start:{line:gn,column:mn-vn}},n=xn.scanRegExp(),t.end={line:gn,column:mn-vn},xn.tokens.length>0&&(r=xn.tokens[xn.tokens.length-1],r.range[0]===e&&"Punctuator"===r.type&&("/"===r.value||"/="===r.value)&&xn.tokens.pop()),xn.tokens.push({type:"RegularExpression",value:n.literal,range:[e,mn],loc:t}),n
}function Gt(){var e,t,n,r=[];for(e=0;e<xn.tokens.length;++e)t=xn.tokens[e],n={type:t.type,value:t.value},xn.range&&(n.range=t.range),xn.loc&&(n.loc=t.loc),r.push(n);xn.tokens=r}function Kt(e){return{type:cn.Literal,value:e.value}}function Yt(e){return{type:cn.Literal,value:e.value,raw:n(e.range[0],e.range[1])}}function Xt(){var e={};return e.range=[mn,mn],e.loc={start:{line:gn,column:mn-vn},end:{line:gn,column:mn-vn}},e.end=function(){this.range[1]=mn,this.loc.end.line=gn,this.loc.end.column=mn-vn},e.applyGroup=function(e){xn.range&&(e.groupRange=[this.range[0],this.range[1]]),xn.loc&&(e.groupLoc={start:{line:this.loc.start.line,column:this.loc.start.column},end:{line:this.loc.end.line,column:this.loc.end.column}})},e.apply=function(e){xn.range&&(e.range=[this.range[0],this.range[1]]),xn.loc&&(e.loc={start:{line:this.loc.start.line,column:this.loc.start.column},end:{line:this.loc.end.line,column:this.loc.end.column}})},e}function Jt(){var e,t;return p(),e=Xt(),A("("),t=ut(),A(")"),e.end(),e.applyGroup(t),t}function Zt(){var e,t;for(p(),e=Xt(),t=j("new")?G():W();N(".")||N("[");)N("[")?(t={type:cn.MemberExpression,computed:!0,object:t,property:V()},e.end(),e.apply(t)):(t={type:cn.MemberExpression,computed:!1,object:t,property:U()},e.end(),e.apply(t));return t}function Qt(){var e,t;for(p(),e=Xt(),t=j("new")?G():W();N(".")||N("[")||N("(");)N("(")?(t={type:cn.CallExpression,callee:t,arguments:$()},e.end(),e.apply(t)):N("[")?(t={type:cn.MemberExpression,computed:!0,object:t,property:V()},e.end(),e.apply(t)):(t={type:cn.MemberExpression,computed:!1,object:t,property:U()},e.end(),e.apply(t));return t}function en(e){var t,n,r;t="[object Array]"===Object.prototype.toString.apply(e)?[]:{};for(n in e)e.hasOwnProperty(n)&&"groupRange"!==n&&"groupLoc"!==n&&(r=e[n],t[n]=null===r||"object"!=typeof r||r instanceof RegExp?r:en(r));return t}function tn(e,t){return function(n){function r(e){return e.type===cn.LogicalExpression||e.type===cn.BinaryExpression}function i(n){var a,o;r(n.left)&&i(n.left),r(n.right)&&i(n.right),e&&(n.left.groupRange||n.right.groupRange?(a=n.left.groupRange?n.left.groupRange[0]:n.left.range[0],o=n.right.groupRange?n.right.groupRange[1]:n.right.range[1],n.range=[a,o]):"undefined"==typeof n.range&&(a=n.left.range[0],o=n.right.range[1],n.range=[a,o])),t&&(n.left.groupLoc||n.right.groupLoc?(a=n.left.groupLoc?n.left.groupLoc.start:n.left.loc.start,o=n.right.groupLoc?n.right.groupLoc.end:n.right.loc.end,n.loc={start:a,end:o}):"undefined"==typeof n.loc&&(n.loc={start:n.left.loc.start,end:n.right.loc.end}))}return function(){var a,o;return p(),a=Xt(),o=n.apply(null,arguments),a.end(),e&&"undefined"==typeof o.range&&a.apply(o),t&&"undefined"==typeof o.loc&&a.apply(o),r(o)&&i(o),o}}}function nn(){var e;xn.comments&&(xn.skipComment=p,p=$t),xn.raw&&(xn.createLiteral=Kt,Kt=Yt),(xn.range||xn.loc)&&(xn.parseGroupExpression=B,xn.parseLeftHandSideExpression=Y,xn.parseLeftHandSideExpressionAllowCall=K,B=Jt,Y=Zt,K=Qt,e=tn(xn.range,xn.loc),xn.parseAdditiveExpression=Q,xn.parseAssignmentExpression=ct,xn.parseBitwiseANDExpression=rt,xn.parseBitwiseORExpression=at,xn.parseBitwiseXORExpression=it,xn.parseBlock=dt,xn.parseFunctionSourceElements=Ft,xn.parseCatchClause=jt,xn.parseComputedMember=V,xn.parseConditionalExpression=lt,xn.parseConstLetDeclaration=vt,xn.parseEqualityExpression=nt,xn.parseExpression=ut,xn.parseForVariableDeclaration=St,xn.parseFunctionDeclaration=Pt,xn.parseFunctionExpression=qt,xn.parseLogicalANDExpression=ot,xn.parseLogicalORExpression=st,xn.parseMultiplicativeExpression=Z,xn.parseNewExpression=G,xn.parseNonComputedProperty=R,xn.parseObjectProperty=H,xn.parseObjectPropertyKey=q,xn.parsePostfixExpression=X,xn.parsePrimaryExpression=W,xn.parseProgram=Bt,xn.parsePropertyFunction=P,xn.parseRelationalExpression=tt,xn.parseStatement=Ot,xn.parseShiftExpression=et,xn.parseSwitchCase=At,xn.parseUnaryExpression=J,xn.parseVariableDeclaration=pt,xn.parseVariableIdentifier=ft,Q=e(xn.parseAdditiveExpression),ct=e(xn.parseAssignmentExpression),rt=e(xn.parseBitwiseANDExpression),at=e(xn.parseBitwiseORExpression),it=e(xn.parseBitwiseXORExpression),dt=e(xn.parseBlock),Ft=e(xn.parseFunctionSourceElements),jt=e(xn.parseCatchClause),V=e(xn.parseComputedMember),lt=e(xn.parseConditionalExpression),vt=e(xn.parseConstLetDeclaration),nt=e(xn.parseEqualityExpression),ut=e(xn.parseExpression),St=e(xn.parseForVariableDeclaration),Pt=e(xn.parseFunctionDeclaration),qt=e(xn.parseFunctionExpression),Y=e(Y),ot=e(xn.parseLogicalANDExpression),st=e(xn.parseLogicalORExpression),Z=e(xn.parseMultiplicativeExpression),G=e(xn.parseNewExpression),R=e(xn.parseNonComputedProperty),H=e(xn.parseObjectProperty),q=e(xn.parseObjectPropertyKey),X=e(xn.parsePostfixExpression),W=e(xn.parsePrimaryExpression),Bt=e(xn.parseProgram),P=e(xn.parsePropertyFunction),tt=e(xn.parseRelationalExpression),Ot=e(xn.parseStatement),et=e(xn.parseShiftExpression),At=e(xn.parseSwitchCase),J=e(xn.parseUnaryExpression),pt=e(xn.parseVariableDeclaration),ft=e(xn.parseVariableIdentifier)),"undefined"!=typeof xn.tokens&&(xn.advance=k,xn.scanRegExp=w,k=Ut,w=Vt)}function rn(){"function"==typeof xn.skipComment&&(p=xn.skipComment),xn.raw&&(Kt=xn.createLiteral),(xn.range||xn.loc)&&(Q=xn.parseAdditiveExpression,ct=xn.parseAssignmentExpression,rt=xn.parseBitwiseANDExpression,at=xn.parseBitwiseORExpression,it=xn.parseBitwiseXORExpression,dt=xn.parseBlock,Ft=xn.parseFunctionSourceElements,jt=xn.parseCatchClause,V=xn.parseComputedMember,lt=xn.parseConditionalExpression,vt=xn.parseConstLetDeclaration,nt=xn.parseEqualityExpression,ut=xn.parseExpression,St=xn.parseForVariableDeclaration,Pt=xn.parseFunctionDeclaration,qt=xn.parseFunctionExpression,B=xn.parseGroupExpression,Y=xn.parseLeftHandSideExpression,K=xn.parseLeftHandSideExpressionAllowCall,ot=xn.parseLogicalANDExpression,st=xn.parseLogicalORExpression,Z=xn.parseMultiplicativeExpression,G=xn.parseNewExpression,R=xn.parseNonComputedProperty,H=xn.parseObjectProperty,q=xn.parseObjectPropertyKey,W=xn.parsePrimaryExpression,X=xn.parsePostfixExpression,Bt=xn.parseProgram,P=xn.parsePropertyFunction,tt=xn.parseRelationalExpression,Ot=xn.parseStatement,et=xn.parseShiftExpression,At=xn.parseSwitchCase,J=xn.parseUnaryExpression,pt=xn.parseVariableDeclaration,ft=xn.parseVariableIdentifier),"function"==typeof xn.scanRegExp&&(k=xn.advance,w=xn.scanRegExp)}function an(e){var t,n=e.length,r=[];for(t=0;n>t;++t)r[t]=e.charAt(t);return r}function on(e,t){var n,r;r=String,"string"==typeof e||e instanceof String||(e=r(e)),fn=e,mn=0,gn=fn.length>0?1:0,vn=0,yn=fn.length,bn=null,wn={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1},xn={},"undefined"!=typeof t&&(xn.range="boolean"==typeof t.range&&t.range,xn.loc="boolean"==typeof t.loc&&t.loc,xn.raw="boolean"==typeof t.raw&&t.raw,"boolean"==typeof t.tokens&&t.tokens&&(xn.tokens=[]),"boolean"==typeof t.comment&&t.comment&&(xn.comments=[]),"boolean"==typeof t.tolerant&&t.tolerant&&(xn.errors=[])),yn>0&&"undefined"==typeof fn[0]&&(e instanceof String&&(fn=e.valueOf()),"undefined"==typeof fn[0]&&(fn=an(e))),nn();try{n=Bt(),"undefined"!=typeof xn.comments&&(Rt(),n.comments=xn.comments),"undefined"!=typeof xn.tokens&&(Gt(),n.tokens=xn.tokens),"undefined"!=typeof xn.errors&&(n.errors=xn.errors),(xn.range||xn.loc)&&(n.body=en(n.body))}catch(i){throw i}finally{rn(),xn={}}return n}var sn,ln,cn,un,hn,dn,fn,pn,mn,gn,vn,yn,bn,wn,xn;sn={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8},ln={},ln[sn.BooleanLiteral]="Boolean",ln[sn.EOF]="<end>",ln[sn.Identifier]="Identifier",ln[sn.Keyword]="Keyword",ln[sn.NullLiteral]="Null",ln[sn.NumericLiteral]="Numeric",ln[sn.Punctuator]="Punctuator",ln[sn.StringLiteral]="String",cn={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},un={Data:1,Get:2,Set:4},hn={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},dn={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԧԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠࢢ-ࢬࣤ-ࣾऀ-ॣ०-९ॱ-ॷॹ-ॿঁ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఁ-ఃఅ-ఌఎ-ఐఒ-నప-ళవ-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಂಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲംഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤜᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶᴀ-ᷦ᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚗꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺꩻꪀ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︦︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},"undefined"==typeof"esprima"[0]&&(n=function(e,t){return fn.slice(e,t).join("")}),e.version="1.0.4",e.parse=on,e.Syntax=function(){var e,t={};"function"==typeof Object.create&&(t=Object.create(null));for(e in cn)cn.hasOwnProperty(e)&&(t[e]=cn[e]);return"function"==typeof Object.freeze&&Object.freeze(t),t}()})}()},{}]},{},[4]);